{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lookup = exports.separateOptions = exports.selectOptionsFromKeys = exports.selectOptions = exports.userOptions = exports.defaultOptions = exports.insert = exports.copy = exports.keys = exports.makeArray = exports.expandable = exports.Expandable = exports.OPTIONS = exports.REMOVE = exports.APPEND = exports.isObject = void 0;\nvar OBJECT = {}.constructor;\n\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && (obj.constructor === OBJECT || obj.constructor === Expandable);\n}\n\nexports.isObject = isObject;\nexports.APPEND = '[+]';\nexports.REMOVE = '[-]';\nexports.OPTIONS = {\n  invalidOption: 'warn',\n  optionError: function optionError(message, _key) {\n    if (exports.OPTIONS.invalidOption === 'fatal') {\n      throw new Error(message);\n    }\n\n    console.warn('MathJax: ' + message);\n  }\n};\n\nvar Expandable = function () {\n  function Expandable() {}\n\n  return Expandable;\n}();\n\nexports.Expandable = Expandable;\n\nfunction expandable(def) {\n  return Object.assign(Object.create(Expandable.prototype), def);\n}\n\nexports.expandable = expandable;\n\nfunction makeArray(x) {\n  return Array.isArray(x) ? x : [x];\n}\n\nexports.makeArray = makeArray;\n\nfunction keys(def) {\n  if (!def) {\n    return [];\n  }\n\n  return Object.keys(def).concat(Object.getOwnPropertySymbols(def));\n}\n\nexports.keys = keys;\n\nfunction copy(def) {\n  var e_1, _a;\n\n  var props = {};\n\n  try {\n    for (var _b = __values(keys(def)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var prop = Object.getOwnPropertyDescriptor(def, key);\n      var value = prop.value;\n\n      if (Array.isArray(value)) {\n        prop.value = insert([], value, false);\n      } else if (isObject(value)) {\n        prop.value = copy(value);\n      }\n\n      if (prop.enumerable) {\n        props[key] = prop;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return Object.defineProperties(def.constructor === Expandable ? expandable({}) : {}, props);\n}\n\nexports.copy = copy;\n\nfunction insert(dst, src, warn) {\n  var e_2, _a;\n\n  if (warn === void 0) {\n    warn = true;\n  }\n\n  var _loop_1 = function _loop_1(key) {\n    if (warn && dst[key] === undefined && dst.constructor !== Expandable) {\n      if (typeof key === 'symbol') {\n        key = key.toString();\n      }\n\n      exports.OPTIONS.optionError(\"Invalid option \\\"\".concat(key, \"\\\" (no default value).\"), key);\n      return \"continue\";\n    }\n\n    var sval = src[key],\n        dval = dst[key];\n\n    if (isObject(sval) && dval !== null && (typeof dval === 'object' || typeof dval === 'function')) {\n      var ids = keys(sval);\n\n      if (Array.isArray(dval) && (ids.length === 1 && (ids[0] === exports.APPEND || ids[0] === exports.REMOVE) && Array.isArray(sval[ids[0]]) || ids.length === 2 && ids.sort().join(',') === exports.APPEND + ',' + exports.REMOVE && Array.isArray(sval[exports.APPEND]) && Array.isArray(sval[exports.REMOVE]))) {\n        if (sval[exports.REMOVE]) {\n          dval = dst[key] = dval.filter(function (x) {\n            return sval[exports.REMOVE].indexOf(x) < 0;\n          });\n        }\n\n        if (sval[exports.APPEND]) {\n          dst[key] = __spreadArray(__spreadArray([], __read(dval), false), __read(sval[exports.APPEND]), false);\n        }\n      } else {\n        insert(dval, sval, warn);\n      }\n    } else if (Array.isArray(sval)) {\n      dst[key] = [];\n      insert(dst[key], sval, false);\n    } else if (isObject(sval)) {\n      dst[key] = copy(sval);\n    } else {\n      dst[key] = sval;\n    }\n  };\n\n  try {\n    for (var _b = __values(keys(src)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n\n      _loop_1(key);\n    }\n  } catch (e_2_1) {\n    e_2 = {\n      error: e_2_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n\n  return dst;\n}\n\nexports.insert = insert;\n\nfunction defaultOptions(options) {\n  var defs = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    defs[_i - 1] = arguments[_i];\n  }\n\n  defs.forEach(function (def) {\n    return insert(options, def, false);\n  });\n  return options;\n}\n\nexports.defaultOptions = defaultOptions;\n\nfunction userOptions(options) {\n  var defs = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    defs[_i - 1] = arguments[_i];\n  }\n\n  defs.forEach(function (def) {\n    return insert(options, def, true);\n  });\n  return options;\n}\n\nexports.userOptions = userOptions;\n\nfunction selectOptions(options) {\n  var e_3, _a;\n\n  var keys = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    keys[_i - 1] = arguments[_i];\n  }\n\n  var subset = {};\n\n  try {\n    for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n      var key = keys_1_1.value;\n\n      if (options.hasOwnProperty(key)) {\n        subset[key] = options[key];\n      }\n    }\n  } catch (e_3_1) {\n    e_3 = {\n      error: e_3_1\n    };\n  } finally {\n    try {\n      if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n    } finally {\n      if (e_3) throw e_3.error;\n    }\n  }\n\n  return subset;\n}\n\nexports.selectOptions = selectOptions;\n\nfunction selectOptionsFromKeys(options, object) {\n  return selectOptions.apply(void 0, __spreadArray([options], __read(Object.keys(object)), false));\n}\n\nexports.selectOptionsFromKeys = selectOptionsFromKeys;\n\nfunction separateOptions(options) {\n  var e_4, _a, e_5, _b;\n\n  var objects = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    objects[_i - 1] = arguments[_i];\n  }\n\n  var results = [];\n\n  try {\n    for (var objects_1 = __values(objects), objects_1_1 = objects_1.next(); !objects_1_1.done; objects_1_1 = objects_1.next()) {\n      var object = objects_1_1.value;\n      var exists = {},\n          missing = {};\n\n      try {\n        for (var _c = (e_5 = void 0, __values(Object.keys(options || {}))), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var key = _d.value;\n          (object[key] === undefined ? missing : exists)[key] = options[key];\n        }\n      } catch (e_5_1) {\n        e_5 = {\n          error: e_5_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        } finally {\n          if (e_5) throw e_5.error;\n        }\n      }\n\n      results.push(exists);\n      options = missing;\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (objects_1_1 && !objects_1_1.done && (_a = objects_1.return)) _a.call(objects_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  results.unshift(options);\n  return results;\n}\n\nexports.separateOptions = separateOptions;\n\nfunction lookup(name, lookup, def) {\n  if (def === void 0) {\n    def = null;\n  }\n\n  return lookup.hasOwnProperty(name) ? lookup[name] : def;\n}\n\nexports.lookup = lookup;","map":{"version":3,"mappings":"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","names":["OBJECT","constructor","isObject","obj","Expandable","exports","invalidOption","optionError","message","_key","Error","console","warn","expandable","def","Object","assign","create","prototype","makeArray","x","Array","isArray","keys","concat","getOwnPropertySymbols","copy","props","_c","key","prop","getOwnPropertyDescriptor","value","insert","enumerable","defineProperties","dst","src","undefined","toString","sval","dval","ids","length","sort","join","filter","indexOf","__spreadArray","__read","defaultOptions","options","defs","forEach","userOptions","selectOptions","subset","keys_1_1","hasOwnProperty","selectOptionsFromKeys","object","separateOptions","objects","results","objects_1_1","exists","missing","_d","push","unshift","lookup","name"],"sourceRoot":"","sources":["../../ts/util/Options.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}