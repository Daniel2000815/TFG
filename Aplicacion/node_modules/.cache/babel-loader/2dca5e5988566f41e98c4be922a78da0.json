{"ast":null,"code":"import _defineProperty from\"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext}from\"react\";import Shader from\"../CustomComponents/Shader\";import{useTheme}from'@mui/material/styles';import{fs}from\"../ShaderStuff/fragmentShaderMovable\";import Dropdown from\"../CustomComponents/Dropdown\";import CustomHandle from\"./CustomHandle\";import GraphContext from\"../GraphContext.js\";import Button from\"@mui/material/Button\";import ToggleButton from\"../CustomComponents/ToggleButton\";export default function CustomNode(props){var _nodeStyle;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),showMore=_React$useState2[0],setShowMore=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isHover=_React$useState4[0],setIsHover=_React$useState4[1];var sharedFunctions=useContext(GraphContext);var theme=useTheme();var nodeStyle=(_nodeStyle={position:\"relative\",width:\"200px\",display:\"flex\",flexDirection:\"column\",transition:\"border 300ms ease\",boxShadow:\"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\",borderRadius:\"7px 7px 7px 7px\",borderBottomWidth:\"10px solid #000\",backgroundColor:\"#fff\"},_defineProperty(_nodeStyle,\"boxShadow\",isHover?\"0 6px 12px rgba(0, 0, 0, 0.25), 0 6px 12px rgba(0, 0, 0, 0.25)\":\"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\"),_defineProperty(_nodeStyle,\"border\",isHover?\"1px solid \".concat(theme.palette.primary.dark):\"1px solid \".concat(theme.palette.primary.main)),_defineProperty(_nodeStyle,\"&:hover\",{transition:\"box-shadow 200ms ease\",boxShadow:\"0 6px 12px rgba(0, 0, 0, 0.25), 0 6px 12px rgba(0, 0, 0, 0.25)\",border:\"1px solid \".concat(theme.palette.primary.dark)}),_nodeStyle);var headerStyle={flexGrow:\"1\",marginBottom:\"16px\",height:\"20px\",width:\"100%\",color:\"#EFF7FF\",borderRadius:\"5px 5px 0px 0px\",borderBottomWidth:\"10px solid #000\",textAlign:\"center\",fontWeight:\"600\",fontSize:\"14px\",letterSpacing:\"0.1px\",justifyContent:\"flex-start\",backgroundColor:\"\".concat(theme.palette.primary.main)};var handleMouseEnter=function handleMouseEnter(){setIsHover(true);};var handleMouseLeave=function handleMouseLeave(){setIsHover(false);};useEffect(function(){console.log(\"SDF DE \".concat(props.id,\" MODIFICADO\"));sharedFunctions.updateNodeSdf(props.id,props.sdf);console.log(props.dropdownOptions[0]);},[props.sdf]);return/*#__PURE__*/React.createElement(\"div\",{className:\"nodeBody\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,style:nodeStyle},/*#__PURE__*/React.createElement(\"div\",{className:\"nodeHeader\",style:headerStyle},props.title),props.dropdownOptions?/*#__PURE__*/React.createElement(Dropdown,{defaultValue:props.dropdownOptions[0],onChange:props.onChangeOption,items:props.dropdownOptions,label:props.title}):null,/*#__PURE__*/React.createElement(CustomHandle,{id:\"0\",type:\"target\",onConnect:function onConnect(params){return console.log(\"handle ss\",params);},style:{top:\"45%\"}}),/*#__PURE__*/React.createElement(CustomHandle,{id:\"1\",type:\"target\",onConnect:function onConnect(params){return props.data.updateBooleanPrimitive(params.source,params.target);},style:{top:\"55%\"}}),/*#__PURE__*/React.createElement(CustomHandle,{id:\"2\",type:\"source\",onConnect:function onConnect(params){return console.log(\"handle onsConnect\",params);},style:{top:\"50%\"}}),showMore?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,\"ID: \".concat(props.id)),/*#__PURE__*/React.createElement(\"p\",null,\"CHILDREN:\",\" \",Object.keys(props.data.children).map(function(key){return\"\".concat(props.data.children[key]);}).join(\", \")),/*#__PURE__*/React.createElement(\"p\",null,\"SDF: \".concat(props.sdf)),props.body,/*#__PURE__*/React.createElement(Shader,{shader:fs(props.sdf),uniforms:{color:{type:\"3fv\",value:[1.0,1.0,0.0]}},style:{margin:\"10px\",height:\"100%\"}})):null,/*#__PURE__*/React.createElement(ToggleButton,{value:showMore,onClick:function onClick(){return setShowMore(!showMore);}}));}","map":{"version":3,"names":["React","useEffect","useContext","Shader","useTheme","fs","Dropdown","CustomHandle","GraphContext","Button","ToggleButton","CustomNode","props","useState","showMore","setShowMore","isHover","setIsHover","sharedFunctions","theme","nodeStyle","position","width","display","flexDirection","transition","boxShadow","borderRadius","borderBottomWidth","backgroundColor","palette","primary","dark","main","border","headerStyle","flexGrow","marginBottom","height","color","textAlign","fontWeight","fontSize","letterSpacing","justifyContent","handleMouseEnter","handleMouseLeave","console","log","id","updateNodeSdf","sdf","dropdownOptions","title","onChangeOption","params","top","data","updateBooleanPrimitive","source","target","Object","keys","children","map","key","join","body","type","value","margin"],"sources":["G:/gitlab/TFG/Aplicacion/src/CustomNodes/CustomNode.js"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport Shader from \"../CustomComponents/Shader\";\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport { fs } from \"../ShaderStuff/fragmentShaderMovable\";\r\nimport Dropdown from \"../CustomComponents/Dropdown\";\r\nimport CustomHandle from \"./CustomHandle\";\r\nimport GraphContext from \"../GraphContext.js\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nimport ToggleButton from \"../CustomComponents/ToggleButton\";\r\n\r\nexport default function CustomNode(props) {\r\n  const [showMore, setShowMore] = React.useState(true);\r\n  const [isHover, setIsHover] = React.useState(false);\r\n\r\n  const sharedFunctions = useContext(GraphContext);\r\n  const theme = useTheme();\r\n\r\n  const nodeStyle = {\r\n    position: \"relative\",\r\n    width: \"200px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    transition: \"border 300ms ease\",\r\n    boxShadow: \"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\",\r\n    borderRadius: \"7px 7px 7px 7px\",\r\n    borderBottomWidth: \"10px solid #000\",\r\n    backgroundColor: \"#fff\",\r\n\r\n    boxShadow: isHover ?\r\n      \"0 6px 12px rgba(0, 0, 0, 0.25), 0 6px 12px rgba(0, 0, 0, 0.25)\" :\r\n      \"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\",\r\n\r\n    border: isHover ?\r\n      `1px solid ${theme.palette.primary.dark}` :\r\n      `1px solid ${theme.palette.primary.main}`,\r\n\r\n    \"&:hover\": {\r\n      transition: \"box-shadow 200ms ease\",\r\n      boxShadow: \"0 6px 12px rgba(0, 0, 0, 0.25), 0 6px 12px rgba(0, 0, 0, 0.25)\",\r\n      border: `1px solid ${theme.palette.primary.dark}`\r\n    },\r\n  }\r\n\r\n\r\n  const headerStyle = {\r\n    flexGrow: \"1\",\r\n    marginBottom: \"16px\",\r\n    height: \"20px\",\r\n    width: \"100%\",\r\n    color: \"#EFF7FF\",\r\n    borderRadius: \"5px 5px 0px 0px\",\r\n    borderBottomWidth: \"10px solid #000\",\r\n    textAlign: \"center\",\r\n    fontWeight: \"600\",\r\n    fontSize: \"14px\",\r\n    letterSpacing: \"0.1px\",\r\n    justifyContent: \"flex-start\",\r\n    backgroundColor: `${theme.palette.primary.main}`\r\n  }\r\n\r\n  const handleMouseEnter = () => {\r\n    setIsHover(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setIsHover(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(`SDF DE ${props.id} MODIFICADO`);\r\n    sharedFunctions.updateNodeSdf(props.id, props.sdf);\r\n    console.log(props.dropdownOptions[0]);\r\n  }, [props.sdf]);\r\n\r\n  return (\r\n    <div className=\"nodeBody\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave} style={nodeStyle}>\r\n      <div className=\"nodeHeader\" style={headerStyle}>{props.title}</div>\r\n      \r\n      {props.dropdownOptions ? (\r\n        <Dropdown\r\n          defaultValue={props.dropdownOptions[0]}\r\n          onChange={props.onChangeOption}\r\n          items={props.dropdownOptions}\r\n          label={props.title}\r\n        />\r\n      ) : null}\r\n\r\n      <CustomHandle\r\n        id={\"0\"}\r\n        type=\"target\"\r\n        onConnect={(params) => console.log(\"handle ss\", params)}\r\n        style={{ top: \"45%\" }}\r\n      />\r\n      <CustomHandle\r\n        id={\"1\"}\r\n        type=\"target\"\r\n        onConnect={(params) =>\r\n          props.data.updateBooleanPrimitive(params.source, params.target)\r\n        }\r\n        style={{ top: \"55%\" }}\r\n      />\r\n      <CustomHandle\r\n        id={\"2\"}\r\n        type=\"source\"\r\n        onConnect={(params) => console.log(\"handle onsConnect\", params)}\r\n        style={{ top: \"50%\" }}\r\n\r\n      />\r\n\r\n\r\n      {showMore ? (\r\n        <>\r\n          <p>{`ID: ${props.id}`}</p>\r\n          <p>\r\n            CHILDREN:{\" \"}\r\n            {Object.keys(props.data.children)\r\n              .map((key) => `${props.data.children[key]}`)\r\n              .join(\", \")}\r\n          </p>\r\n          <p>{`SDF: ${props.sdf}`}</p>\r\n\r\n\r\n\r\n          {props.body}\r\n          <Shader\r\n            shader={fs(props.sdf)}\r\n            uniforms={{\r\n              color: { type: \"3fv\", value: [1.0, 1.0, 0.0] },\r\n\r\n            }}\r\n            style={{ margin: \"10px\", height: \"100%\" }}\r\n          />\r\n        </>\r\n      ) : null}\r\n\r\n\r\n      <ToggleButton value={showMore} onClick={() => setShowMore(!showMore)} />\r\n      \r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"gTAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CACA,OAASC,QAAT,KAAyB,sBAAzB,CAEA,OAASC,EAAT,KAAmB,sCAAnB,CACA,MAAOC,SAAP,KAAqB,8BAArB,CACA,MAAOC,aAAP,KAAyB,gBAAzB,CACA,MAAOC,aAAP,KAAyB,oBAAzB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CAEA,MAAOC,aAAP,KAAyB,kCAAzB,CAEA,cAAe,SAASC,WAAT,CAAoBC,KAApB,CAA2B,gBACxC,oBAAgCZ,KAAK,CAACa,QAAN,CAAe,IAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8Bf,KAAK,CAACa,QAAN,CAAe,KAAf,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBAEA,GAAMC,gBAAe,CAAGhB,UAAU,CAACM,YAAD,CAAlC,CACA,GAAMW,MAAK,CAAGf,QAAQ,EAAtB,CAEA,GAAMgB,UAAS,cACbC,QAAQ,CAAE,UADG,CAEbC,KAAK,CAAE,OAFM,CAGbC,OAAO,CAAE,MAHI,CAIbC,aAAa,CAAE,QAJF,CAKbC,UAAU,CAAE,mBALC,CAMbC,SAAS,CAAE,8DANE,CAObC,YAAY,CAAE,iBAPD,CAQbC,iBAAiB,CAAE,iBARN,CASbC,eAAe,CAAE,MATJ,yCAWFb,OAAO,CAChB,gEADgB,CAEhB,8DAbW,sCAeLA,OAAO,qBACAG,KAAK,CAACW,OAAN,CAAcC,OAAd,CAAsBC,IADtB,sBAEAb,KAAK,CAACW,OAAN,CAAcC,OAAd,CAAsBE,IAFtB,CAfF,6BAmBb,SAnBa,CAmBF,CACTR,UAAU,CAAE,uBADH,CAETC,SAAS,CAAE,gEAFF,CAGTQ,MAAM,qBAAef,KAAK,CAACW,OAAN,CAAcC,OAAd,CAAsBC,IAArC,CAHG,CAnBE,aAAf,CA2BA,GAAMG,YAAW,CAAG,CAClBC,QAAQ,CAAE,GADQ,CAElBC,YAAY,CAAE,MAFI,CAGlBC,MAAM,CAAE,MAHU,CAIlBhB,KAAK,CAAE,MAJW,CAKlBiB,KAAK,CAAE,SALW,CAMlBZ,YAAY,CAAE,iBANI,CAOlBC,iBAAiB,CAAE,iBAPD,CAQlBY,SAAS,CAAE,QARO,CASlBC,UAAU,CAAE,KATM,CAUlBC,QAAQ,CAAE,MAVQ,CAWlBC,aAAa,CAAE,OAXG,CAYlBC,cAAc,CAAE,YAZE,CAalBf,eAAe,WAAKV,KAAK,CAACW,OAAN,CAAcC,OAAd,CAAsBE,IAA3B,CAbG,CAApB,CAgBA,GAAMY,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B5B,UAAU,CAAC,IAAD,CAAV,CACD,CAFD,CAIA,GAAM6B,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B7B,UAAU,CAAC,KAAD,CAAV,CACD,CAFD,CAIAhB,SAAS,CAAC,UAAM,CACd8C,OAAO,CAACC,GAAR,kBAAsBpC,KAAK,CAACqC,EAA5B,iBACA/B,eAAe,CAACgC,aAAhB,CAA8BtC,KAAK,CAACqC,EAApC,CAAwCrC,KAAK,CAACuC,GAA9C,EACAJ,OAAO,CAACC,GAAR,CAAYpC,KAAK,CAACwC,eAAN,CAAsB,CAAtB,CAAZ,EACD,CAJQ,CAIN,CAACxC,KAAK,CAACuC,GAAP,CAJM,CAAT,CAMA,mBACE,2BAAK,SAAS,CAAC,UAAf,CAA0B,YAAY,CAAEN,gBAAxC,CAA0D,YAAY,CAAEC,gBAAxE,CAA0F,KAAK,CAAE1B,SAAjG,eACE,2BAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAEe,WAAnC,EAAiDvB,KAAK,CAACyC,KAAvD,CADF,CAGGzC,KAAK,CAACwC,eAAN,cACC,oBAAC,QAAD,EACE,YAAY,CAAExC,KAAK,CAACwC,eAAN,CAAsB,CAAtB,CADhB,CAEE,QAAQ,CAAExC,KAAK,CAAC0C,cAFlB,CAGE,KAAK,CAAE1C,KAAK,CAACwC,eAHf,CAIE,KAAK,CAAExC,KAAK,CAACyC,KAJf,EADD,CAOG,IAVN,cAYE,oBAAC,YAAD,EACE,EAAE,CAAE,GADN,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAE,mBAACE,MAAD,QAAYR,QAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBO,MAAzB,CAAZ,EAHb,CAIE,KAAK,CAAE,CAAEC,GAAG,CAAE,KAAP,CAJT,EAZF,cAkBE,oBAAC,YAAD,EACE,EAAE,CAAE,GADN,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAE,mBAACD,MAAD,QACT3C,MAAK,CAAC6C,IAAN,CAAWC,sBAAX,CAAkCH,MAAM,CAACI,MAAzC,CAAiDJ,MAAM,CAACK,MAAxD,CADS,EAHb,CAME,KAAK,CAAE,CAAEJ,GAAG,CAAE,KAAP,CANT,EAlBF,cA0BE,oBAAC,YAAD,EACE,EAAE,CAAE,GADN,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAE,mBAACD,MAAD,QAAYR,QAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCO,MAAjC,CAAZ,EAHb,CAIE,KAAK,CAAE,CAAEC,GAAG,CAAE,KAAP,CAJT,EA1BF,CAmCG1C,QAAQ,cACP,qDACE,2CAAWF,KAAK,CAACqC,EAAjB,EADF,cAEE,yCACY,GADZ,CAEGY,MAAM,CAACC,IAAP,CAAYlD,KAAK,CAAC6C,IAAN,CAAWM,QAAvB,EACEC,GADF,CACM,SAACC,GAAD,kBAAYrD,KAAK,CAAC6C,IAAN,CAAWM,QAAX,CAAoBE,GAApB,CAAZ,GADN,EAEEC,IAFF,CAEO,IAFP,CAFH,CAFF,cAQE,4CAAYtD,KAAK,CAACuC,GAAlB,EARF,CAYGvC,KAAK,CAACuD,IAZT,cAaE,oBAAC,MAAD,EACE,MAAM,CAAE9D,EAAE,CAACO,KAAK,CAACuC,GAAP,CADZ,CAEE,QAAQ,CAAE,CACRZ,KAAK,CAAE,CAAE6B,IAAI,CAAE,KAAR,CAAeC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAtB,CADC,CAFZ,CAME,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAV,CAAkBhC,MAAM,CAAE,MAA1B,CANT,EAbF,CADO,CAuBL,IA1DN,cA6DE,oBAAC,YAAD,EAAc,KAAK,CAAExB,QAArB,CAA+B,OAAO,CAAE,yBAAMC,YAAW,CAAC,CAACD,QAAF,CAAjB,EAAxC,EA7DF,CADF,CAkED"},"metadata":{},"sourceType":"module"}