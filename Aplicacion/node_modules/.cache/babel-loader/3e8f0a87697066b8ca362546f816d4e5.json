{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import{Handle}from\"react-flow-renderer\";import Shader from\"./Shader\";import{fs}from\"./fragmentShader\";import Dropdown from\"./Dropdown\";var BooleanOperations={Union:\"Union\",Difference:\"Difference\",Intersection:\"Intersection\"};export default function BooleanNode(_ref){var data=_ref.data,id=_ref.id;var _React$useState=React.useState(BooleanOperations.Union),_React$useState2=_slicedToArray(_React$useState,2),operation=_React$useState2[0],setOperation=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),operationSdf=_React$useState4[0],setOperationSdf=_React$useState4[1];useEffect(function(){console.log(\"SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO. AHORA HAY \".concat(data.sdfs.length));if(operation===BooleanOperations.Union)setOperationSdf(\"min(\".concat(data.sdfs[0],\",\").concat(data.sdfs[1],\")\"));},[data]);return/*#__PURE__*/React.createElement(\"div\",{className:\"custom-node\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-node-header\"},\"Boolean\"),operationSdf,/*#__PURE__*/React.createElement(Dropdown,{value:operation,onChange:setOperation,items:[BooleanOperations.Union,BooleanOperations.Difference,BooleanOperations.Intersection],label:\"Operation\"}),/*#__PURE__*/React.createElement(Handle,{type:\"target\",id:\"0\",style:{left:\"30%\"},position:\"top\",onConnect:function onConnect(params){return console.log(\"handle ss\",params);}}),/*#__PURE__*/React.createElement(Handle,{type:\"target\",id:\"1\",style:{left:\"60%\"},position:\"top\",onConnect:function onConnect(params){return data.updateBooleanPrimitive(params.source,params.target);}}),/*#__PURE__*/React.createElement(Handle,{type:\"source\",id:2,style:{left:\"50%\"},position:\"bottom\",onConnect:function onConnect(params){return console.log(\"handle onsConnect\",params);}}),/*#__PURE__*/React.createElement(Shader,{shader:fs(\"\".concat(operationSdf)),uniforms:{color:{type:\"3fv\",value:[1.0,1.0,0.0]}},style:{margin:\"10px\"}}));}","map":{"version":3,"names":["React","useEffect","Handle","Shader","fs","Dropdown","BooleanOperations","Union","Difference","Intersection","BooleanNode","data","id","useState","operation","setOperation","operationSdf","setOperationSdf","console","log","sdfs","length","left","params","updateBooleanPrimitive","source","target","color","type","value","margin"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/BooleanNode.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport Shader from \"./Shader\";\r\nimport { fs } from \"./fragmentShader\";\r\nimport Dropdown from \"./Dropdown\";\r\n\r\nconst BooleanOperations = {\r\n  Union: \"Union\",\r\n  Difference: \"Difference\",\r\n  Intersection: \"Intersection\",\r\n};\r\n\r\nexport default function BooleanNode({ data, id }) {\r\n  const [operation, setOperation] = React.useState(BooleanOperations.Union);\r\n  const [operationSdf, setOperationSdf] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(`SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO. AHORA HAY ${data.sdfs.length}`);\r\n    if(operation===BooleanOperations.Union)\r\n      setOperationSdf(`min(${data.sdfs[0]},${data.sdfs[1]})`)\r\n  }, [data]);\r\n\r\n  return (\r\n    <div className=\"custom-node\">\r\n      <div className=\"custom-node-header\">Boolean</div>\r\n      {operationSdf}\r\n      <Dropdown\r\n        value={operation}\r\n        onChange={setOperation}\r\n        items={[\r\n          BooleanOperations.Union,\r\n          BooleanOperations.Difference,\r\n          BooleanOperations.Intersection,\r\n        ]}\r\n        label=\"Operation\"\r\n      />\r\n\r\n      <Handle\r\n        type=\"target\"\r\n        id={\"0\"}\r\n        style={{ left: \"30%\" }}\r\n        position=\"top\"\r\n        onConnect={(params) => console.log(\"handle ss\", params)}\r\n      />\r\n      <Handle\r\n        type=\"target\"\r\n        id={\"1\"}\r\n        style={{ left: \"60%\" }}\r\n        position=\"top\"\r\n        onConnect={(params) =>\r\n          data.updateBooleanPrimitive(params.source, params.target)\r\n        }\r\n      />\r\n      <Handle\r\n        type=\"source\"\r\n        id={2}\r\n        style={{ left: \"50%\" }}\r\n        position=\"bottom\"\r\n        onConnect={(params) => console.log(\"handle onsConnect\", params)}\r\n      />\r\n\r\n      <Shader\r\n        shader={fs(`${operationSdf}`)}\r\n        uniforms={{ color: { type: \"3fv\", value: [1.0, 1.0, 0.0] } }}\r\n        style={{ margin: \"10px\" }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"6JAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,OAASC,EAAT,KAAmB,kBAAnB,CACA,MAAOC,SAAP,KAAqB,YAArB,CAEA,GAAMC,kBAAiB,CAAG,CACxBC,KAAK,CAAE,OADiB,CAExBC,UAAU,CAAE,YAFY,CAGxBC,YAAY,CAAE,cAHU,CAA1B,CAMA,cAAe,SAASC,YAAT,MAAmC,IAAZC,KAAY,MAAZA,IAAY,CAANC,EAAM,MAANA,EAAM,CAChD,oBAAkCZ,KAAK,CAACa,QAAN,CAAeP,iBAAiB,CAACC,KAAjC,CAAlC,oDAAOO,SAAP,qBAAkBC,YAAlB,qBACA,qBAAwCf,KAAK,CAACa,QAAN,CAAe,EAAf,CAAxC,qDAAOG,YAAP,qBAAqBC,eAArB,qBAEAhB,SAAS,CAAC,UAAM,CACdiB,OAAO,CAACC,GAAR,iEAAqER,IAAI,CAACS,IAAL,CAAUC,MAA/E,GACA,GAAGP,SAAS,GAAGR,iBAAiB,CAACC,KAAjC,CACEU,eAAe,eAAQN,IAAI,CAACS,IAAL,CAAU,CAAV,CAAR,aAAwBT,IAAI,CAACS,IAAL,CAAU,CAAV,CAAxB,MAAf,CACH,CAJQ,CAIN,CAACT,IAAD,CAJM,CAAT,CAMA,mBACE,2BAAK,SAAS,CAAC,aAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,YADF,CAEGK,YAFH,cAGE,oBAAC,QAAD,EACE,KAAK,CAAEF,SADT,CAEE,QAAQ,CAAEC,YAFZ,CAGE,KAAK,CAAE,CACLT,iBAAiB,CAACC,KADb,CAELD,iBAAiB,CAACE,UAFb,CAGLF,iBAAiB,CAACG,YAHb,CAHT,CAQE,KAAK,CAAC,WARR,EAHF,cAcE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,EAAE,CAAE,GAFN,CAGE,KAAK,CAAE,CAAEa,IAAI,CAAE,KAAR,CAHT,CAIE,QAAQ,CAAC,KAJX,CAKE,SAAS,CAAE,mBAACC,MAAD,QAAYL,QAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBI,MAAzB,CAAZ,EALb,EAdF,cAqBE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,EAAE,CAAE,GAFN,CAGE,KAAK,CAAE,CAAED,IAAI,CAAE,KAAR,CAHT,CAIE,QAAQ,CAAC,KAJX,CAKE,SAAS,CAAE,mBAACC,MAAD,QACTZ,KAAI,CAACa,sBAAL,CAA4BD,MAAM,CAACE,MAAnC,CAA2CF,MAAM,CAACG,MAAlD,CADS,EALb,EArBF,cA8BE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,EAAE,CAAE,CAFN,CAGE,KAAK,CAAE,CAAEJ,IAAI,CAAE,KAAR,CAHT,CAIE,QAAQ,CAAC,QAJX,CAKE,SAAS,CAAE,mBAACC,MAAD,QAAYL,QAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCI,MAAjC,CAAZ,EALb,EA9BF,cAsCE,oBAAC,MAAD,EACE,MAAM,CAAEnB,EAAE,WAAIY,YAAJ,EADZ,CAEE,QAAQ,CAAE,CAAEW,KAAK,CAAE,CAAEC,IAAI,CAAE,KAAR,CAAeC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAtB,CAAT,CAFZ,CAGE,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAV,CAHT,EAtCF,CADF,CA8CD"},"metadata":{},"sourceType":"module"}