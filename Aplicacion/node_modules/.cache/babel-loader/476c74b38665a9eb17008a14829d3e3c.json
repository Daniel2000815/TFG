{"ast":null,"code":"import _slicedToArray from\"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import CustomNode from\"../CustomNodes/CustomNode\";import FloatInput from\"../CustomComponents/FloatInput.js\";import{createTheme,ThemeProvider}from'@mui/material/styles';var theme=createTheme({palette:{primary:{light:'#92bcff',main:'#609dff',dark:'#166cf5',contrastText:'white'}}});var Primitives={Sphere:\"Sphere\",Box:\"Box\",Torus:\"Torus\",Cylinder:\"Cylinder\"};export default function PrimitiveNode(_ref){var data=_ref.data,id=_ref.id;var _React$useState=React.useState(Primitives.Sphere),_React$useState2=_slicedToArray(_React$useState,2),primitive=_React$useState2[0],setPrimitive=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),sdf=_React$useState4[0],setSdf=_React$useState4[1];var _React$useState5=React.useState([1.0,1.0,1.0]),_React$useState6=_slicedToArray(_React$useState5,2),inputs=_React$useState6[0],setInputs=_React$useState6[1];var _React$useState7=React.useState([\"Radius\",\"\",\"\"]),_React$useState8=_slicedToArray(_React$useState7,2),inputLabels=_React$useState8[0],setInputLabels=_React$useState8[1];var _React$useState9=React.useState([true,false,false]),_React$useState10=_slicedToArray(_React$useState9,2),inputsActive=_React$useState10[0],setInputsActive=_React$useState10[1];var prepareInputs=function prepareInputs(label1){var label2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";var label3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";setInputLabels([label1,label2,label3]);setInputsActive([label1,label2,label3]);};useEffect(function(){console.log(\"ACTUALIZADO SDF\");if(primitive==Primitives.Sphere){setSdf(\"sphere(p, \".concat(inputs[0].toFixed(4),\")\"));prepareInputs(\"radius\");}else if(primitive==Primitives.Box){setSdf(\"box(p, vec3(\\n          \".concat(inputs[0].toFixed(4),\", \\n          \").concat(inputs[1].toFixed(4),\", \\n          \").concat(inputs[2].toFixed(4),\"\\n          )\\n        )\"));prepareInputs(\"sx\",\"sy\",\"sz\");}else if(primitive==Primitives.Torus){setSdf(\"torus(p, vec2(\\n          \".concat(inputs[0].toFixed(4),\", \\n          \").concat(inputs[1].toFixed(4),\"\\n          )\\n        )\"));prepareInputs(\"hole\",\"thickness\");}else if(primitive==Primitives.Cylinder){setSdf(\"cylinder(p, \\n          \".concat(inputs[0].toFixed(4),\", \\n          \").concat(inputs[1].toFixed(4),\"\\n        )\"));prepareInputs(\"height\",\"radius\");}},[primitive,inputs]);return/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(CustomNode,{title:\"Primitive\",id:id,data:data,dropdownOptions:Object.values(Primitives),body:/*#__PURE__*/React.createElement(React.Fragment,null,inputsActive[0]?/*#__PURE__*/React.createElement(FloatInput,{val:inputs[0],handleChange:function handleChange(newVal){return setInputs([newVal,inputs[1],inputs[2]]);},label:inputLabels[0]}):null,inputsActive[1]?/*#__PURE__*/React.createElement(FloatInput,{val:inputs[1],handleChange:function handleChange(newVal){return setInputs([inputs[0],newVal,inputs[2]]);},label:inputLabels[1]}):null,inputsActive[2]?/*#__PURE__*/React.createElement(FloatInput,{val:inputs[2],handleChange:function handleChange(newVal){return setInputs([inputs[0],inputs[1],newVal]);},label:inputLabels[2]}):null),onChangeOption:setPrimitive,sdf:sdf,currOption:primitive,nInputs:0}));}","map":{"version":3,"names":["React","useEffect","CustomNode","FloatInput","createTheme","ThemeProvider","theme","palette","primary","light","main","dark","contrastText","Primitives","Sphere","Box","Torus","Cylinder","PrimitiveNode","data","id","useState","primitive","setPrimitive","sdf","setSdf","inputs","setInputs","inputLabels","setInputLabels","inputsActive","setInputsActive","prepareInputs","label1","label2","label3","console","log","toFixed","Object","values","newVal"],"sources":["G:/gitlab/TFG/Aplicacion/src/CustomNodes/PrimitiveNode.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport CustomNode from \"../CustomNodes/CustomNode\";\r\nimport FloatInput from \"../CustomComponents/FloatInput.js\";\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#92bcff',\r\n      main: '#609dff',\r\n      dark: '#166cf5',\r\n      contrastText: 'white',\r\n    },\r\n  },\r\n});\r\n\r\nconst Primitives = {\r\n  Sphere: \"Sphere\",\r\n  Box: \"Box\",\r\n  Torus: \"Torus\",\r\n  Cylinder: \"Cylinder\",\r\n};\r\n\r\nexport default function PrimitiveNode({ data, id }) {\r\n  const [primitive, setPrimitive] = React.useState(Primitives.Sphere);\r\n  const [sdf, setSdf] = React.useState(\"\");\r\n  const [inputs, setInputs] = React.useState([1.0, 1.0, 1.0]);\r\n  const [inputLabels, setInputLabels] = React.useState([\"Radius\", \"\", \"\"]);\r\n  const [inputsActive, setInputsActive] = React.useState([true, false, false]);\r\n\r\n  const prepareInputs = (label1, label2 = \"\", label3 = \"\") => {\r\n    setInputLabels([label1, label2, label3]);\r\n    setInputsActive([label1, label2, label3]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"ACTUALIZADO SDF\");\r\n    if (primitive == Primitives.Sphere) {\r\n      setSdf(`sphere(p, ${inputs[0].toFixed(4)})`);\r\n      prepareInputs(\"radius\");\r\n    } else if (primitive == Primitives.Box) {\r\n      setSdf(\r\n        `box(p, vec3(\r\n          ${inputs[0].toFixed(4)}, \r\n          ${inputs[1].toFixed(4)}, \r\n          ${inputs[2].toFixed(4)}\r\n          )\r\n        )`\r\n      );\r\n      prepareInputs(\"sx\", \"sy\", \"sz\");\r\n    } else if (primitive == Primitives.Torus) {\r\n      setSdf(\r\n        `torus(p, vec2(\r\n          ${inputs[0].toFixed(4)}, \r\n          ${inputs[1].toFixed(4)}\r\n          )\r\n        )`\r\n      );\r\n      prepareInputs(\"hole\", \"thickness\");\r\n    } else if (primitive == Primitives.Cylinder) {\r\n      setSdf(\r\n        `cylinder(p, \r\n          ${inputs[0].toFixed(4)}, \r\n          ${inputs[1].toFixed(4)}\r\n        )`\r\n      );\r\n      prepareInputs(\"height\", \"radius\");\r\n    }\r\n  }, [primitive, inputs]);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CustomNode\r\n        title={\"Primitive\"}\r\n        id={id}\r\n        data={data}\r\n        dropdownOptions={Object.values(Primitives)}\r\n        body={\r\n          <>\r\n            {inputsActive[0] ? (\r\n              <FloatInput\r\n                val={inputs[0]}\r\n                handleChange={(newVal) =>\r\n                  setInputs([newVal, inputs[1], inputs[2]])\r\n                }\r\n                label={inputLabels[0]}\r\n              />\r\n            ) : null}\r\n            {inputsActive[1] ? (\r\n              <FloatInput\r\n                val={inputs[1]}\r\n                handleChange={(newVal) =>\r\n                  setInputs([inputs[0], newVal, inputs[2]])\r\n                }\r\n                label={inputLabels[1]}\r\n              />\r\n            ) : null}\r\n            {inputsActive[2] ? (\r\n              <FloatInput\r\n                val={inputs[2]}\r\n                handleChange={(newVal) =>\r\n                  setInputs([inputs[0], inputs[1], newVal])\r\n                }\r\n                label={inputLabels[2]}\r\n              />\r\n            ) : null}\r\n          </>\r\n        }\r\n        onChangeOption={setPrimitive}\r\n        sdf={sdf}\r\n        currOption={primitive}\r\n        nInputs={0}\r\n      />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}