{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\src\\\\CustomNodes\\\\DeformNode.js\";\nimport React, { memo, useEffect } from \"react\";\nimport CustomNode from \"../CustomNodes/CustomNode\";\nimport Slider from '@mui/material/Slider';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport FloatSlider from \"../CustomComponents/FloatSlider\";\nvar theme = createTheme({\n  palette: {\n    primary: {\n      light: '#a8f798',\n      main: '#3ec224',\n      dark: '#1c9404',\n      contrastText: 'white'\n    }\n  }\n});\nvar DeformOperations = {\n  Bend: \"Bend\",\n  Twist: \"Twist\"\n};\nfunction DeformNode(_ref) {\n  var data = _ref.data,\n    id = _ref.id;\n  var _React$useState = React.useState(DeformOperations.Bend),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    operation = _React$useState2[0],\n    setOperation = _React$useState2[1];\n  var _React$useState3 = React.useState(0.0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    k = _React$useState4[0],\n    setK = _React$useState4[1];\n  var _React$useState5 = React.useState(\"\"),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    sdf = _React$useState6[0],\n    setSdf = _React$useState6[1];\n  useEffect(function () {\n    console.log(\"SE HAN MODIFICADO LOS SDF EN NODO DEFORM \".concat(id, \". AHORA HAY \").concat(Object.keys(data.inputs).length));\n    var input = data.inputs[Object.keys(data.inputs)[0]];\n    if (input) {\n      console.log(\"OLD: \" + input);\n      console.log(typeof input);\n      setSdf(input.replace(\"p,\", \"sdf\".concat(operation, \"(p, \").concat(k, \"),\")));\n    }\n  }, [data, operation, k]);\n  var handleChange = function handleChange(ev, val) {\n    setK(parseFloat(val));\n  };\n  return /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CustomNode, {\n    title: \"Deform\",\n    id: id,\n    data: data,\n    dropdownOptions: Object.values(DeformOperations),\n    onChangeOption: setOperation,\n    sdf: sdf,\n    currOption: operation,\n    body: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"Amount\", /*#__PURE__*/React.createElement(FloatSlider, {\n      handleChange: handleChange,\n      range: [0, 5],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }));\n}\nexport default memo(DeformNode);","map":{"version":3,"names":["React","memo","useEffect","CustomNode","Slider","createTheme","ThemeProvider","FloatSlider","theme","palette","primary","light","main","dark","contrastText","DeformOperations","Bend","Twist","DeformNode","data","id","useState","operation","setOperation","k","setK","sdf","setSdf","console","log","Object","keys","inputs","length","input","replace","handleChange","ev","val","parseFloat","values","margin"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomNodes/DeformNode.js"],"sourcesContent":["import React, { memo, useEffect } from \"react\";\r\nimport CustomNode from \"../CustomNodes/CustomNode\";\r\nimport Slider from '@mui/material/Slider';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport FloatSlider from \"../CustomComponents/FloatSlider\";\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#a8f798',\r\n      main: '#3ec224',\r\n      dark: '#1c9404',\r\n      contrastText: 'white',\r\n    },\r\n  },\r\n});\r\n\r\nconst DeformOperations = {\r\n  Bend: \"Bend\",\r\n  Twist: \"Twist\",\r\n};\r\n\r\nfunction DeformNode({ data, id }) {\r\n  const [operation, setOperation] = React.useState(DeformOperations.Bend);\r\n  const [k, setK] = React.useState(0.0);\r\n\r\n  const [sdf, setSdf] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      `SE HAN MODIFICADO LOS SDF EN NODO DEFORM ${id}. AHORA HAY ${Object.keys(data.inputs).length\r\n      }`\r\n    );\r\n    \r\n    let input = data.inputs[Object.keys(data.inputs)[0]];\r\n\r\n    if(input){\r\n      console.log(\"OLD: \" + input);\r\n      console.log(typeof(input));\r\n      setSdf(input.replace(\"p,\", `sdf${operation}(p, ${k}),`));\r\n\r\n    }\r\n  }, [data, operation, k]);\r\n\r\n  const handleChange = (ev, val) => {\r\n    setK(parseFloat(val));\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n    <CustomNode\r\n      title={\"Deform\"}\r\n      id={id}\r\n      data={data}\r\n      dropdownOptions={Object.values(DeformOperations)}\r\n      onChangeOption={setOperation}\r\n      sdf={sdf}\r\n      currOption={operation}\r\n      body={\r\n        <div style={{ margin: 10 }}>\r\n            Amount\r\n         \r\n            <FloatSlider\r\n              handleChange={handleChange}\r\n              range={[0, 5]}\r\n            />\r\n            {/* <Slider\r\n              size=\"small\"\r\n              value={k}\r\n              label=\"k\"\r\n              onChange={(e, v) => setK(parseFloat(v))}\r\n              min={0}\r\n              max={5}\r\n              step={0.1}\r\n          />           */}\r\n        </div>\r\n      }\r\n    />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default memo(DeformNode);"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,IAAI,EAAEC,SAAS,QAAQ,OAAO;AAC9C,OAAOC,UAAU,MAAM,2BAA2B;AAClD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,WAAW,EAAEC,aAAa,QAAQ,sBAAsB;AACjE,OAAOC,WAAW,MAAM,iCAAiC;AAEzD,IAAMC,KAAK,GAAGH,WAAW,CAAC;EACxBI,OAAO,EAAE;IACPC,OAAO,EAAE;MACPC,KAAK,EAAE,SAAS;MAChBC,IAAI,EAAE,SAAS;MACfC,IAAI,EAAE,SAAS;MACfC,YAAY,EAAE;IAChB;EACF;AACF,CAAC,CAAC;AAEF,IAAMC,gBAAgB,GAAG;EACvBC,IAAI,EAAE,MAAM;EACZC,KAAK,EAAE;AACT,CAAC;AAED,SAASC,UAAU,OAAe;EAAA,IAAZC,IAAI,QAAJA,IAAI;IAAEC,EAAE,QAAFA,EAAE;EAC5B,sBAAkCpB,KAAK,CAACqB,QAAQ,CAACN,gBAAgB,CAACC,IAAI,CAAC;IAAA;IAAhEM,SAAS;IAAEC,YAAY;EAC9B,uBAAkBvB,KAAK,CAACqB,QAAQ,CAAC,GAAG,CAAC;IAAA;IAA9BG,CAAC;IAAEC,IAAI;EAEd,uBAAsBzB,KAAK,CAACqB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAjCK,GAAG;IAAEC,MAAM;EAElBzB,SAAS,CAAC,YAAM;IACd0B,OAAO,CAACC,GAAG,oDACmCT,EAAE,yBAAeU,MAAM,CAACC,IAAI,CAACZ,IAAI,CAACa,MAAM,CAAC,CAACC,MAAM,EAE7F;IAED,IAAIC,KAAK,GAAGf,IAAI,CAACa,MAAM,CAACF,MAAM,CAACC,IAAI,CAACZ,IAAI,CAACa,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAEpD,IAAGE,KAAK,EAAC;MACPN,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGK,KAAK,CAAC;MAC5BN,OAAO,CAACC,GAAG,CAAC,OAAOK,KAAM,CAAC;MAC1BP,MAAM,CAACO,KAAK,CAACC,OAAO,CAAC,IAAI,eAAQb,SAAS,iBAAOE,CAAC,QAAK,CAAC;IAE1D;EACF,CAAC,EAAE,CAACL,IAAI,EAAEG,SAAS,EAAEE,CAAC,CAAC,CAAC;EAExB,IAAMY,YAAY,GAAG,SAAfA,YAAY,CAAIC,EAAE,EAAEC,GAAG,EAAK;IAChCb,IAAI,CAACc,UAAU,CAACD,GAAG,CAAC,CAAC;EACvB,CAAC;EAED,oBACE,oBAAC,aAAa;IAAC,KAAK,EAAE9B,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC5B,oBAAC,UAAU;IACT,KAAK,EAAE,QAAS;IAChB,EAAE,EAAEY,EAAG;IACP,IAAI,EAAED,IAAK;IACX,eAAe,EAAEW,MAAM,CAACU,MAAM,CAACzB,gBAAgB,CAAE;IACjD,cAAc,EAAEQ,YAAa;IAC7B,GAAG,EAAEG,GAAI;IACT,UAAU,EAAEJ,SAAU;IACtB,IAAI,eACF;MAAK,KAAK,EAAE;QAAEmB,MAAM,EAAE;MAAG,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,0BAGvB,oBAAC,WAAW;MACV,YAAY,EAAEL,YAAa;MAC3B,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACd,CAWP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACD,CACc;AAEpB;AAEA,eAAenC,IAAI,CAACiB,UAAU,CAAC"},"metadata":{},"sourceType":"module"}