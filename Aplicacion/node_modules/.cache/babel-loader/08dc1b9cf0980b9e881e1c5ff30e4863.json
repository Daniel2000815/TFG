{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar defaultTimestep = 1 / 60 * 1000;\nvar getCurrentTime = typeof performance !== \"undefined\" ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nvar onNextFrame = typeof window !== \"undefined\" ? function (callback) {\n  return window.requestAnimationFrame(callback);\n} : function (callback) {\n  return setTimeout(function () {\n    return callback(getCurrentTime());\n  }, defaultTimestep);\n};\n\nfunction createRenderStep(runNextFrame) {\n  var toRun = [];\n  var toRunNextFrame = [];\n  var numToRun = 0;\n  var isProcessing = false;\n  var flushNextFrame = false;\n  var toKeepAlive = new WeakSet();\n  var step = {\n    schedule: function schedule(callback) {\n      var keepAlive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var addToCurrentFrame = immediate && isProcessing;\n      var buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n      if (keepAlive) toKeepAlive.add(callback);\n\n      if (buffer.indexOf(callback) === -1) {\n        buffer.push(callback);\n        if (addToCurrentFrame && isProcessing) numToRun = toRun.length;\n      }\n\n      return callback;\n    },\n    cancel: function cancel(callback) {\n      var index = toRunNextFrame.indexOf(callback);\n      if (index !== -1) toRunNextFrame.splice(index, 1);\n      toKeepAlive.delete(callback);\n    },\n    process: function process(frameData) {\n      if (isProcessing) {\n        flushNextFrame = true;\n        return;\n      }\n\n      isProcessing = true;\n      var _ref = [toRunNextFrame, toRun];\n      toRun = _ref[0];\n      toRunNextFrame = _ref[1];\n      toRunNextFrame.length = 0;\n      numToRun = toRun.length;\n\n      if (numToRun) {\n        for (var i = 0; i < numToRun; i++) {\n          var callback = toRun[i];\n          callback(frameData);\n\n          if (toKeepAlive.has(callback)) {\n            step.schedule(callback);\n            runNextFrame();\n          }\n        }\n      }\n\n      isProcessing = false;\n\n      if (flushNextFrame) {\n        flushNextFrame = false;\n        step.process(frameData);\n      }\n    }\n  };\n  return step;\n}\n\nvar maxElapsed = 40;\nvar useDefaultElapsed = true;\nvar runNextFrame = false;\nvar isProcessing = false;\nvar frame = {\n  delta: 0,\n  timestamp: 0\n};\nvar stepsOrder = [\"read\", \"update\", \"preRender\", \"render\", \"postRender\"];\nvar steps = stepsOrder.reduce(function (acc, key) {\n  acc[key] = createRenderStep(function () {\n    return runNextFrame = true;\n  });\n  return acc;\n}, {});\nvar sync = stepsOrder.reduce(function (acc, key) {\n  var step = steps[key];\n\n  acc[key] = function (process) {\n    var keepAlive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (!runNextFrame) startLoop();\n    return step.schedule(process, keepAlive, immediate);\n  };\n\n  return acc;\n}, {});\nvar cancelSync = stepsOrder.reduce(function (acc, key) {\n  acc[key] = steps[key].cancel;\n  return acc;\n}, {});\nvar flushSync = stepsOrder.reduce(function (acc, key) {\n  acc[key] = function () {\n    return steps[key].process(frame);\n  };\n\n  return acc;\n}, {});\n\nvar processStep = function processStep(stepId) {\n  return steps[stepId].process(frame);\n};\n\nvar processFrame = function processFrame(timestamp) {\n  runNextFrame = false;\n  frame.delta = useDefaultElapsed ? defaultTimestep : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n  frame.timestamp = timestamp;\n  isProcessing = true;\n  stepsOrder.forEach(processStep);\n  isProcessing = false;\n\n  if (runNextFrame) {\n    useDefaultElapsed = false;\n    onNextFrame(processFrame);\n  }\n};\n\nvar startLoop = function startLoop() {\n  runNextFrame = true;\n  useDefaultElapsed = true;\n  if (!isProcessing) onNextFrame(processFrame);\n};\n\nvar getFrameData = function getFrameData() {\n  return frame;\n};\n\nexports.cancelSync = cancelSync;\nexports.default = sync;\nexports.flushSync = flushSync;\nexports.getFrameData = getFrameData;","map":{"version":3,"names":["Object","defineProperty","exports","value","defaultTimestep","getCurrentTime","performance","now","Date","onNextFrame","window","callback","requestAnimationFrame","setTimeout","createRenderStep","runNextFrame","toRun","toRunNextFrame","numToRun","isProcessing","flushNextFrame","toKeepAlive","WeakSet","step","schedule","keepAlive","immediate","addToCurrentFrame","buffer","add","indexOf","push","length","cancel","index","splice","delete","process","frameData","i","has","maxElapsed","useDefaultElapsed","frame","delta","timestamp","stepsOrder","steps","reduce","acc","key","sync","startLoop","cancelSync","flushSync","processStep","stepId","processFrame","Math","max","min","forEach","getFrameData","default"],"sources":["G:/gitlab/TFG/Aplicacion/node_modules/framer-motion/node_modules/framesync/dist/framesync.cjs.js"],"sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nconst defaultTimestep = (1 / 60) * 1000;\r\nconst getCurrentTime = typeof performance !== \"undefined\"\r\n    ? () => performance.now()\r\n    : () => Date.now();\r\nconst onNextFrame = typeof window !== \"undefined\"\r\n    ? (callback) => window.requestAnimationFrame(callback)\r\n    : (callback) => setTimeout(() => callback(getCurrentTime()), defaultTimestep);\r\n\r\nfunction createRenderStep(runNextFrame) {\r\n    let toRun = [];\r\n    let toRunNextFrame = [];\r\n    let numToRun = 0;\r\n    let isProcessing = false;\r\n    let flushNextFrame = false;\r\n    const toKeepAlive = new WeakSet();\r\n    const step = {\r\n        schedule: (callback, keepAlive = false, immediate = false) => {\r\n            const addToCurrentFrame = immediate && isProcessing;\r\n            const buffer = addToCurrentFrame ? toRun : toRunNextFrame;\r\n            if (keepAlive)\r\n                toKeepAlive.add(callback);\r\n            if (buffer.indexOf(callback) === -1) {\r\n                buffer.push(callback);\r\n                if (addToCurrentFrame && isProcessing)\r\n                    numToRun = toRun.length;\r\n            }\r\n            return callback;\r\n        },\r\n        cancel: (callback) => {\r\n            const index = toRunNextFrame.indexOf(callback);\r\n            if (index !== -1)\r\n                toRunNextFrame.splice(index, 1);\r\n            toKeepAlive.delete(callback);\r\n        },\r\n        process: (frameData) => {\r\n            if (isProcessing) {\r\n                flushNextFrame = true;\r\n                return;\r\n            }\r\n            isProcessing = true;\r\n            [toRun, toRunNextFrame] = [toRunNextFrame, toRun];\r\n            toRunNextFrame.length = 0;\r\n            numToRun = toRun.length;\r\n            if (numToRun) {\r\n                for (let i = 0; i < numToRun; i++) {\r\n                    const callback = toRun[i];\r\n                    callback(frameData);\r\n                    if (toKeepAlive.has(callback)) {\r\n                        step.schedule(callback);\r\n                        runNextFrame();\r\n                    }\r\n                }\r\n            }\r\n            isProcessing = false;\r\n            if (flushNextFrame) {\r\n                flushNextFrame = false;\r\n                step.process(frameData);\r\n            }\r\n        },\r\n    };\r\n    return step;\r\n}\r\n\r\nconst maxElapsed = 40;\r\nlet useDefaultElapsed = true;\r\nlet runNextFrame = false;\r\nlet isProcessing = false;\r\nconst frame = {\r\n    delta: 0,\r\n    timestamp: 0,\r\n};\r\nconst stepsOrder = [\r\n    \"read\",\r\n    \"update\",\r\n    \"preRender\",\r\n    \"render\",\r\n    \"postRender\",\r\n];\r\nconst steps = stepsOrder.reduce((acc, key) => {\r\n    acc[key] = createRenderStep(() => (runNextFrame = true));\r\n    return acc;\r\n}, {});\r\nconst sync = stepsOrder.reduce((acc, key) => {\r\n    const step = steps[key];\r\n    acc[key] = (process, keepAlive = false, immediate = false) => {\r\n        if (!runNextFrame)\r\n            startLoop();\r\n        return step.schedule(process, keepAlive, immediate);\r\n    };\r\n    return acc;\r\n}, {});\r\nconst cancelSync = stepsOrder.reduce((acc, key) => {\r\n    acc[key] = steps[key].cancel;\r\n    return acc;\r\n}, {});\r\nconst flushSync = stepsOrder.reduce((acc, key) => {\r\n    acc[key] = () => steps[key].process(frame);\r\n    return acc;\r\n}, {});\r\nconst processStep = (stepId) => steps[stepId].process(frame);\r\nconst processFrame = (timestamp) => {\r\n    runNextFrame = false;\r\n    frame.delta = useDefaultElapsed\r\n        ? defaultTimestep\r\n        : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\r\n    frame.timestamp = timestamp;\r\n    isProcessing = true;\r\n    stepsOrder.forEach(processStep);\r\n    isProcessing = false;\r\n    if (runNextFrame) {\r\n        useDefaultElapsed = false;\r\n        onNextFrame(processFrame);\r\n    }\r\n};\r\nconst startLoop = () => {\r\n    runNextFrame = true;\r\n    useDefaultElapsed = true;\r\n    if (!isProcessing)\r\n        onNextFrame(processFrame);\r\n};\r\nconst getFrameData = () => frame;\r\n\r\nexports.cancelSync = cancelSync;\r\nexports.default = sync;\r\nexports.flushSync = flushSync;\r\nexports.getFrameData = getFrameData;\r\n"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AAEA,IAAMC,eAAe,GAAI,IAAI,EAAL,GAAW,IAAnC;AACA,IAAMC,cAAc,GAAG,OAAOC,WAAP,KAAuB,WAAvB,GACjB;EAAA,OAAMA,WAAW,CAACC,GAAZ,EAAN;AAAA,CADiB,GAEjB;EAAA,OAAMC,IAAI,CAACD,GAAL,EAAN;AAAA,CAFN;AAGA,IAAME,WAAW,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GACd,UAACC,QAAD;EAAA,OAAcD,MAAM,CAACE,qBAAP,CAA6BD,QAA7B,CAAd;AAAA,CADc,GAEd,UAACA,QAAD;EAAA,OAAcE,UAAU,CAAC;IAAA,OAAMF,QAAQ,CAACN,cAAc,EAAf,CAAd;EAAA,CAAD,EAAmCD,eAAnC,CAAxB;AAAA,CAFN;;AAIA,SAASU,gBAAT,CAA0BC,YAA1B,EAAwC;EACpC,IAAIC,KAAK,GAAG,EAAZ;EACA,IAAIC,cAAc,GAAG,EAArB;EACA,IAAIC,QAAQ,GAAG,CAAf;EACA,IAAIC,YAAY,GAAG,KAAnB;EACA,IAAIC,cAAc,GAAG,KAArB;EACA,IAAMC,WAAW,GAAG,IAAIC,OAAJ,EAApB;EACA,IAAMC,IAAI,GAAG;IACTC,QAAQ,EAAE,kBAACb,QAAD,EAAoD;MAAA,IAAzCc,SAAyC,uEAA7B,KAA6B;MAAA,IAAtBC,SAAsB,uEAAV,KAAU;MAC1D,IAAMC,iBAAiB,GAAGD,SAAS,IAAIP,YAAvC;MACA,IAAMS,MAAM,GAAGD,iBAAiB,GAAGX,KAAH,GAAWC,cAA3C;MACA,IAAIQ,SAAJ,EACIJ,WAAW,CAACQ,GAAZ,CAAgBlB,QAAhB;;MACJ,IAAIiB,MAAM,CAACE,OAAP,CAAenB,QAAf,MAA6B,CAAC,CAAlC,EAAqC;QACjCiB,MAAM,CAACG,IAAP,CAAYpB,QAAZ;QACA,IAAIgB,iBAAiB,IAAIR,YAAzB,EACID,QAAQ,GAAGF,KAAK,CAACgB,MAAjB;MACP;;MACD,OAAOrB,QAAP;IACH,CAZQ;IAaTsB,MAAM,EAAE,gBAACtB,QAAD,EAAc;MAClB,IAAMuB,KAAK,GAAGjB,cAAc,CAACa,OAAf,CAAuBnB,QAAvB,CAAd;MACA,IAAIuB,KAAK,KAAK,CAAC,CAAf,EACIjB,cAAc,CAACkB,MAAf,CAAsBD,KAAtB,EAA6B,CAA7B;MACJb,WAAW,CAACe,MAAZ,CAAmBzB,QAAnB;IACH,CAlBQ;IAmBT0B,OAAO,EAAE,iBAACC,SAAD,EAAe;MACpB,IAAInB,YAAJ,EAAkB;QACdC,cAAc,GAAG,IAAjB;QACA;MACH;;MACDD,YAAY,GAAG,IAAf;MALoB,WAMM,CAACF,cAAD,EAAiBD,KAAjB,CANN;MAMnBA,KANmB;MAMZC,cANY;MAOpBA,cAAc,CAACe,MAAf,GAAwB,CAAxB;MACAd,QAAQ,GAAGF,KAAK,CAACgB,MAAjB;;MACA,IAAId,QAAJ,EAAc;QACV,KAAK,IAAIqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,QAApB,EAA8BqB,CAAC,EAA/B,EAAmC;UAC/B,IAAM5B,QAAQ,GAAGK,KAAK,CAACuB,CAAD,CAAtB;UACA5B,QAAQ,CAAC2B,SAAD,CAAR;;UACA,IAAIjB,WAAW,CAACmB,GAAZ,CAAgB7B,QAAhB,CAAJ,EAA+B;YAC3BY,IAAI,CAACC,QAAL,CAAcb,QAAd;YACAI,YAAY;UACf;QACJ;MACJ;;MACDI,YAAY,GAAG,KAAf;;MACA,IAAIC,cAAJ,EAAoB;QAChBA,cAAc,GAAG,KAAjB;QACAG,IAAI,CAACc,OAAL,CAAaC,SAAb;MACH;IACJ;EA3CQ,CAAb;EA6CA,OAAOf,IAAP;AACH;;AAED,IAAMkB,UAAU,GAAG,EAAnB;AACA,IAAIC,iBAAiB,GAAG,IAAxB;AACA,IAAI3B,YAAY,GAAG,KAAnB;AACA,IAAII,YAAY,GAAG,KAAnB;AACA,IAAMwB,KAAK,GAAG;EACVC,KAAK,EAAE,CADG;EAEVC,SAAS,EAAE;AAFD,CAAd;AAIA,IAAMC,UAAU,GAAG,CACf,MADe,EAEf,QAFe,EAGf,WAHe,EAIf,QAJe,EAKf,YALe,CAAnB;AAOA,IAAMC,KAAK,GAAGD,UAAU,CAACE,MAAX,CAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;EAC1CD,GAAG,CAACC,GAAD,CAAH,GAAWpC,gBAAgB,CAAC;IAAA,OAAOC,YAAY,GAAG,IAAtB;EAAA,CAAD,CAA3B;EACA,OAAOkC,GAAP;AACH,CAHa,EAGX,EAHW,CAAd;AAIA,IAAME,IAAI,GAAGL,UAAU,CAACE,MAAX,CAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;EACzC,IAAM3B,IAAI,GAAGwB,KAAK,CAACG,GAAD,CAAlB;;EACAD,GAAG,CAACC,GAAD,CAAH,GAAW,UAACb,OAAD,EAAmD;IAAA,IAAzCZ,SAAyC,uEAA7B,KAA6B;IAAA,IAAtBC,SAAsB,uEAAV,KAAU;IAC1D,IAAI,CAACX,YAAL,EACIqC,SAAS;IACb,OAAO7B,IAAI,CAACC,QAAL,CAAca,OAAd,EAAuBZ,SAAvB,EAAkCC,SAAlC,CAAP;EACH,CAJD;;EAKA,OAAOuB,GAAP;AACH,CARY,EAQV,EARU,CAAb;AASA,IAAMI,UAAU,GAAGP,UAAU,CAACE,MAAX,CAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;EAC/CD,GAAG,CAACC,GAAD,CAAH,GAAWH,KAAK,CAACG,GAAD,CAAL,CAAWjB,MAAtB;EACA,OAAOgB,GAAP;AACH,CAHkB,EAGhB,EAHgB,CAAnB;AAIA,IAAMK,SAAS,GAAGR,UAAU,CAACE,MAAX,CAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;EAC9CD,GAAG,CAACC,GAAD,CAAH,GAAW;IAAA,OAAMH,KAAK,CAACG,GAAD,CAAL,CAAWb,OAAX,CAAmBM,KAAnB,CAAN;EAAA,CAAX;;EACA,OAAOM,GAAP;AACH,CAHiB,EAGf,EAHe,CAAlB;;AAIA,IAAMM,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD;EAAA,OAAYT,KAAK,CAACS,MAAD,CAAL,CAAcnB,OAAd,CAAsBM,KAAtB,CAAZ;AAAA,CAApB;;AACA,IAAMc,YAAY,GAAG,SAAfA,YAAe,CAACZ,SAAD,EAAe;EAChC9B,YAAY,GAAG,KAAf;EACA4B,KAAK,CAACC,KAAN,GAAcF,iBAAiB,GACzBtC,eADyB,GAEzBsD,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAASf,SAAS,GAAGF,KAAK,CAACE,SAA3B,EAAsCJ,UAAtC,CAAT,EAA4D,CAA5D,CAFN;EAGAE,KAAK,CAACE,SAAN,GAAkBA,SAAlB;EACA1B,YAAY,GAAG,IAAf;EACA2B,UAAU,CAACe,OAAX,CAAmBN,WAAnB;EACApC,YAAY,GAAG,KAAf;;EACA,IAAIJ,YAAJ,EAAkB;IACd2B,iBAAiB,GAAG,KAApB;IACAjC,WAAW,CAACgD,YAAD,CAAX;EACH;AACJ,CAbD;;AAcA,IAAML,SAAS,GAAG,SAAZA,SAAY,GAAM;EACpBrC,YAAY,GAAG,IAAf;EACA2B,iBAAiB,GAAG,IAApB;EACA,IAAI,CAACvB,YAAL,EACIV,WAAW,CAACgD,YAAD,CAAX;AACP,CALD;;AAMA,IAAMK,YAAY,GAAG,SAAfA,YAAe;EAAA,OAAMnB,KAAN;AAAA,CAArB;;AAEAzC,OAAO,CAACmD,UAAR,GAAqBA,UAArB;AACAnD,OAAO,CAAC6D,OAAR,GAAkBZ,IAAlB;AACAjD,OAAO,CAACoD,SAAR,GAAoBA,SAApB;AACApD,OAAO,CAAC4D,YAAR,GAAuBA,YAAvB"},"metadata":{},"sourceType":"script"}