{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\src\\\\CustomComponents\\\\Shader.js\";\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport Ratio from 'react-ratio';\nimport ShadertoyReact from 'shadertoy-react';\nimport { defaultShader } from '../ShaderStuff/defaultShader';\nimport ReactScrollWheelHandler from 'react-scroll-wheel-handler';\nimport { fs } from '../ShaderStuff/sdfShader';\nimport usePrimitivesHook from '../primitivesHook';\nimport { ErrorBoundary } from 'react-error-boundary';\nfunction ErrorFallback(_ref) {\n  var error = _ref.error,\n    resetErrorBoundary = _ref.resetErrorBoundary;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, \"Something went wrong:\"), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, error.message), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: resetErrorBoundary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, \"Try again\"));\n}\nvar myErrorHandler = function myErrorHandler(error, info) {\n  // Do something with the error\n  // E.g. log to an error logging client here\n  console.log(\"ERROR\");\n};\nfunction Shader(props) {\n  var _usePrimitivesHook = usePrimitivesHook(),\n    _usePrimitivesHook2 = _slicedToArray(_usePrimitivesHook, 1),\n    primitivesCode = _usePrimitivesHook2[0];\n  useEffect(function () {}, [props.shader, props.uniforms]);\n  var _useState = useState(1.5),\n    _useState2 = _slicedToArray(_useState, 2),\n    zoom = _useState2[0],\n    setZoom = _useState2[1];\n  var zoomIncrement = 0.5;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: props.style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactScrollWheelHandler, {\n    timeout: \"0\",\n    wheelConfig: [100, 1000, 0.05],\n    preventScroll: \"true \",\n    upHandler: function upHandler(e) {\n      return setZoom(zoom + zoomIncrement);\n    },\n    downHandler: function downHandler(e) {\n      return setZoom(zoom - zoomIncrement);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Ratio, {\n    ratio: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ErrorBoundary, {\n    FallbackComponent: ErrorFallback,\n    onError: myErrorHandler,\n    onReset: function onReset() {\n      // reset the state of your app so the error doesn't happen again\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ShadertoyReact, {\n    fs: props.sdf ? fs(props.sdf, primitivesCode) : defaultShader(),\n    key: props.sdf,\n    uniforms: _objectSpread(_objectSpread({}, props.uniforms), {}, {\n      u_zoom: {\n        type: '1f',\n        value: zoom\n      },\n      u_specular: {\n        type: '3fv',\n        value: [1.0, 0.0, 1.0]\n      },\n      u_diffuse: {\n        type: '3fv',\n        value: [1.0, 0.0, 0.0]\n      },\n      u_ambient: {\n        type: '3fv',\n        value: [0.2, 0.2, 0.2]\n      },\n      u_smoothness: {\n        type: '1f',\n        value: 10.0\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  })))));\n}\nexport default React.memo(Shader);","map":{"version":3,"names":["React","useState","useEffect","Ratio","ShadertoyReact","defaultShader","ReactScrollWheelHandler","fs","usePrimitivesHook","ErrorBoundary","ErrorFallback","error","resetErrorBoundary","message","myErrorHandler","info","console","log","Shader","props","primitivesCode","shader","uniforms","zoom","setZoom","zoomIncrement","style","e","sdf","u_zoom","type","value","u_specular","u_diffuse","u_ambient","u_smoothness","memo"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomComponents/Shader.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nimport { useEffect } from 'react';\r\nimport Ratio from 'react-ratio';\r\nimport ShadertoyReact from 'shadertoy-react';\r\nimport { defaultShader } from '../ShaderStuff/defaultShader';\r\nimport ReactScrollWheelHandler from 'react-scroll-wheel-handler';\r\nimport { fs } from '../ShaderStuff/sdfShader';\r\nimport usePrimitivesHook from '../primitivesHook';\r\nimport { ErrorBoundary } from 'react-error-boundary';\r\n\r\nfunction ErrorFallback({ error, resetErrorBoundary }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <p>Something went wrong:</p>\r\n      <pre>{error.message}</pre>\r\n      <button onClick={resetErrorBoundary}>Try again</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst myErrorHandler = (error, info) => {\r\n  // Do something with the error\r\n  // E.g. log to an error logging client here\r\n  console.log(\"ERROR\");\r\n}\r\n\r\nfunction Shader(props) {\r\n  const [primitivesCode] = usePrimitivesHook();\r\n\r\n  useEffect(() => {}, [props.shader, props.uniforms]);\r\n\r\n  const [zoom, setZoom] = useState(1.5);\r\n  const zoomIncrement = 0.5;\r\n  return (\r\n    <div style={props.style}>\r\n      <ReactScrollWheelHandler\r\n        timeout=\"0\"\r\n        wheelConfig={[100, 1000, 0.05]}\r\n        preventScroll=\"true \"\r\n        upHandler={(e) => setZoom(zoom + zoomIncrement)}\r\n        downHandler={(e) => setZoom(zoom - zoomIncrement)}\r\n      >\r\n        <Ratio ratio={1}>\r\n          <ErrorBoundary\r\n            FallbackComponent={ErrorFallback}\r\n            onError={myErrorHandler}\r\n            onReset={() => {\r\n              // reset the state of your app so the error doesn't happen again\r\n            }}\r\n          >\r\n            <ShadertoyReact\r\n              fs={props.sdf ? fs(props.sdf, primitivesCode) : defaultShader()}\r\n              key={props.sdf}\r\n              uniforms={{\r\n                ...props.uniforms,\r\n                u_zoom: { type: '1f', value: zoom },\r\n                u_specular: { type: '3fv', value: [1.0, 0.0, 1.0] },\r\n                u_diffuse: { type: '3fv', value: [1.0, 0.0, 0.0] },\r\n                u_ambient: { type: '3fv', value: [0.2, 0.2, 0.2] },\r\n                u_smoothness: { type: '1f', value: 10.0 },\r\n              }}\r\n            />\r\n          </ErrorBoundary>\r\n        </Ratio>\r\n      </ReactScrollWheelHandler>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Shader);"],"mappings":"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"},"metadata":{},"sourceType":"module"}