{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontCache = void 0;\n\nvar FontCache = function () {\n  function FontCache(jax) {\n    this.cache = new Map();\n    this.defs = null;\n    this.localID = '';\n    this.nextID = 0;\n    this.jax = jax;\n  }\n\n  FontCache.prototype.cachePath = function (variant, C, path) {\n    var id = 'MJX-' + this.localID + (this.jax.font.getVariant(variant).cacheID || '') + '-' + C;\n\n    if (!this.cache.has(id)) {\n      this.cache.set(id, path);\n      this.jax.adaptor.append(this.defs, this.jax.svg('path', {\n        id: id,\n        d: path\n      }));\n    }\n\n    return id;\n  };\n\n  FontCache.prototype.clearLocalID = function () {\n    this.localID = '';\n  };\n\n  FontCache.prototype.useLocalID = function (id) {\n    if (id === void 0) {\n      id = null;\n    }\n\n    this.localID = (id == null ? ++this.nextID : id) + (id === '' ? '' : '-');\n  };\n\n  FontCache.prototype.clearCache = function () {\n    this.cache = new Map();\n    this.defs = this.jax.svg('defs');\n  };\n\n  FontCache.prototype.getCache = function () {\n    return this.defs;\n  };\n\n  return FontCache;\n}();\n\nexports.FontCache = FontCache;","map":{"version":3,"mappings":";;;;;;;AAyBA;EA8BE,mBAAYA,GAAZ,EAA6B;IApBnB,aAA6B,IAAIC,GAAJ,EAA7B;IAKA,YAAU,IAAV;IAKA,eAAkB,EAAlB;IAKA,cAAiB,CAAjB;IAMR,KAAKD,GAAL,GAAWA,GAAX;EACD;;EAUME,gCAAP,UAAiBC,OAAjB,EAAkCC,CAAlC,EAA6CC,IAA7C,EAAyD;IACvD,IAAMC,EAAE,GAAG,SAAS,KAAKC,OAAd,IAAyB,KAAKP,GAAL,CAASQ,IAAT,CAAcC,UAAd,CAAyBN,OAAzB,EAAkCO,OAAlC,IAA6C,EAAtE,IAA4E,GAA5E,GAAkFN,CAA7F;;IACA,IAAI,CAAC,KAAKO,KAAL,CAAWC,GAAX,CAAeN,EAAf,CAAL,EAAyB;MACvB,KAAKK,KAAL,CAAWE,GAAX,CAAeP,EAAf,EAAmBD,IAAnB;MACA,KAAKL,GAAL,CAASc,OAAT,CAAiBC,MAAjB,CAAwB,KAAKC,IAA7B,EAAmC,KAAKhB,GAAL,CAASiB,GAAT,CAAa,MAAb,EAAqB;QAACX,EAAE,EAAEA,EAAL;QAASY,CAAC,EAAEb;MAAZ,CAArB,CAAnC;IACD;;IACD,OAAOC,EAAP;EACD,CAPM;;EAYAJ,mCAAP;IACE,KAAKK,OAAL,GAAe,EAAf;EACD,CAFM;;EAQAL,iCAAP,UAAkBI,EAAlB,EAAmC;IAAjB;MAAAA;IAAiB;;IACjC,KAAKC,OAAL,GAAe,CAACD,EAAE,IAAI,IAAN,GAAa,EAAE,KAAKa,MAApB,GAA6Bb,EAA9B,KAAqCA,EAAE,KAAK,EAAP,GAAY,EAAZ,GAAiB,GAAtD,CAAf;EACD,CAFM;;EAOAJ,iCAAP;IACE,KAAKS,KAAL,GAAa,IAAIV,GAAJ,EAAb;IACA,KAAKe,IAAL,GAAY,KAAKhB,GAAL,CAASiB,GAAT,CAAa,MAAb,CAAZ;EACD,CAHM;;EAQAf,+BAAP;IACE,OAAO,KAAKc,IAAZ;EACD,CAFM;;EAIT;AAAC,CAjFD;;AAAaI","names":["jax","Map","FontCache","variant","C","path","id","localID","font","getVariant","cacheID","cache","has","set","adaptor","append","defs","svg","d","nextID","exports"],"sourceRoot":"","sources":["../../../ts/output/svg/FontCache.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}