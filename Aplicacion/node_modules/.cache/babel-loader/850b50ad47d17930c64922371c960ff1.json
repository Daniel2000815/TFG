{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nexport var useLocalStorage = function useLocalStorage(keyName, defaultValue) {\n  var _React$useState = React.useState(function () {\n    //localStorage.clear();\n    try {\n      var value = window.localStorage.getItem(keyName);\n      console.log(\"TEST: \" + value);\n\n      if (value) {\n        return JSON.parse(value);\n      } else {\n        window.localStorage.setItem(keyName, JSON.stringify(defaultValue));\n        window.dispatchEvent(new Event(\"storage\"));\n        return defaultValue;\n      }\n    } catch (err) {\n      return defaultValue;\n    }\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      storedValue = _React$useState2[0],\n      setStoredValue = _React$useState2[1];\n\n  var setValue = function setValue(newValue) {\n    try {\n      window.localStorage.setItem(keyName, JSON.stringify(newValue));\n    } catch (err) {}\n\n    setStoredValue(newValue);\n  };\n\n  useEffect(function () {\n    localStorage.setItem(key, state);\n    window.dispatchEvent(new Event(\"storage\"));\n  }, [keyName, storedValue]);\n  return [storedValue, setValue];\n};","map":{"version":3,"names":["React","useEffect","useState","useLocalStorage","keyName","defaultValue","value","window","localStorage","getItem","console","log","JSON","parse","setItem","stringify","dispatchEvent","Event","err","storedValue","setStoredValue","setValue","newValue","key","state"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/storageHook.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nexport const useLocalStorage = (keyName, defaultValue) => {\r\n    const [storedValue, setStoredValue] = React.useState(() => {\r\n        //localStorage.clear();\r\n      try {\r\n        const value = window.localStorage.getItem(keyName);\r\n        console.log(\"TEST: \" + value);\r\n        if (value) {\r\n          return JSON.parse(value);\r\n        } else {\r\n          window.localStorage.setItem(keyName, JSON.stringify(defaultValue));\r\n          window.dispatchEvent(new Event(\"storage\"));\r\n          return defaultValue;\r\n        }\r\n      } catch (err) {\r\n        return defaultValue;\r\n      }\r\n    });\r\n  \r\n    const setValue = newValue => {\r\n      try {\r\n        window.localStorage.setItem(keyName, JSON.stringify(newValue));\r\n      } catch (err) {}\r\n      setStoredValue(newValue);\r\n    };\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(key, state);\r\n        window.dispatchEvent(new Event(\"storage\"));\r\n      }, [keyName, storedValue]);\r\n  \r\n    return [storedValue, setValue];\r\n  };"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,OAAD,EAAUC,YAAV,EAA2B;EACtD,sBAAsCL,KAAK,CAACE,QAAN,CAAe,YAAM;IACvD;IACF,IAAI;MACF,IAAMI,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BL,OAA5B,CAAd;MACAM,OAAO,CAACC,GAAR,CAAY,WAAWL,KAAvB;;MACA,IAAIA,KAAJ,EAAW;QACT,OAAOM,IAAI,CAACC,KAAL,CAAWP,KAAX,CAAP;MACD,CAFD,MAEO;QACLC,MAAM,CAACC,YAAP,CAAoBM,OAApB,CAA4BV,OAA5B,EAAqCQ,IAAI,CAACG,SAAL,CAAeV,YAAf,CAArC;QACAE,MAAM,CAACS,aAAP,CAAqB,IAAIC,KAAJ,CAAU,SAAV,CAArB;QACA,OAAOZ,YAAP;MACD;IACF,CAVD,CAUE,OAAOa,GAAP,EAAY;MACZ,OAAOb,YAAP;IACD;EACF,CAfqC,CAAtC;EAAA;EAAA,IAAOc,WAAP;EAAA,IAAoBC,cAApB;;EAiBA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,QAAQ,EAAI;IAC3B,IAAI;MACFf,MAAM,CAACC,YAAP,CAAoBM,OAApB,CAA4BV,OAA5B,EAAqCQ,IAAI,CAACG,SAAL,CAAeO,QAAf,CAArC;IACD,CAFD,CAEE,OAAOJ,GAAP,EAAY,CAAE;;IAChBE,cAAc,CAACE,QAAD,CAAd;EACD,CALD;;EAOArB,SAAS,CAAC,YAAM;IACZO,YAAY,CAACM,OAAb,CAAqBS,GAArB,EAA0BC,KAA1B;IACAjB,MAAM,CAACS,aAAP,CAAqB,IAAIC,KAAJ,CAAU,SAAV,CAArB;EACD,CAHM,EAGJ,CAACb,OAAD,EAAUe,WAAV,CAHI,CAAT;EAKA,OAAO,CAACA,WAAD,EAAcE,QAAd,CAAP;AACD,CA/BI"},"metadata":{},"sourceType":"module"}