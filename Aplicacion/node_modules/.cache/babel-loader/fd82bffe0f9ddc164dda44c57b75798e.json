{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SVGxml = exports.SVGannotationXML = exports.SVGannotation = exports.SVGsemantics = void 0;\n\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\n\nvar semantics_js_1 = require(\"../../common/Wrappers/semantics.js\");\n\nvar semantics_js_2 = require(\"../../../core/MmlTree/MmlNodes/semantics.js\");\n\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\n\nvar SVGsemantics = function (_super) {\n  __extends(SVGsemantics, _super);\n\n  function SVGsemantics() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SVGsemantics.prototype.toSVG = function (parent) {\n    var svg = this.standardSVGnode(parent);\n\n    if (this.childNodes.length) {\n      this.childNodes[0].toSVG(svg);\n    }\n  };\n\n  SVGsemantics.kind = semantics_js_2.MmlSemantics.prototype.kind;\n  return SVGsemantics;\n}((0, semantics_js_1.CommonSemanticsMixin)(Wrapper_js_1.SVGWrapper));\n\nexports.SVGsemantics = SVGsemantics;\n\nvar SVGannotation = function (_super) {\n  __extends(SVGannotation, _super);\n\n  function SVGannotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SVGannotation.prototype.toSVG = function (parent) {\n    _super.prototype.toSVG.call(this, parent);\n  };\n\n  SVGannotation.prototype.computeBBox = function () {\n    return this.bbox;\n  };\n\n  SVGannotation.kind = semantics_js_2.MmlAnnotation.prototype.kind;\n  return SVGannotation;\n}(Wrapper_js_1.SVGWrapper);\n\nexports.SVGannotation = SVGannotation;\n\nvar SVGannotationXML = function (_super) {\n  __extends(SVGannotationXML, _super);\n\n  function SVGannotationXML() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SVGannotationXML.kind = semantics_js_2.MmlAnnotationXML.prototype.kind;\n  SVGannotationXML.styles = {\n    'foreignObject[data-mjx-xml]': {\n      'font-family': 'initial',\n      'line-height': 'normal',\n      overflow: 'visible'\n    }\n  };\n  return SVGannotationXML;\n}(Wrapper_js_1.SVGWrapper);\n\nexports.SVGannotationXML = SVGannotationXML;\n\nvar SVGxml = function (_super) {\n  __extends(SVGxml, _super);\n\n  function SVGxml() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SVGxml.prototype.toSVG = function (parent) {\n    var xml = this.adaptor.clone(this.node.getXML());\n    var em = this.jax.math.metrics.em * this.jax.math.metrics.scale;\n    var scale = this.fixed(1 / em);\n\n    var _a = this.getBBox(),\n        w = _a.w,\n        h = _a.h,\n        d = _a.d;\n\n    this.element = this.adaptor.append(parent, this.svg('foreignObject', {\n      'data-mjx-xml': true,\n      y: this.jax.fixed(-h * em) + 'px',\n      width: this.jax.fixed(w * em) + 'px',\n      height: this.jax.fixed((h + d) * em) + 'px',\n      transform: \"scale(\".concat(scale, \") matrix(1 0 0 -1 0 0)\")\n    }, [xml]));\n  };\n\n  SVGxml.prototype.computeBBox = function (bbox, _recompute) {\n    if (_recompute === void 0) {\n      _recompute = false;\n    }\n\n    var _a = this.jax.measureXMLnode(this.node.getXML()),\n        w = _a.w,\n        h = _a.h,\n        d = _a.d;\n\n    bbox.w = w;\n    bbox.h = h;\n    bbox.d = d;\n  };\n\n  SVGxml.prototype.getStyles = function () {};\n\n  SVGxml.prototype.getScale = function () {};\n\n  SVGxml.prototype.getVariant = function () {};\n\n  SVGxml.kind = MmlNode_js_1.XMLNode.prototype.kind;\n  SVGxml.autoStyle = false;\n  return SVGxml;\n}(Wrapper_js_1.SVGWrapper);\n\nexports.SVGxml = SVGxml;","map":{"version":3,"mappings":"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","names":["__extends","SVGsemantics","parent","svg","standardSVGnode","childNodes","length","toSVG","semantics_js_2","prototype","kind","Wrapper_js_1","exports","SVGannotation","_super","call","bbox","SVGannotationXML","overflow","SVGxml","xml","adaptor","clone","node","getXML","em","jax","math","metrics","scale","fixed","getBBox","w","h","d","element","append","y","width","height","transform","_recompute","measureXMLnode","MmlNode_js_1"],"sourceRoot":"","sources":["../../../../ts/output/svg/Wrappers/semantics.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}