{"ast":null,"code":"import _slicedToArray from \"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\src\\\\CustomNodes\\\\DeformNode.js\";\nimport React, { useEffect } from \"react\";\nimport CustomNode from \"../CustomNodes/CustomNode\";\nimport Toggle from \"../CustomComponents/Toggle\";\nimport Slider from '@mui/material/Slider';\nimport Stack from '@mui/material/Stack';\nvar DeformOperations = {\n  Bend: \"Bend\",\n  Twist: \"Twist\"\n};\nexport default function DeformNode(_ref) {\n  var data = _ref.data,\n      id = _ref.id;\n\n  var _React$useState = React.useState(DeformOperations.Bend),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      operation = _React$useState2[0],\n      setOperation = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0.0.toFixed(4)),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      k = _React$useState4[0],\n      setK = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      sdf = _React$useState6[0],\n      setSdf = _React$useState6[1];\n\n  useEffect(function () {\n    console.log(\"SE HAN MODIFICADO LOS SDF EN NODO DEFORM. AHORA HAY \".concat(Object.keys(data.inputs).length));\n    var input = data.inputs[Object.keys(data.inputs)[0]];\n\n    if (input) {\n      console.log(\"OLD: \" + input);\n      console.log(typeof input);\n      setSdf(input.replace(\"p,\", \"sdf\".concat(operation, \"(p, \").concat(k, \"),\")));\n    }\n  }, [data, operation, k]);\n  return /*#__PURE__*/React.createElement(CustomNode, {\n    title: \"Deform Operator\",\n    id: id,\n    data: data,\n    dropdownOptions: Object.values(DeformOperations),\n    onChangeOption: setOperation,\n    sdf: sdf,\n    styleClass: \"deform\",\n    body: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, \"Smoothness\", /*#__PURE__*/React.createElement(Slider, {\n      size: \"small\",\n      value: k,\n      valueLabelDisplay: \"k\",\n      onChange: function onChange(e, v) {\n        return setK(parseFloat(v).toFixed(4));\n      },\n      min: 0,\n      max: 2,\n      step: 0.1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"names":["React","useEffect","CustomNode","Toggle","Slider","Stack","DeformOperations","Bend","Twist","DeformNode","data","id","useState","operation","setOperation","toFixed","k","setK","sdf","setSdf","console","log","Object","keys","inputs","length","input","replace","values","margin","e","v","parseFloat"],"sources":["G:/gitlab/TFG/Aplicacion/src/CustomNodes/DeformNode.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport CustomNode from \"../CustomNodes/CustomNode\";\r\nimport Toggle from \"../CustomComponents/Toggle\";\r\nimport Slider from '@mui/material/Slider';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nconst DeformOperations = {\r\n  Bend: \"Bend\",\r\n  Twist: \"Twist\",\r\n};\r\n\r\nexport default function DeformNode({ data, id }) {\r\n  const [operation, setOperation] = React.useState(DeformOperations.Bend);\r\n  const [k, setK] = React.useState(0.0.toFixed(4));\r\n\r\n  const [sdf, setSdf] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      `SE HAN MODIFICADO LOS SDF EN NODO DEFORM. AHORA HAY ${Object.keys(data.inputs).length\r\n      }`\r\n    );\r\n    \r\n    let input = data.inputs[Object.keys(data.inputs)[0]];\r\n\r\n    if(input){\r\n      console.log(\"OLD: \" + input);\r\n      console.log(typeof(input));\r\n      setSdf(input.replace(\"p,\", `sdf${operation}(p, ${k}),`));\r\n\r\n    }\r\n  }, [data, operation, k]);\r\n\r\n  return (\r\n    <CustomNode\r\n      title={\"Deform Operator\"}\r\n      id={id}\r\n      data={data}\r\n      dropdownOptions={Object.values(DeformOperations)}\r\n      onChangeOption={setOperation}\r\n      sdf={sdf}\r\n      styleClass=\"deform\"\r\n      body={\r\n        <div style={{ margin: 10 }}>\r\n          Smoothness\r\n         \r\n            <Slider\r\n              size=\"small\"\r\n              value={k}\r\n              valueLabelDisplay=\"k\"\r\n              onChange={(e, v) => setK(parseFloat(v).toFixed(4))}\r\n              min={0}\r\n              max={2}\r\n              step={0.1}\r\n          />          \r\n        </div>\r\n      }\r\n    />\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,IAAMC,gBAAgB,GAAG;EACvBC,IAAI,EAAE,MADiB;EAEvBC,KAAK,EAAE;AAFgB,CAAzB;AAKA,eAAe,SAASC,UAAT,OAAkC;EAAA,IAAZC,IAAY,QAAZA,IAAY;EAAA,IAANC,EAAM,QAANA,EAAM;;EAC/C,sBAAkCX,KAAK,CAACY,QAAN,CAAeN,gBAAgB,CAACC,IAAhC,CAAlC;EAAA;EAAA,IAAOM,SAAP;EAAA,IAAkBC,YAAlB;;EACA,uBAAkBd,KAAK,CAACY,QAAN,CAAe,IAAIG,OAAJ,CAAY,CAAZ,CAAf,CAAlB;EAAA;EAAA,IAAOC,CAAP;EAAA,IAAUC,IAAV;;EAEA,uBAAsBjB,KAAK,CAACY,QAAN,CAAe,EAAf,CAAtB;EAAA;EAAA,IAAOM,GAAP;EAAA,IAAYC,MAAZ;;EAEAlB,SAAS,CAAC,YAAM;IACdmB,OAAO,CAACC,GAAR,+DACyDC,MAAM,CAACC,IAAP,CAAYb,IAAI,CAACc,MAAjB,EAAyBC,MADlF;IAKA,IAAIC,KAAK,GAAGhB,IAAI,CAACc,MAAL,CAAYF,MAAM,CAACC,IAAP,CAAYb,IAAI,CAACc,MAAjB,EAAyB,CAAzB,CAAZ,CAAZ;;IAEA,IAAGE,KAAH,EAAS;MACPN,OAAO,CAACC,GAAR,CAAY,UAAUK,KAAtB;MACAN,OAAO,CAACC,GAAR,CAAY,OAAOK,KAAnB;MACAP,MAAM,CAACO,KAAK,CAACC,OAAN,CAAc,IAAd,eAA0Bd,SAA1B,iBAA0CG,CAA1C,QAAD,CAAN;IAED;EACF,CAdQ,EAcN,CAACN,IAAD,EAAOG,SAAP,EAAkBG,CAAlB,CAdM,CAAT;EAgBA,oBACE,oBAAC,UAAD;IACE,KAAK,EAAE,iBADT;IAEE,EAAE,EAAEL,EAFN;IAGE,IAAI,EAAED,IAHR;IAIE,eAAe,EAAEY,MAAM,CAACM,MAAP,CAActB,gBAAd,CAJnB;IAKE,cAAc,EAAEQ,YALlB;IAME,GAAG,EAAEI,GANP;IAOE,UAAU,EAAC,QAPb;IAQE,IAAI,eACF;MAAK,KAAK,EAAE;QAAEW,MAAM,EAAE;MAAV,CAAZ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,8BAGI,oBAAC,MAAD;MACE,IAAI,EAAC,OADP;MAEE,KAAK,EAAEb,CAFT;MAGE,iBAAiB,EAAC,GAHpB;MAIE,QAAQ,EAAE,kBAACc,CAAD,EAAIC,CAAJ;QAAA,OAAUd,IAAI,CAACe,UAAU,CAACD,CAAD,CAAV,CAAchB,OAAd,CAAsB,CAAtB,CAAD,CAAd;MAAA,CAJZ;MAKE,GAAG,EAAE,CALP;MAME,GAAG,EAAE,CANP;MAOE,IAAI,EAAE,GAPR;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAHJ,CATJ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF;AA0BD"},"metadata":{},"sourceType":"module"}