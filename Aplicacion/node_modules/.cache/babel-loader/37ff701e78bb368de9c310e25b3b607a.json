{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VariableDictionary = void 0;\nvar Utils_1 = require(\"../Core/Utils\");\nvar VariableDictionary = /*#__PURE__*/function () {\n  function VariableDictionary() {\n    _classCallCheck(this, VariableDictionary);\n    this.vars = {};\n    this.constants = {};\n    this.reserved = [];\n  }\n  _createClass(VariableDictionary, [{\n    key: \"setVar\",\n    value: function setVar(name, value) {\n      this.vars[name] = value;\n    }\n  }, {\n    key: \"getVar\",\n    value: function getVar(name) {\n      return this.vars[name];\n    }\n  }, {\n    key: \"isVar\",\n    value: function isVar(name) {\n      return name in this.vars;\n    }\n  }, {\n    key: \"deleteVar\",\n    value: function deleteVar(name) {\n      delete this.vars[name];\n    }\n  }, {\n    key: \"clearAllVars\",\n    value: function clearAllVars() {\n      this.vars = {};\n    }\n  }, {\n    key: \"getAllVars\",\n    value: function getAllVars() {\n      return this.vars;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(name, value) {\n      this.constants[name] = value;\n    }\n  }, {\n    key: \"getConstant\",\n    value: function getConstant(name) {\n      return this.constants[name];\n    }\n  }, {\n    key: \"isConstant\",\n    value: function isConstant(name) {\n      return name in this.constants;\n    }\n  }, {\n    key: \"getAllConstants\",\n    value: function getAllConstants() {\n      return this.constants;\n    }\n  }, {\n    key: \"deleteConstant\",\n    value: function deleteConstant(name) {\n      delete this.constants[name];\n    }\n    /**\n     * Is used for u-substitution. Gets a suitable u for substitution. If for\n     * instance a is used in the symbol then it keeps going down the line until\n     * one is found that's not in use. If all letters are taken then it\n     * starts appending numbers.\n     * IMPORTANT! It assumes that the substitution will be undone\n     * beore the user gets to interact with the object again.\n     * @param {Symbol} symbol\n     */\n  }, {\n    key: \"getU\",\n    value: function getU(symbol) {\n      //start with u\n      var u = 'u',\n        //start with u\n        v = u,\n        //init with u\n        c = 0,\n        //postfix number\n        vars = symbol.variables();\n      //make sure this variable isn't reserved and isn't in the variable list\n      while (!(this.reserved.indexOf(v) === -1 && vars.indexOf(v) === -1)) {\n        v = u + c++;\n      }\n      //get an empty slot. It seems easier to just push but the\n      //problem is that we may have some which are created by clearU\n      for (var i = 0, l = this.reserved.length; i <= l; i++) {\n        //reserved cannot equals false or 0 so we can safely check for a falsy type\n        if (!this.reserved[i]) {\n          this.reserved[i] = v; //reserve the variable\n          break;\n        }\n      }\n      return v;\n    }\n    /**\n     * Clears the u variable so it's no longer reserved\n     * @param {String} u\n     */\n  }, {\n    key: \"clearU\",\n    value: function clearU(u) {\n      var idx = this.reserved.indexOf(u);\n      if (idx !== -1) {\n        this.reserved[idx] = undefined;\n      }\n    }\n  }, {\n    key: \"isReserved\",\n    value:\n    /**\n     * Checks to see if value is one of nerdamer's reserved names\n     * @param {String} name\n     * @return boolean\n     */\n    function isReserved(name) {\n      return this.reserved.indexOf(name) !== -1;\n    }\n  }, {\n    key: \"reserveName\",\n    value: function reserveName(name) {\n      if (!this.isReserved(name)) {\n        this.reserved.push(name);\n      }\n    }\n    /**\n     * Reserves the names in an object so they cannot be used as function names\n     * @param {Object} obj\n     */\n  }, {\n    key: \"reserveNames\",\n    value: function reserveNames(obj) {\n      var _this = this;\n      if (typeof obj === 'string') {\n        this.reserveName(obj);\n      } else {\n        (0, Utils_1.each)(obj, function (x) {\n          _this.reserveName(String(x));\n        });\n      }\n    }\n  }, {\n    key: \"getReserved\",\n    value: function getReserved() {\n      return this.reserved;\n    }\n  }]);\n  return VariableDictionary;\n}();\nexports.VariableDictionary = VariableDictionary;","map":{"version":3,"mappings":"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","names":["VariableDictionary","name","value","vars","constants","symbol","u","v","c","variables","reserved","indexOf","i","l","length","idx","undefined","isReserved","push","obj","reserveName","x","String","exports"],"sourceRoot":"","sources":["../../src/Providers/VariableDictionary.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}