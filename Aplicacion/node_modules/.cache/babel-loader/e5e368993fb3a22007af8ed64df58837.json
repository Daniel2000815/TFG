{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import CustomNode from\"../CustomNodes/CustomNode\";import FloatSlider from\"../CustomComponents/FloatSlider\";import{createTheme,ThemeProvider}from'@mui/material/styles';var theme=createTheme({palette:{primary:{light:'#ff8787',main:'#ff5858',dark:'#ff2323',contrastText:'white'}}});var BooleanOperations={Union:\"Union\",Difference:\"Difference\",Intersection:\"Intersection\"};export default function BooleanNode(_ref){var data=_ref.data,id=_ref.id;var _React$useState=React.useState(BooleanOperations.Union),_React$useState2=_slicedToArray(_React$useState,2),operation=_React$useState2[0],setOperation=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,1),smooth=_React$useState4[0];var _React$useState5=React.useState(0.0),_React$useState6=_slicedToArray(_React$useState5,2),k=_React$useState6[0],setK=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),sdf=_React$useState8[0],setSdf=_React$useState8[1];useEffect(function(){console.log(\"SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO \".concat(id,\". AHORA HAY \").concat(Object.keys(data.inputs).length));// minimum of 2 inputs\nvar keys=Object.keys(data.inputs);if(keys.length<2)return;var newSdf=\"sdfSmooth\".concat(operation,\"(\").concat(data.inputs[keys[0]],\", \").concat(data.inputs[keys[1]],\", \").concat(k,\")\");// Add the rest of inputs\nfor(var i=0;i<keys.length-2;i++){console.log(data.inputs[keys[i+2]]);newSdf=\"sdfSmooth\".concat(operation,\"(\").concat(data.inputs[keys[i+2]],\", \").concat(newSdf,\", \").concat(k,\")\");};setSdf(newSdf);},[data,operation,smooth,k]);var handleChange=function handleChange(ev,val){setK(parseFloat(val));};return/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(CustomNode,{title:\"Boolean\",id:id,data:data,dropdownOptions:Object.values(BooleanOperations),onChangeOption:setOperation,sdf:sdf,currOption:operation,nInputs:Math.max(2,Object.keys(data.inputs).length+1),body:/*#__PURE__*/React.createElement(\"div\",{style:{margin:10}},\"Smoothness\",/*#__PURE__*/React.createElement(FloatSlider,{handleChange:handleChange,range:[0,10]}))}));}","map":{"version":3,"names":["React","useEffect","CustomNode","FloatSlider","createTheme","ThemeProvider","theme","palette","primary","light","main","dark","contrastText","BooleanOperations","Union","Difference","Intersection","BooleanNode","data","id","useState","operation","setOperation","smooth","k","setK","sdf","setSdf","console","log","Object","keys","inputs","length","newSdf","i","handleChange","ev","val","parseFloat","values","Math","max","margin"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomNodes/BooleanNode.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport CustomNode from \"../CustomNodes/CustomNode\";\r\nimport FloatSlider from \"../CustomComponents/FloatSlider\";\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#ff8787',\r\n      main: '#ff5858',\r\n      dark: '#ff2323',\r\n      contrastText: 'white',\r\n    },\r\n  },\r\n});\r\n\r\nconst BooleanOperations = {\r\n  Union: \"Union\",\r\n  Difference: \"Difference\",\r\n  Intersection: \"Intersection\",\r\n};\r\n\r\nexport default function BooleanNode({ data, id }) {\r\n  const [operation, setOperation] = React.useState(BooleanOperations.Union);\r\n  const [smooth] = React.useState(true);\r\n  const [k, setK] = React.useState(0.0);\r\n  const [sdf, setSdf] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      `SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO ${id}. AHORA HAY ${Object.keys(data.inputs).length\r\n      }`\r\n    );\r\n\r\n    \r\n\r\n    // minimum of 2 inputs\r\n    const keys = Object.keys(data.inputs);\r\n    if(keys.length < 2)\r\n      return;\r\n\r\n    let newSdf = `sdfSmooth${operation}(${data.inputs[keys[0]]}, ${data.inputs[keys[1]]}, ${k})`;\r\n\r\n    // Add the rest of inputs\r\n    for (let i = 0; i < keys.length - 2; i++) {\r\n      console.log(data.inputs[keys[i + 2]]);\r\n      newSdf = `sdfSmooth${operation}(${data.inputs[keys[i + 2]]}, ${newSdf}, ${k})`;\r\n    };\r\n\r\n    setSdf(newSdf);\r\n  }, [data, operation, smooth, k]);\r\n\r\n\r\n\r\n  const handleChange = (ev, val) => {\r\n    setK(parseFloat(val));\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CustomNode\r\n        title={\"Boolean\"}\r\n        id={id}\r\n        data={data}\r\n        dropdownOptions={Object.values(BooleanOperations)}\r\n        onChangeOption={setOperation}\r\n        sdf={sdf}\r\n        currOption={operation}\r\n        nInputs={Math.max(2, Object.keys(data.inputs).length + 1)}\r\n        body={\r\n          <div style={{ margin: 10 }}>\r\n            Smoothness\r\n\r\n            <FloatSlider\r\n              handleChange={handleChange}\r\n              range={[0, 10]}\r\n            />\r\n\r\n          </div>\r\n        }\r\n      />\r\n    </ThemeProvider>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}