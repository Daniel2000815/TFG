{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useCallback,useState}from\"react\";import ReactFlow,{addEdge,applyEdgeChanges,applyNodeChanges,MarkerType,useNodesState,useEdgesState}from\"react-flow-renderer\";import ButtonEdge from'./ButtonEdge.js';import ShaderNode from\"./ShaderNode.js\";import\"./styles.css\";var initialNodes=[{id:\"node-1\",type:\"shaderNode\",position:{x:0,y:0},data:{value:123}},{id:\"node-2\",type:\"shaderNode\",position:{x:250,y:0},data:{value:1}},{id:\"node-3\",type:\"shaderNode\",position:{x:250,y:-300},data:{value:1}}];var initialEdges=[];var nodeTypes={shaderNode:ShaderNode};var edgeTypes={buttonEdge:ButtonEdge};export default function Graph(){var _useNodesState=useNodesState(initialNodes),_useNodesState2=_slicedToArray(_useNodesState,3),nodes=_useNodesState2[0],setNodes=_useNodesState2[1],onNodesChange=_useNodesState2[2];var _useEdgesState=useEdgesState(initialEdges),_useEdgesState2=_slicedToArray(_useEdgesState,3),edges=_useEdgesState2[0],setEdges=_useEdgesState2[1],onEdgesChange=_useEdgesState2[2];var onRemoveEdge=function onRemoveEdge(id){setEdges(edges.splice(id,1));};var onConnect=useCallback(function(params){return setEdges(function(eds){return addEdge(_objectSpread(_objectSpread({},params),{},{animated:true,markerEnd:{type:'arrow',color:'#f00'},type:'buttonEdge',data:{onRemoveEdge:onRemoveEdge}}),eds);});},[]);var onDisconnect=useCallback(function(connection){console.log(connection);setEdges(function(eds){return addEdge(_objectSpread(_objectSpread({},connection),{},{animated:true,markerEnd:{type:MarkerType.ArrowClosed}}),eds);});},[setEdges]);return/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100vh\"}},/*#__PURE__*/React.createElement(ReactFlow,{nodes:nodes,edges:edges,onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onConnect:onConnect,onDisconnect:onDisconnect,nodeTypes:nodeTypes,edgeTypes:edgeTypes,snapToGrid:true,fitView:true}));}","map":{"version":3,"names":["React","useCallback","useState","ReactFlow","addEdge","applyEdgeChanges","applyNodeChanges","MarkerType","useNodesState","useEdgesState","ButtonEdge","ShaderNode","initialNodes","id","type","position","x","y","data","value","initialEdges","nodeTypes","shaderNode","edgeTypes","buttonEdge","Graph","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","onRemoveEdge","splice","onConnect","params","eds","animated","markerEnd","color","onDisconnect","connection","console","log","ArrowClosed","height"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/Graph.js"],"sourcesContent":["import React from \"react\";\r\nimport { useCallback, useState } from \"react\";\r\nimport ReactFlow, {\r\n  addEdge,\r\n  applyEdgeChanges,\r\n  applyNodeChanges,\r\n  MarkerType,\r\n  useNodesState,\r\n  useEdgesState,\r\n} from \"react-flow-renderer\";\r\nimport ButtonEdge from './ButtonEdge.js';\r\nimport ShaderNode from \"./ShaderNode.js\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst initialNodes = [\r\n  {\r\n    id: \"node-1\",\r\n    type: \"shaderNode\",\r\n    position: { x: 0, y: 0 },\r\n    data: { value: 123 }\r\n  },\r\n  {\r\n    id: \"node-2\",\r\n    type: \"shaderNode\",\r\n    position: { x: 250, y: 0 },\r\n    data: { value: 1 }\r\n  },\r\n  {\r\n    id: \"node-3\",\r\n    type: \"shaderNode\",\r\n    position: { x: 250, y: -300},\r\n    data: { value: 1 }\r\n  }\r\n];\r\n\r\nconst initialEdges = [\r\n\r\n];\r\n\r\nconst nodeTypes = { shaderNode: ShaderNode };\r\nconst edgeTypes = { buttonEdge: ButtonEdge };\r\n\r\nexport default function Graph() {\r\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\r\n\r\n  const onRemoveEdge = (id) =>{\r\n    setEdges(edges.splice(id, 1));\r\n  }\r\n\r\n  const onConnect = useCallback(\r\n    (params) => setEdges((eds) => addEdge({ ...params, animated:true, markerEnd: { type: 'arrow', color: '#f00' }, type: 'buttonEdge', data: {onRemoveEdge: onRemoveEdge} }, eds)),\r\n    []\r\n  );\r\n\r\n  const onDisconnect = useCallback(\r\n    (connection) => {\r\n      console.log(connection);\r\n      setEdges((eds) => addEdge({...connection, animated: true, markerEnd:{\r\n        type: MarkerType.ArrowClosed,\r\n      }}, eds))\r\n    },\r\n    [setEdges]\r\n  );\r\n\r\n  return (\r\n    <div style={{height: \"100vh\"}}>\r\n      <ReactFlow\r\n        nodes={nodes}\r\n        edges={edges}\r\n\r\n        onNodesChange={onNodesChange}\r\n        onEdgesChange={onEdgesChange}\r\n\r\n        onConnect={onConnect}\r\n        onDisconnect={onDisconnect}\r\n\r\n        nodeTypes={nodeTypes}\r\n        edgeTypes={edgeTypes}\r\n\r\n        snapToGrid={true}\r\n        fitView\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}