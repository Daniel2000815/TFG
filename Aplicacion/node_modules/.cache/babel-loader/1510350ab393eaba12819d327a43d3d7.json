{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VariableDictionary = void 0;\n\nvar Utils_1 = require(\"../Core/Utils\");\n\nvar VariableDictionary = /*#__PURE__*/function () {\n  function VariableDictionary() {\n    _classCallCheck(this, VariableDictionary);\n\n    this.vars = {};\n    this.constants = {};\n    this.reserved = [];\n  }\n\n  _createClass(VariableDictionary, [{\n    key: \"setVar\",\n    value: function setVar(name, value) {\n      this.vars[name] = value;\n    }\n  }, {\n    key: \"getVar\",\n    value: function getVar(name) {\n      return this.vars[name];\n    }\n  }, {\n    key: \"isVar\",\n    value: function isVar(name) {\n      return name in this.vars;\n    }\n  }, {\n    key: \"deleteVar\",\n    value: function deleteVar(name) {\n      delete this.vars[name];\n    }\n  }, {\n    key: \"clearAllVars\",\n    value: function clearAllVars() {\n      this.vars = {};\n    }\n  }, {\n    key: \"getAllVars\",\n    value: function getAllVars() {\n      return this.vars;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(name, value) {\n      this.constants[name] = value;\n    }\n  }, {\n    key: \"getConstant\",\n    value: function getConstant(name) {\n      return this.constants[name];\n    }\n  }, {\n    key: \"isConstant\",\n    value: function isConstant(name) {\n      return name in this.constants;\n    }\n  }, {\n    key: \"getAllConstants\",\n    value: function getAllConstants() {\n      return this.constants;\n    }\n  }, {\n    key: \"deleteConstant\",\n    value: function deleteConstant(name) {\n      delete this.constants[name];\n    }\n    /**\n     * Is used for u-substitution. Gets a suitable u for substitution. If for\n     * instance a is used in the symbol then it keeps going down the line until\n     * one is found that's not in use. If all letters are taken then it\n     * starts appending numbers.\n     * IMPORTANT! It assumes that the substitution will be undone\n     * beore the user gets to interact with the object again.\n     * @param {Symbol} symbol\n     */\n\n  }, {\n    key: \"getU\",\n    value: function getU(symbol) {\n      //start with u\n      var u = 'u',\n          //start with u\n      v = u,\n          //init with u\n      c = 0,\n          //postfix number\n      vars = symbol.variables(); //make sure this variable isn't reserved and isn't in the variable list\n\n      while (!(this.reserved.indexOf(v) === -1 && vars.indexOf(v) === -1)) {\n        v = u + c++;\n      } //get an empty slot. It seems easier to just push but the\n      //problem is that we may have some which are created by clearU\n\n\n      for (var i = 0, l = this.reserved.length; i <= l; i++) {\n        //reserved cannot equals false or 0 so we can safely check for a falsy type\n        if (!this.reserved[i]) {\n          this.reserved[i] = v; //reserve the variable\n\n          break;\n        }\n      }\n\n      return v;\n    }\n    /**\n     * Clears the u variable so it's no longer reserved\n     * @param {String} u\n     */\n\n  }, {\n    key: \"clearU\",\n    value: function clearU(u) {\n      var idx = this.reserved.indexOf(u);\n\n      if (idx !== -1) {\n        this.reserved[idx] = undefined;\n      }\n    }\n  }, {\n    key: \"isReserved\",\n    value:\n    /**\n     * Checks to see if value is one of nerdamer's reserved names\n     * @param {String} name\n     * @return boolean\n     */\n    function isReserved(name) {\n      return this.reserved.indexOf(name) !== -1;\n    }\n  }, {\n    key: \"reserveName\",\n    value: function reserveName(name) {\n      if (!this.isReserved(name)) {\n        this.reserved.push(name);\n      }\n    }\n    /**\n     * Reserves the names in an object so they cannot be used as function names\n     * @param {Object} obj\n     */\n\n  }, {\n    key: \"reserveNames\",\n    value: function reserveNames(obj) {\n      var _this = this;\n\n      if (typeof obj === 'string') {\n        this.reserveName(obj);\n      } else {\n        (0, Utils_1.each)(obj, function (x) {\n          _this.reserveName(String(x));\n        });\n      }\n    }\n  }, {\n    key: \"getReserved\",\n    value: function getReserved() {\n      return this.reserved;\n    }\n  }]);\n\n  return VariableDictionary;\n}();\n\nexports.VariableDictionary = VariableDictionary;","map":{"version":3,"mappings":"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","names":["VariableDictionary","name","value","vars","constants","symbol","u","v","c","variables","reserved","indexOf","i","l","length","idx","undefined","isReserved","push","obj","reserveName","x","String","exports"],"sourceRoot":"","sources":["../../src/Providers/VariableDictionary.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}