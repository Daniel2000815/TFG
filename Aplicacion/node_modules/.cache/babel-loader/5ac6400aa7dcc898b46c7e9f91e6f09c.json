{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\src\\\\CustomNodes\\\\BooleanNode.js\";\nimport React, { useEffect, memo } from \"react\";\nimport CustomNode from \"../CustomNodes/CustomNode\";\nimport FloatSlider from \"../CustomComponents/FloatSlider\";\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nvar theme = createTheme({\n  palette: {\n    primary: {\n      light: '#ff8787',\n      main: '#ff5858',\n      dark: '#ff2323',\n      contrastText: 'white'\n    }\n  }\n});\nvar BooleanOperations = {\n  Union: \"Union\",\n  Difference: \"Difference\",\n  Intersection: \"Intersection\"\n};\nfunction BooleanNode(_ref) {\n  var data = _ref.data,\n    id = _ref.id;\n  var _React$useState = React.useState(BooleanOperations.Union),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    operation = _React$useState2[0],\n    setOperation = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 1),\n    smooth = _React$useState4[0];\n  var _React$useState5 = React.useState(0.0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    k = _React$useState6[0],\n    setK = _React$useState6[1];\n  var _React$useState7 = React.useState(\"\"),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    sdf = _React$useState8[0],\n    setSdf = _React$useState8[1];\n  useEffect(function () {\n    console.log(\"SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO \".concat(id, \". AHORA HAY \").concat(Object.keys(data.inputs).length));\n\n    // minimum of 2 inputs\n    var keys = Object.keys(data.inputs);\n    if (keys.length < 2) return;\n    var newSdf = \"sdfSmooth\".concat(operation, \"(\").concat(data.inputs[keys[0]], \", \").concat(data.inputs[keys[1]], \", \").concat(k, \")\");\n\n    // Add the rest of inputs\n    for (var i = 0; i < keys.length - 2; i++) {\n      console.log(data.inputs[keys[i + 2]]);\n      newSdf = \"sdfSmooth\".concat(operation, \"(\").concat(data.inputs[keys[i + 2]], \", \").concat(newSdf, \", \").concat(k, \")\");\n    }\n    ;\n    setSdf(newSdf);\n  }, [data, operation, smooth, k]);\n  var handleChange = function handleChange(ev, val) {\n    setK(parseFloat(val));\n  };\n  return /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CustomNode, {\n    title: \"Boolean\",\n    id: id,\n    data: data,\n    dropdownOptions: Object.values(BooleanOperations),\n    onChangeOption: setOperation,\n    sdf: sdf,\n    currOption: operation,\n    nInputs: Math.max(2, Object.keys(data.inputs).length + 1),\n    body: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"Smoothness\", /*#__PURE__*/React.createElement(FloatSlider, {\n      handleChange: handleChange,\n      range: [0, 10],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }));\n}\nexport default memo(BooleanNode);","map":{"version":3,"names":["React","useEffect","memo","CustomNode","FloatSlider","createTheme","ThemeProvider","theme","palette","primary","light","main","dark","contrastText","BooleanOperations","Union","Difference","Intersection","BooleanNode","data","id","useState","operation","setOperation","smooth","k","setK","sdf","setSdf","console","log","Object","keys","inputs","length","newSdf","i","handleChange","ev","val","parseFloat","values","Math","max","margin"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomNodes/BooleanNode.js"],"sourcesContent":["import React, { useEffect, memo } from \"react\";\r\nimport CustomNode from \"../CustomNodes/CustomNode\";\r\nimport FloatSlider from \"../CustomComponents/FloatSlider\";\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#ff8787',\r\n      main: '#ff5858',\r\n      dark: '#ff2323',\r\n      contrastText: 'white',\r\n    },\r\n  },\r\n});\r\n\r\nconst BooleanOperations = {\r\n  Union: \"Union\",\r\n  Difference: \"Difference\",\r\n  Intersection: \"Intersection\",\r\n};\r\n\r\nfunction BooleanNode({ data, id }) {\r\n  const [operation, setOperation] = React.useState(BooleanOperations.Union);\r\n  const [smooth] = React.useState(true);\r\n  const [k, setK] = React.useState(0.0);\r\n  const [sdf, setSdf] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      `SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO ${id}. AHORA HAY ${Object.keys(data.inputs).length\r\n      }`\r\n    );\r\n\r\n    \r\n\r\n    // minimum of 2 inputs\r\n    const keys = Object.keys(data.inputs);\r\n    if(keys.length < 2)\r\n      return;\r\n\r\n    let newSdf = `sdfSmooth${operation}(${data.inputs[keys[0]]}, ${data.inputs[keys[1]]}, ${k})`;\r\n\r\n    // Add the rest of inputs\r\n    for (let i = 0; i < keys.length - 2; i++) {\r\n      console.log(data.inputs[keys[i + 2]]);\r\n      newSdf = `sdfSmooth${operation}(${data.inputs[keys[i + 2]]}, ${newSdf}, ${k})`;\r\n    };\r\n\r\n    setSdf(newSdf);\r\n  }, [data, operation, smooth, k]);\r\n\r\n\r\n\r\n  const handleChange = (ev, val) => {\r\n    setK(parseFloat(val));\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CustomNode\r\n        title={\"Boolean\"}\r\n        id={id}\r\n        data={data}\r\n        dropdownOptions={Object.values(BooleanOperations)}\r\n        onChangeOption={setOperation}\r\n        sdf={sdf}\r\n        currOption={operation}\r\n        nInputs={Math.max(2, Object.keys(data.inputs).length + 1)}\r\n        body={\r\n          <div style={{ margin: 10 }}>\r\n            Smoothness\r\n\r\n            <FloatSlider\r\n              handleChange={handleChange}\r\n              range={[0, 10]}\r\n            />\r\n\r\n          </div>\r\n        }\r\n      />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default memo(BooleanNode);"],"mappings":"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"},"metadata":{},"sourceType":"module"}