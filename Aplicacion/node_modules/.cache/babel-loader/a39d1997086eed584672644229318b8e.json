{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import CustomNode from\"../CustomNodes/CustomNode\";import Slider from'@mui/material/Slider';import{createTheme,ThemeProvider}from'@mui/material/styles';var theme=createTheme({palette:{primary:{light:'#a8f798',main:'#3ec224',dark:'#1c9404',contrastText:'white'}}});var DeformOperations={Bend:\"Bend\",Twist:\"Twist\"};export default function DeformNode(_ref){var data=_ref.data,id=_ref.id;var _React$useState=React.useState(DeformOperations.Bend),_React$useState2=_slicedToArray(_React$useState,2),operation=_React$useState2[0],setOperation=_React$useState2[1];var _React$useState3=React.useState(0.0),_React$useState4=_slicedToArray(_React$useState3,2),k=_React$useState4[0],setK=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),sdf=_React$useState6[0],setSdf=_React$useState6[1];useEffect(function(){console.log(\"SE HAN MODIFICADO LOS SDF EN NODO DEFORM \".concat(id,\". AHORA HAY \").concat(Object.keys(data.inputs).length));var input=data.inputs[Object.keys(data.inputs)[0]];if(input){console.log(\"OLD: \"+input);console.log(typeof input);setSdf(input.replace(\"p,\",\"sdf\".concat(operation,\"(p, \").concat(k,\"),\")));}},[data,operation,k]);return/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(CustomNode,{title:\"Deform\",id:id,data:data,dropdownOptions:Object.values(DeformOperations),onChangeOption:setOperation,sdf:sdf,currOption:operation,body:/*#__PURE__*/React.createElement(\"div\",{style:{margin:10}},\"Amount\",/*#__PURE__*/React.createElement(Slider,{size:\"small\",value:k,label:\"k\",valueLabelDisplay:\"on\",onChange:function onChange(e,v){return setK(parseFloat(v));},min:0,max:5,step:0.1}))}));}","map":{"version":3,"names":["React","useEffect","CustomNode","Slider","createTheme","ThemeProvider","theme","palette","primary","light","main","dark","contrastText","DeformOperations","Bend","Twist","DeformNode","data","id","useState","operation","setOperation","k","setK","sdf","setSdf","console","log","Object","keys","inputs","length","input","replace","values","margin","e","v","parseFloat"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomNodes/DeformNode.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport CustomNode from \"../CustomNodes/CustomNode\";\r\nimport Slider from '@mui/material/Slider';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#a8f798',\r\n      main: '#3ec224',\r\n      dark: '#1c9404',\r\n      contrastText: 'white',\r\n    },\r\n  },\r\n});\r\n\r\nconst DeformOperations = {\r\n  Bend: \"Bend\",\r\n  Twist: \"Twist\",\r\n};\r\n\r\nexport default function DeformNode({ data, id }) {\r\n  const [operation, setOperation] = React.useState(DeformOperations.Bend);\r\n  const [k, setK] = React.useState(0.0);\r\n\r\n  const [sdf, setSdf] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      `SE HAN MODIFICADO LOS SDF EN NODO DEFORM ${id}. AHORA HAY ${Object.keys(data.inputs).length\r\n      }`\r\n    );\r\n    \r\n    let input = data.inputs[Object.keys(data.inputs)[0]];\r\n\r\n    if(input){\r\n      console.log(\"OLD: \" + input);\r\n      console.log(typeof(input));\r\n      setSdf(input.replace(\"p,\", `sdf${operation}(p, ${k}),`));\r\n\r\n    }\r\n  }, [data, operation, k]);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n    <CustomNode\r\n      title={\"Deform\"}\r\n      id={id}\r\n      data={data}\r\n      dropdownOptions={Object.values(DeformOperations)}\r\n      onChangeOption={setOperation}\r\n      sdf={sdf}\r\n      currOption={operation}\r\n      body={\r\n        <div style={{ margin: 10 }}>\r\n            Amount\r\n         \r\n            <Slider\r\n              size=\"small\"\r\n              value={k}\r\n              label=\"k\"\r\n              valueLabelDisplay=\"on\"\r\n              onChange={(e, v) => setK(parseFloat(v))}\r\n              min={0}\r\n              max={5}\r\n              step={0.1}\r\n          />          \r\n        </div>\r\n      }\r\n    />\r\n    </ThemeProvider>\r\n  );\r\n}"],"mappings":"6JAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,WAAP,KAAuB,2BAAvB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAASC,WAAT,CAAsBC,aAAtB,KAA2C,sBAA3C,CAEA,GAAMC,MAAK,CAAGF,WAAW,CAAC,CACxBG,OAAO,CAAE,CACPC,OAAO,CAAE,CACPC,KAAK,CAAE,SADA,CAEPC,IAAI,CAAE,SAFC,CAGPC,IAAI,CAAE,SAHC,CAIPC,YAAY,CAAE,OAJP,CADF,CADe,CAAD,CAAzB,CAWA,GAAMC,iBAAgB,CAAG,CACvBC,IAAI,CAAE,MADiB,CAEvBC,KAAK,CAAE,OAFgB,CAAzB,CAKA,cAAe,SAASC,WAAT,MAAkC,IAAZC,KAAY,MAAZA,IAAY,CAANC,EAAM,MAANA,EAAM,CAC/C,oBAAkClB,KAAK,CAACmB,QAAN,CAAeN,gBAAgB,CAACC,IAAhC,CAAlC,oDAAOM,SAAP,qBAAkBC,YAAlB,qBACA,qBAAkBrB,KAAK,CAACmB,QAAN,CAAe,GAAf,CAAlB,qDAAOG,CAAP,qBAAUC,IAAV,qBAEA,qBAAsBvB,KAAK,CAACmB,QAAN,CAAe,EAAf,CAAtB,qDAAOK,GAAP,qBAAYC,MAAZ,qBAEAxB,SAAS,CAAC,UAAM,CACdyB,OAAO,CAACC,GAAR,oDAC8CT,EAD9C,wBAC+DU,MAAM,CAACC,IAAP,CAAYZ,IAAI,CAACa,MAAjB,EAAyBC,MADxF,GAKA,GAAIC,MAAK,CAAGf,IAAI,CAACa,MAAL,CAAYF,MAAM,CAACC,IAAP,CAAYZ,IAAI,CAACa,MAAjB,EAAyB,CAAzB,CAAZ,CAAZ,CAEA,GAAGE,KAAH,CAAS,CACPN,OAAO,CAACC,GAAR,CAAY,QAAUK,KAAtB,EACAN,OAAO,CAACC,GAAR,CAAY,MAAOK,MAAnB,EACAP,MAAM,CAACO,KAAK,CAACC,OAAN,CAAc,IAAd,cAA0Bb,SAA1B,gBAA0CE,CAA1C,OAAD,CAAN,CAED,CACF,CAdQ,CAcN,CAACL,IAAD,CAAOG,SAAP,CAAkBE,CAAlB,CAdM,CAAT,CAgBA,mBACE,oBAAC,aAAD,EAAe,KAAK,CAAEhB,KAAtB,eACA,oBAAC,UAAD,EACE,KAAK,CAAE,QADT,CAEE,EAAE,CAAEY,EAFN,CAGE,IAAI,CAAED,IAHR,CAIE,eAAe,CAAEW,MAAM,CAACM,MAAP,CAAcrB,gBAAd,CAJnB,CAKE,cAAc,CAAEQ,YALlB,CAME,GAAG,CAAEG,GANP,CAOE,UAAU,CAAEJ,SAPd,CAQE,IAAI,cACF,2BAAK,KAAK,CAAE,CAAEe,MAAM,CAAE,EAAV,CAAZ,wBAGI,oBAAC,MAAD,EACE,IAAI,CAAC,OADP,CAEE,KAAK,CAAEb,CAFT,CAGE,KAAK,CAAC,GAHR,CAIE,iBAAiB,CAAC,IAJpB,CAKE,QAAQ,CAAE,kBAACc,CAAD,CAAIC,CAAJ,QAAUd,KAAI,CAACe,UAAU,CAACD,CAAD,CAAX,CAAd,EALZ,CAME,GAAG,CAAE,CANP,CAOE,GAAG,CAAE,CAPP,CAQE,IAAI,CAAE,GARR,EAHJ,CATJ,EADA,CADF,CA6BD"},"metadata":{},"sourceType":"module"}