{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.abs = void 0;\n\nvar Symbol_1 = require(\"../../../Types/Symbol\");\n\nvar add_1 = require(\"../operations/add\");\n\nvar Utils_1 = require(\"../../../Core/Utils\");\n\nvar Math2_1 = require(\"../../Math2\");\n\nvar Frac_1 = require(\"../../../Types/Frac\");\n\nvar Settings_1 = require(\"../../../Settings\");\n\nvar index_1 = require(\"../index\");\n\nvar Parser_1 = require(\"../../../Parser/Parser\");\n\nfunction abs(symbol) {\n  //|-∞| = ∞\n  if (symbol.isInfinity) {\n    return Symbol_1.Symbol.infinity();\n  }\n\n  if (symbol.multiplier.lessThan(0)) symbol.multiplier.negate();\n\n  if (symbol.isImaginary()) {\n    var re = symbol.realpart();\n    var im = symbol.imagpart();\n    if (re.isConstant() && im.isConstant()) return (0, index_1.sqrt)((0, add_1.add)((0, index_1.pow)(re, new Symbol_1.Symbol(2)), (0, index_1.pow)(im, new Symbol_1.Symbol(2))));\n  } else if ((0, Utils_1.isNumericSymbol)(symbol) || (0, Utils_1.even)(symbol.power)) {\n    return symbol;\n  }\n\n  if (symbol.isComposite()) {\n    var ms = [];\n    symbol.each(function (x) {\n      ms.push(x.multiplier);\n    });\n    var gcd = Math2_1.Math2.QGCD.apply(null, ms);\n\n    if (gcd.lessThan(0)) {\n      symbol.multiplier = symbol.multiplier.multiply(new Frac_1.Frac(-1));\n      symbol.distributeMultiplier();\n    }\n  } //convert |n*x| to n*|x|\n\n\n  var m = (0, Parser_1.parse)(symbol.multiplier);\n  symbol.toUnitMultiplier();\n  return (0, index_1.multiply)(m, (0, Symbol_1.symfunction)(Settings_1.Settings.ABS, [symbol]));\n}\n\nexports.abs = abs;","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,SAAgBA,GAAhB,CAAoBC,MAApB,EAA0B;EAEtB;EACA,IAAIA,MAAM,CAACC,UAAX,EAAuB;IACnB,OAAOC,gBAAOC,QAAP,EAAP;EACH;;EACD,IAAIH,MAAM,CAACI,UAAP,CAAkBC,QAAlB,CAA2B,CAA3B,CAAJ,EACIL,MAAM,CAACI,UAAP,CAAkBE,MAAlB;;EAEJ,IAAIN,MAAM,CAACO,WAAP,EAAJ,EAA0B;IACtB,IAAIC,EAAE,GAAGR,MAAM,CAACS,QAAP,EAAT;IACA,IAAIC,EAAE,GAAGV,MAAM,CAACW,QAAP,EAAT;IACA,IAAIH,EAAE,CAACI,UAAH,MAAmBF,EAAE,CAACE,UAAH,EAAvB,EACI,OAAO,kBAAK,eAAI,iBAAIJ,EAAJ,EAAQ,IAAIN,eAAJ,CAAW,CAAX,CAAR,CAAJ,EAA4B,iBAAIQ,EAAJ,EAAQ,IAAIR,eAAJ,CAAW,CAAX,CAAR,CAA5B,CAAL,CAAP;EACP,CALD,MAMK,IAAI,6BAAgBF,MAAhB,KAA2B,kBAAKA,MAAM,CAACa,KAAZ,CAA/B,EAAmD;IACpD,OAAOb,MAAP;EACH;;EAED,IAAIA,MAAM,CAACc,WAAP,EAAJ,EAA0B;IACtB,IAAIC,EAAE,GAAG,EAAT;IACAf,MAAM,CAACgB,IAAP,CAAY,UAAUC,CAAV,EAAW;MACnBF,EAAE,CAACG,IAAH,CAAQD,CAAC,CAACb,UAAV;IACH,CAFD;IAGA,IAAIe,GAAG,GAAGC,cAAMC,IAAN,CAAWC,KAAX,CAAiB,IAAjB,EAAuBP,EAAvB,CAAV;;IACA,IAAII,GAAG,CAACd,QAAJ,CAAa,CAAb,CAAJ,EAAqB;MACjBL,MAAM,CAACI,UAAP,GAAoBJ,MAAM,CAACI,UAAP,CAAkBmB,QAAlB,CAA2B,IAAIC,WAAJ,CAAS,CAAC,CAAV,CAA3B,CAApB;MACAxB,MAAM,CAACyB,oBAAP;IACH;EACJ,CA7BqB,CA+BtB;;;EACA,IAAIC,CAAC,GAAG,oBAAM1B,MAAM,CAACI,UAAb,CAAR;EACAJ,MAAM,CAAC2B,gBAAP;EAEA,OAAO,sBAASD,CAAT,EAAY,0BAAYE,oBAASC,GAArB,EAA0B,CAAC7B,MAAD,CAA1B,CAAZ,CAAP;AACH;;AApCD8B","names":["abs","symbol","isInfinity","Symbol_1","infinity","multiplier","lessThan","negate","isImaginary","re","realpart","im","imagpart","isConstant","power","isComposite","ms","each","x","push","gcd","Math2_1","QGCD","apply","multiply","Frac_1","distributeMultiplier","m","toUnitMultiplier","Settings_1","ABS","exports"],"sourceRoot":"","sources":["../../../../src/Functions/Core/math/abs.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}