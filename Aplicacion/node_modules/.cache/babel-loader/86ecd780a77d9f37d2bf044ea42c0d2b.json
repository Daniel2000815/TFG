{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import GraphContext from\"./GraphContext.js\";import Shader from\"./Shader.js\";import{fs}from\"./fragmentShader.js\";import Button from\"@mui/material/Button\";import KeyboardArrowDownIcon from\"@mui/icons-material/KeyboardArrowDown\";import KeyboardArrowUpIcon from\"@mui/icons-material/KeyboardArrowUp\";export default function ShaderNode(_ref){var data=_ref.data,id=_ref.id,computeSdf=_ref.computeSdf,content=_ref.content;var _React$useState=React.useState(\"sphere(p, 1.0)\"),_React$useState2=_slicedToArray(_React$useState,2),sdf=_React$useState2[0],setSdf=_React$useState2[1];var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showCanvas=_useState2[0],setShowCanvas=_useState2[1];var sharedFunctions=useContext(GraphContext);useEffect(function(){console.log(\"HA\");console.log(data);},[data]);useEffect(function(){sharedFunctions.updateNodeSdf(id,sdf);},[sdf]);useEffect(function(){console.log(\"STRAT\");computeSdf();},[sdf]);return/*#__PURE__*/React.createElement(\"div\",{className:\"custom-node\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-node-header\"},\"Ejemplo:\"),/*#__PURE__*/React.createElement(\"p\",null,\"ID: \".concat(id)),/*#__PURE__*/React.createElement(\"p\",null,\"CHILDREN: \",data.children),/*#__PURE__*/React.createElement(\"p\",null,\"SDF: \",sdf),content,showCanvas?/*#__PURE__*/React.createElement(Shader,{shader:fs(sdf),uniforms:{color:{type:\"3fv\",value:[1.0,1.0,0.0]}},style:{margin:\"10px\"}}):null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setShowCanvas(!showCanvas);},variant:\"contained\",className:\"custom-node-creater\",size:\"small\",endIcon:showCanvas?/*#__PURE__*/React.createElement(KeyboardArrowUpIcon,null):/*#__PURE__*/React.createElement(KeyboardArrowDownIcon,null)},showCanvas?\"Hide canvas\":\"Show canvas\"));}","map":{"version":3,"names":["React","useState","useContext","useEffect","GraphContext","Shader","fs","Button","KeyboardArrowDownIcon","KeyboardArrowUpIcon","ShaderNode","data","id","computeSdf","content","sdf","setSdf","showCanvas","setShowCanvas","sharedFunctions","console","log","updateNodeSdf","children","color","type","value","margin"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/ShaderNode.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport GraphContext from \"./GraphContext.js\";\r\n\r\nimport Shader from \"./Shader.js\";\r\nimport { fs } from \"./fragmentShader.js\";\r\nimport Button from \"@mui/material/Button\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\r\n\r\n\r\nexport default function ShaderNode({ data, id, computeSdf, content }) {\r\n  const [sdf, setSdf] = React.useState(\"sphere(p, 1.0)\");\r\n  const [showCanvas, setShowCanvas] = useState(true);\r\n\r\n  const sharedFunctions = useContext(GraphContext);\r\n  useEffect(() => {\r\n    console.log(\"HA\");\r\n    console.log(data);\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    sharedFunctions.updateNodeSdf(id, sdf);\r\n  }, [sdf]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"STRAT\");\r\n    computeSdf();\r\n  }, [sdf]);\r\n\r\n  return (\r\n    <div className=\"custom-node\">\r\n      <div className=\"custom-node-header\">Ejemplo:</div>\r\n\r\n      <p>{`ID: ${id}`}</p>\r\n      <p>CHILDREN: {data.children}</p>\r\n      <p>SDF: {sdf}</p>\r\n\r\n      {content}\r\n\r\n      {showCanvas ? (\r\n        <Shader\r\n          shader={fs(sdf)}\r\n          uniforms={{ color: { type: \"3fv\", value: [1.0, 1.0, 0.0] } }}\r\n          style={{ margin: \"10px\" }}\r\n        />\r\n      ) : null}\r\n\r\n      <Button\r\n        onClick={() => setShowCanvas(!showCanvas)}\r\n        variant=\"contained\"\r\n        className=\"custom-node-creater\"\r\n        size=\"small\"\r\n        endIcon={\r\n          showCanvas ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />\r\n        }\r\n      >\r\n        {showCanvas ? \"Hide canvas\" : \"Show canvas\"}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"6JAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,aAAP,KAAyB,mBAAzB,CAEA,MAAOC,OAAP,KAAmB,aAAnB,CACA,OAASC,EAAT,KAAmB,qBAAnB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,sBAAP,KAAkC,uCAAlC,CACA,MAAOC,oBAAP,KAAgC,qCAAhC,CAGA,cAAe,SAASC,WAAT,MAAuD,IAAjCC,KAAiC,MAAjCA,IAAiC,CAA3BC,EAA2B,MAA3BA,EAA2B,CAAvBC,UAAuB,MAAvBA,UAAuB,CAAXC,OAAW,MAAXA,OAAW,CACpE,oBAAsBd,KAAK,CAACC,QAAN,CAAe,gBAAf,CAAtB,oDAAOc,GAAP,qBAAYC,MAAZ,qBACA,cAAoCf,QAAQ,CAAC,IAAD,CAA5C,wCAAOgB,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,gBAAe,CAAGjB,UAAU,CAACE,YAAD,CAAlC,CACAD,SAAS,CAAC,UAAM,CACdiB,OAAO,CAACC,GAAR,CAAY,IAAZ,EACAD,OAAO,CAACC,GAAR,CAAYV,IAAZ,EACD,CAHQ,CAGN,CAACA,IAAD,CAHM,CAAT,CAKAR,SAAS,CAAC,UAAM,CACdgB,eAAe,CAACG,aAAhB,CAA8BV,EAA9B,CAAkCG,GAAlC,EACD,CAFQ,CAEN,CAACA,GAAD,CAFM,CAAT,CAIAZ,SAAS,CAAC,UAAM,CACdiB,OAAO,CAACC,GAAR,CAAY,OAAZ,EACAR,UAAU,GACX,CAHQ,CAGN,CAACE,GAAD,CAHM,CAAT,CAKA,mBACE,2BAAK,SAAS,CAAC,aAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,aADF,cAGE,2CAAWH,EAAX,EAHF,cAIE,0CAAcD,IAAI,CAACY,QAAnB,CAJF,cAKE,qCAASR,GAAT,CALF,CAOGD,OAPH,CASGG,UAAU,cACT,oBAAC,MAAD,EACE,MAAM,CAAEX,EAAE,CAACS,GAAD,CADZ,CAEE,QAAQ,CAAE,CAAES,KAAK,CAAE,CAAEC,IAAI,CAAE,KAAR,CAAeC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAtB,CAAT,CAFZ,CAGE,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAV,CAHT,EADS,CAMP,IAfN,cAiBE,oBAAC,MAAD,EACE,OAAO,CAAE,yBAAMT,cAAa,CAAC,CAACD,UAAF,CAAnB,EADX,CAEE,OAAO,CAAC,WAFV,CAGE,SAAS,CAAC,qBAHZ,CAIE,IAAI,CAAC,OAJP,CAKE,OAAO,CACLA,UAAU,cAAG,oBAAC,mBAAD,MAAH,cAA6B,oBAAC,qBAAD,MAN3C,EASGA,UAAU,CAAG,aAAH,CAAmB,aAThC,CAjBF,CADF,CA+BD"},"metadata":{},"sourceType":"module"}