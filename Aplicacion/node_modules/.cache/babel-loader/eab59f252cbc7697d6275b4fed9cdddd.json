{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nimport { isComplex, isUnit, typeOf } from '../../utils/is.js';\nimport { factory } from '../../utils/factory.js';\nimport { memoize } from '../../utils/function.js';\nimport { endsWith } from '../../utils/string.js';\nimport { clone, hasOwnProperty } from '../../utils/object.js';\nimport { createBigNumberPi as createPi } from '../../utils/bignumber/constants.js';\nvar name = 'Unit';\nvar dependencies = ['?on', 'config', 'addScalar', 'subtract', 'multiplyScalar', 'divideScalar', 'pow', 'abs', 'fix', 'round', 'equal', 'isNumeric', 'format', 'number', 'Complex', 'BigNumber', 'Fraction'];\nexport var createUnitClass = /* #__PURE__ */factory(name, dependencies, function (_ref) {\n  var on = _ref.on,\n      config = _ref.config,\n      addScalar = _ref.addScalar,\n      subtract = _ref.subtract,\n      multiplyScalar = _ref.multiplyScalar,\n      divideScalar = _ref.divideScalar,\n      pow = _ref.pow,\n      abs = _ref.abs,\n      fix = _ref.fix,\n      round = _ref.round,\n      equal = _ref.equal,\n      isNumeric = _ref.isNumeric,\n      format = _ref.format,\n      number = _ref.number,\n      Complex = _ref.Complex,\n      _BigNumber = _ref.BigNumber,\n      _Fraction = _ref.Fraction;\n  var toNumber = number;\n  /**\r\n   * A unit can be constructed in the following ways:\r\n   *\r\n   *     const a = new Unit(value, valuelessUnit)\r\n   *     const b = new Unit(null, valuelessUnit)\r\n   *     const c = Unit.parse(str)\r\n   *\r\n   * Example usage:\r\n   *\r\n   *     const a = new Unit(5, 'cm')               // 50 mm\r\n   *     const b = Unit.parse('23 kg')             // 23 kg\r\n   *     const c = math.in(a, new Unit(null, 'm')  // 0.05 m\r\n   *     const d = new Unit(9.81, \"m/s^2\")         // 9.81 m/s^2\r\n   *\r\n   * @class Unit\r\n   * @constructor Unit\r\n   * @param {number | BigNumber | Fraction | Complex | boolean} [value]  A value like 5.2\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   */\n\n  function Unit(value, valuelessUnit) {\n    if (!(this instanceof Unit)) {\n      throw new Error('Constructor must be called with the new operator');\n    }\n\n    if (!(value === null || value === undefined || isNumeric(value) || isComplex(value))) {\n      throw new TypeError('First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined');\n    }\n\n    this.fixPrefix = false; // if true, function format will not search for the\n    // best prefix but leave it as initially provided.\n    // fixPrefix is set true by the method Unit.to\n    // The justification behind this is that if the constructor is explicitly called,\n    // the caller wishes the units to be returned exactly as supplied.\n\n    this.skipAutomaticSimplification = true;\n\n    if (valuelessUnit === undefined) {\n      this.units = [];\n      this.dimensions = BASE_DIMENSIONS.map(function (x) {\n        return 0;\n      });\n    } else if (typeof valuelessUnit === 'string') {\n      var u = Unit.parse(valuelessUnit);\n      this.units = u.units;\n      this.dimensions = u.dimensions;\n    } else if (isUnit(valuelessUnit) && valuelessUnit.value === null) {\n      // clone from valuelessUnit\n      this.fixPrefix = valuelessUnit.fixPrefix;\n      this.skipAutomaticSimplification = valuelessUnit.skipAutomaticSimplification;\n      this.dimensions = valuelessUnit.dimensions.slice(0);\n      this.units = valuelessUnit.units.map(function (u) {\n        return _extends({}, u);\n      });\n    } else {\n      throw new TypeError('Second parameter in Unit constructor must be a string or valueless Unit');\n    }\n\n    this.value = this._normalize(value);\n  }\n  /**\r\n   * Attach type information\r\n   */\n\n\n  Object.defineProperty(Unit, 'name', {\n    value: 'Unit'\n  });\n  Unit.prototype.constructor = Unit;\n  Unit.prototype.type = 'Unit';\n  Unit.prototype.isUnit = true; // private variables and functions for the Unit parser\n\n  var text, index, c;\n\n  function skipWhitespace() {\n    while (c === ' ' || c === '\\t') {\n      next();\n    }\n  }\n\n  function isDigitDot(c) {\n    return c >= '0' && c <= '9' || c === '.';\n  }\n\n  function isDigit(c) {\n    return c >= '0' && c <= '9';\n  }\n\n  function next() {\n    index++;\n    c = text.charAt(index);\n  }\n\n  function revert(oldIndex) {\n    index = oldIndex;\n    c = text.charAt(index);\n  }\n\n  function parseNumber() {\n    var number = '';\n    var oldIndex = index;\n\n    if (c === '+') {\n      next();\n    } else if (c === '-') {\n      number += c;\n      next();\n    }\n\n    if (!isDigitDot(c)) {\n      // a + or - must be followed by a digit\n      revert(oldIndex);\n      return null;\n    } // get number, can have a single dot\n\n\n    if (c === '.') {\n      number += c;\n      next();\n\n      if (!isDigit(c)) {\n        // this is no legal number, it is just a dot\n        revert(oldIndex);\n        return null;\n      }\n    } else {\n      while (isDigit(c)) {\n        number += c;\n        next();\n      }\n\n      if (c === '.') {\n        number += c;\n        next();\n      }\n    }\n\n    while (isDigit(c)) {\n      number += c;\n      next();\n    } // check for exponential notation like \"2.3e-4\" or \"1.23e50\"\n\n\n    if (c === 'E' || c === 'e') {\n      // The grammar branches here. This could either be part of an exponent or the start of a unit that begins with the letter e, such as \"4exabytes\"\n      var tentativeNumber = '';\n      var tentativeIndex = index;\n      tentativeNumber += c;\n      next();\n\n      if (c === '+' || c === '-') {\n        tentativeNumber += c;\n        next();\n      } // Scientific notation MUST be followed by an exponent (otherwise we assume it is not scientific notation)\n\n\n      if (!isDigit(c)) {\n        // The e or E must belong to something else, so return the number without the e or E.\n        revert(tentativeIndex);\n        return number;\n      } // We can now safely say that this is scientific notation.\n\n\n      number = number + tentativeNumber;\n\n      while (isDigit(c)) {\n        number += c;\n        next();\n      }\n    }\n\n    return number;\n  }\n\n  function parseUnit() {\n    var unitName = ''; // Alphanumeric characters only; matches [a-zA-Z0-9]\n\n    while (isDigit(c) || Unit.isValidAlpha(c)) {\n      unitName += c;\n      next();\n    } // Must begin with [a-zA-Z]\n\n\n    var firstC = unitName.charAt(0);\n\n    if (Unit.isValidAlpha(firstC)) {\n      return unitName;\n    } else {\n      return null;\n    }\n  }\n\n  function parseCharacter(toFind) {\n    if (c === toFind) {\n      next();\n      return toFind;\n    } else {\n      return null;\n    }\n  }\n  /**\r\n   * Parse a string into a unit. The value of the unit is parsed as number,\r\n   * BigNumber, or Fraction depending on the math.js config setting `number`.\r\n   *\r\n   * Throws an exception if the provided string does not contain a valid unit or\r\n   * cannot be parsed.\r\n   * @memberof Unit\r\n   * @param {string} str        A string like \"5.2 inch\", \"4e2 cm/s^2\"\r\n   * @return {Unit} unit\r\n   */\n\n\n  Unit.parse = function (str, options) {\n    options = options || {};\n    text = str;\n    index = -1;\n    c = '';\n\n    if (typeof text !== 'string') {\n      throw new TypeError('Invalid argument in Unit.parse, string expected');\n    }\n\n    var unit = new Unit();\n    unit.units = [];\n    var powerMultiplierCurrent = 1;\n    var expectingUnit = false; // A unit should follow this pattern:\n    // [number] ...[ [*/] unit[^number] ]\n    // unit[^number] ... [ [*/] unit[^number] ]\n    // Rules:\n    // number is any floating point number.\n    // unit is any alphanumeric string beginning with an alpha. Units with names like e3 should be avoided because they look like the exponent of a floating point number!\n    // The string may optionally begin with a number.\n    // Each unit may optionally be followed by ^number.\n    // Whitespace or a forward slash is recommended between consecutive units, although the following technically is parseable:\n    //   2m^2kg/s^2\n    // it is not good form. If a unit starts with e, then it could be confused as a floating point number:\n    //   4erg\n\n    next();\n    skipWhitespace(); // Optional number at the start of the string\n\n    var valueStr = parseNumber();\n    var value = null;\n\n    if (valueStr) {\n      if (config.number === 'BigNumber') {\n        value = new _BigNumber(valueStr);\n      } else if (config.number === 'Fraction') {\n        try {\n          // not all numbers can be turned in Fractions, for example very small numbers not\n          value = new _Fraction(valueStr);\n        } catch (err) {\n          value = parseFloat(valueStr);\n        }\n      } else {\n        // number\n        value = parseFloat(valueStr);\n      }\n\n      skipWhitespace(); // Whitespace is not required here\n      // handle multiplication or division right after the value, like '1/s'\n\n      if (parseCharacter('*')) {\n        powerMultiplierCurrent = 1;\n        expectingUnit = true;\n      } else if (parseCharacter('/')) {\n        powerMultiplierCurrent = -1;\n        expectingUnit = true;\n      }\n    } // Stack to keep track of powerMultipliers applied to each parentheses group\n\n\n    var powerMultiplierStack = []; // Running product of all elements in powerMultiplierStack\n\n    var powerMultiplierStackProduct = 1;\n\n    while (true) {\n      skipWhitespace(); // Check for and consume opening parentheses, pushing powerMultiplierCurrent to the stack\n      // A '(' will always appear directly before a unit.\n\n      while (c === '(') {\n        powerMultiplierStack.push(powerMultiplierCurrent);\n        powerMultiplierStackProduct *= powerMultiplierCurrent;\n        powerMultiplierCurrent = 1;\n        next();\n        skipWhitespace();\n      } // Is there something here?\n\n\n      var uStr = void 0;\n\n      if (c) {\n        var oldC = c;\n        uStr = parseUnit();\n\n        if (uStr === null) {\n          throw new SyntaxError('Unexpected \"' + oldC + '\" in \"' + text + '\" at index ' + index.toString());\n        }\n      } else {\n        // End of input.\n        break;\n      } // Verify the unit exists and get the prefix (if any)\n\n\n      var res = _findUnit(uStr);\n\n      if (res === null) {\n        // Unit not found.\n        throw new SyntaxError('Unit \"' + uStr + '\" not found.');\n      }\n\n      var power = powerMultiplierCurrent * powerMultiplierStackProduct; // Is there a \"^ number\"?\n\n      skipWhitespace();\n\n      if (parseCharacter('^')) {\n        skipWhitespace();\n        var p = parseNumber();\n\n        if (p === null) {\n          // No valid number found for the power!\n          throw new SyntaxError('In \"' + str + '\", \"^\" must be followed by a floating-point number');\n        }\n\n        power *= p;\n      } // Add the unit to the list\n\n\n      unit.units.push({\n        unit: res.unit,\n        prefix: res.prefix,\n        power: power\n      });\n\n      for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n        unit.dimensions[i] += (res.unit.dimensions[i] || 0) * power;\n      } // Check for and consume closing parentheses, popping from the stack.\n      // A ')' will always follow a unit.\n\n\n      skipWhitespace();\n\n      while (c === ')') {\n        if (powerMultiplierStack.length === 0) {\n          throw new SyntaxError('Unmatched \")\" in \"' + text + '\" at index ' + index.toString());\n        }\n\n        powerMultiplierStackProduct /= powerMultiplierStack.pop();\n        next();\n        skipWhitespace();\n      } // \"*\" and \"/\" should mean we are expecting something to come next.\n      // Is there a forward slash? If so, negate powerMultiplierCurrent. The next unit or paren group is in the denominator.\n\n\n      expectingUnit = false;\n\n      if (parseCharacter('*')) {\n        // explicit multiplication\n        powerMultiplierCurrent = 1;\n        expectingUnit = true;\n      } else if (parseCharacter('/')) {\n        // division\n        powerMultiplierCurrent = -1;\n        expectingUnit = true;\n      } else {\n        // implicit multiplication\n        powerMultiplierCurrent = 1;\n      } // Replace the unit into the auto unit system\n\n\n      if (res.unit.base) {\n        var baseDim = res.unit.base.key;\n        UNIT_SYSTEMS.auto[baseDim] = {\n          unit: res.unit,\n          prefix: res.prefix\n        };\n      }\n    } // Has the string been entirely consumed?\n\n\n    skipWhitespace();\n\n    if (c) {\n      throw new SyntaxError('Could not parse: \"' + str + '\"');\n    } // Is there a trailing slash?\n\n\n    if (expectingUnit) {\n      throw new SyntaxError('Trailing characters: \"' + str + '\"');\n    } // Is the parentheses stack empty?\n\n\n    if (powerMultiplierStack.length !== 0) {\n      throw new SyntaxError('Unmatched \"(\" in \"' + text + '\"');\n    } // Are there any units at all?\n\n\n    if (unit.units.length === 0 && !options.allowNoUnits) {\n      throw new SyntaxError('\"' + str + '\" contains no units');\n    }\n\n    unit.value = value !== undefined ? unit._normalize(value) : null;\n    return unit;\n  };\n  /**\r\n   * create a copy of this unit\r\n   * @memberof Unit\r\n   * @return {Unit} Returns a cloned version of the unit\r\n   */\n\n\n  Unit.prototype.clone = function () {\n    var unit = new Unit();\n    unit.fixPrefix = this.fixPrefix;\n    unit.skipAutomaticSimplification = this.skipAutomaticSimplification;\n    unit.value = clone(this.value);\n    unit.dimensions = this.dimensions.slice(0);\n    unit.units = [];\n\n    for (var i = 0; i < this.units.length; i++) {\n      unit.units[i] = {};\n\n      for (var p in this.units[i]) {\n        if (hasOwnProperty(this.units[i], p)) {\n          unit.units[i][p] = this.units[i][p];\n        }\n      }\n    }\n\n    return unit;\n  };\n  /**\r\n   * Return the type of the value of this unit\r\n   *\r\n   * @memberof Unit\r\n   * @ return {string} type of the value of the unit\r\n   */\n\n\n  Unit.prototype.valueType = function () {\n    return typeOf(this.value);\n  };\n  /**\r\n   * Return whether the unit is derived (such as m/s, or cm^2, but not N)\r\n   * @memberof Unit\r\n   * @return {boolean} True if the unit is derived\r\n   */\n\n\n  Unit.prototype._isDerived = function () {\n    if (this.units.length === 0) {\n      return false;\n    }\n\n    return this.units.length > 1 || Math.abs(this.units[0].power - 1.0) > 1e-15;\n  };\n  /**\r\n   * Normalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number | BigNumber | Fraction | boolean} value\r\n   * @return {number | BigNumber | Fraction | boolean} normalized value\r\n   * @private\r\n   */\n\n\n  Unit.prototype._normalize = function (value) {\n    if (value === null || value === undefined || this.units.length === 0) {\n      return value;\n    }\n\n    var res = value;\n\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\n\n\n    for (var i = 0; i < this.units.length; i++) {\n      var unitValue = convert(this.units[i].unit.value);\n      var unitPrefixValue = convert(this.units[i].prefix.value);\n      var unitPower = convert(this.units[i].power);\n      res = multiplyScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\n    }\n\n    return res;\n  };\n  /**\r\n   * Denormalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number} value\r\n   * @param {number} [prefixValue]    Optional prefix value to be used (ignored if this is a derived unit)\r\n   * @return {number} denormalized value\r\n   * @private\r\n   */\n\n\n  Unit.prototype._denormalize = function (value, prefixValue) {\n    if (value === null || value === undefined || this.units.length === 0) {\n      return value;\n    }\n\n    var res = value;\n\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\n\n\n    for (var i = 0; i < this.units.length; i++) {\n      var unitValue = convert(this.units[i].unit.value);\n      var unitPrefixValue = convert(this.units[i].prefix.value);\n      var unitPower = convert(this.units[i].power);\n      res = divideScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\n    }\n\n    return res;\n  };\n  /**\r\n   * Find a unit from a string\r\n   * @memberof Unit\r\n   * @param {string} str              A string like 'cm' or 'inch'\r\n   * @returns {Object | null} result  When found, an object with fields unit and\r\n   *                                  prefix is returned. Else, null is returned.\r\n   * @private\r\n   */\n\n\n  var _findUnit = memoize(function (str) {\n    // First, match units names exactly. For example, a user could define 'mm' as 10^-4 m, which is silly, but then we would want 'mm' to match the user-defined unit.\n    if (hasOwnProperty(UNITS, str)) {\n      var unit = UNITS[str];\n      var prefix = unit.prefixes[''];\n      return {\n        unit: unit,\n        prefix: prefix\n      };\n    }\n\n    for (var _name in UNITS) {\n      if (hasOwnProperty(UNITS, _name)) {\n        if (endsWith(str, _name)) {\n          var _unit = UNITS[_name];\n          var prefixLen = str.length - _name.length;\n          var prefixName = str.substring(0, prefixLen);\n\n          var _prefix = hasOwnProperty(_unit.prefixes, prefixName) ? _unit.prefixes[prefixName] : undefined;\n\n          if (_prefix !== undefined) {\n            // store unit, prefix, and value\n            return {\n              unit: _unit,\n              prefix: _prefix\n            };\n          }\n        }\n      }\n    }\n\n    return null;\n  }, {\n    hasher: function hasher(args) {\n      return args[0];\n    },\n    limit: 100\n  });\n  /**\r\n   * Test if the given expression is a unit.\r\n   * The unit can have a prefix but cannot have a value.\r\n   * @memberof Unit\r\n   * @param {string} name   A string to be tested whether it is a value less unit.\r\n   *                        The unit can have prefix, like \"cm\"\r\n   * @return {boolean}      true if the given string is a unit\r\n   */\n\n\n  Unit.isValuelessUnit = function (name) {\n    return _findUnit(name) !== null;\n  };\n  /**\r\n   * check if this unit has given base unit\r\n   * If this unit is a derived unit, this will ALWAYS return false, since by definition base units are not derived.\r\n   * @memberof Unit\r\n   * @param {BASE_UNITS | string | undefined} base\r\n   */\n\n\n  Unit.prototype.hasBase = function (base) {\n    if (typeof base === 'string') {\n      base = BASE_UNITS[base];\n    }\n\n    if (!base) {\n      return false;\n    } // All dimensions must be the same\n\n\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      if (Math.abs((this.dimensions[i] || 0) - (base.dimensions[i] || 0)) > 1e-12) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\r\n   * Check if this unit has a base or bases equal to another base or bases\r\n   * For derived units, the exponent on each base also must match\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if equal base\r\n   */\n\n\n  Unit.prototype.equalBase = function (other) {\n    // All dimensions must be the same\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      if (Math.abs((this.dimensions[i] || 0) - (other.dimensions[i] || 0)) > 1e-12) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\r\n   * Check if this unit equals another unit\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if both units are equal\r\n   */\n\n\n  Unit.prototype.equals = function (other) {\n    return this.equalBase(other) && equal(this.value, other.value);\n  };\n  /**\r\n   * Multiply this unit with another one or with a scalar\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {Unit} product of this unit and the other unit\r\n   */\n\n\n  Unit.prototype.multiply = function (_other) {\n    var res = this.clone();\n    var other = isUnit(_other) ? _other : new Unit(_other);\n\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      // Dimensions arrays may be of different lengths. Default to 0.\n      res.dimensions[i] = (this.dimensions[i] || 0) + (other.dimensions[i] || 0);\n    } // Append other's units list onto res\n\n\n    for (var _i = 0; _i < other.units.length; _i++) {\n      // Make a shallow copy of every unit\n      var inverted = _objectSpread({}, other.units[_i]);\n\n      res.units.push(inverted);\n    } // If at least one operand has a value, then the result should also have a value\n\n\n    if (this.value !== null || other.value !== null) {\n      var valThis = this.value === null ? this._normalize(1) : this.value;\n      var valOther = other.value === null ? other._normalize(1) : other.value;\n      res.value = multiplyScalar(valThis, valOther);\n    } else {\n      res.value = null;\n    }\n\n    if (isUnit(_other)) {\n      res.skipAutomaticSimplification = false;\n    }\n\n    return getNumericIfUnitless(res);\n  };\n  /**\r\n   * Divide a number by this unit\r\n   *\r\n   * @memberof Unit\r\n   * @param {numeric} numerator\r\n   * @param {unit} result of dividing numerator by this unit\r\n   */\n\n\n  Unit.prototype.divideInto = function (numerator) {\n    return new Unit(numerator).divide(this);\n  };\n  /**\r\n   * Divide this unit by another one\r\n   * @memberof Unit\r\n   * @param {Unit | numeric} other\r\n   * @return {Unit} result of dividing this unit by the other unit\r\n   */\n\n\n  Unit.prototype.divide = function (_other) {\n    var res = this.clone();\n    var other = isUnit(_other) ? _other : new Unit(_other);\n\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      // Dimensions arrays may be of different lengths. Default to 0.\n      res.dimensions[i] = (this.dimensions[i] || 0) - (other.dimensions[i] || 0);\n    } // Invert and append other's units list onto res\n\n\n    for (var _i2 = 0; _i2 < other.units.length; _i2++) {\n      // Make a shallow copy of every unit\n      var inverted = _objectSpread(_objectSpread({}, other.units[_i2]), {}, {\n        power: -other.units[_i2].power\n      });\n\n      res.units.push(inverted);\n    } // If at least one operand has a value, the result should have a value\n\n\n    if (this.value !== null || other.value !== null) {\n      var valThis = this.value === null ? this._normalize(1) : this.value;\n      var valOther = other.value === null ? other._normalize(1) : other.value;\n      res.value = divideScalar(valThis, valOther);\n    } else {\n      res.value = null;\n    }\n\n    if (isUnit(_other)) {\n      res.skipAutomaticSimplification = false;\n    }\n\n    return getNumericIfUnitless(res);\n  };\n  /**\r\n   * Calculate the power of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} p\r\n   * @returns {Unit}      The result: this^p\r\n   */\n\n\n  Unit.prototype.pow = function (p) {\n    var res = this.clone();\n\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      // Dimensions arrays may be of different lengths. Default to 0.\n      res.dimensions[i] = (this.dimensions[i] || 0) * p;\n    } // Adjust the power of each unit in the list\n\n\n    for (var _i3 = 0; _i3 < res.units.length; _i3++) {\n      res.units[_i3].power *= p;\n    }\n\n    if (res.value !== null) {\n      res.value = pow(res.value, p); // only allow numeric output, we don't want to return a Complex number\n      // if (!isNumeric(res.value)) {\n      //  res.value = NaN\n      // }\n      // Update: Complex supported now\n    } else {\n      res.value = null;\n    }\n\n    res.skipAutomaticSimplification = false;\n    return getNumericIfUnitless(res);\n  };\n  /**\r\n   * Return the numeric value of this unit if it is dimensionless, has a value, and config.predictable == false; or the original unit otherwise\r\n   * @param {Unit} unit\r\n   * @returns {number | Fraction | BigNumber | Unit}  The numeric value of the unit if conditions are met, or the original unit otherwise\r\n   */\n\n\n  function getNumericIfUnitless(unit) {\n    if (unit.equalBase(BASE_UNITS.NONE) && unit.value !== null && !config.predictable) {\n      return unit.value;\n    } else {\n      return unit;\n    }\n  }\n  /**\r\n   * Calculate the absolute value of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} x\r\n   * @returns {Unit}      The result: |x|, absolute value of x\r\n   */\n\n\n  Unit.prototype.abs = function () {\n    var ret = this.clone();\n\n    if (ret.value !== null) {\n      if (ret._isDerived() || ret.units[0].unit.offset === 0) {\n        ret.value = abs(ret.value);\n      } else {\n        // To give the correct, but unexpected, results for units with an offset.\n        // For example, abs(-283.15 degC) = -263.15 degC !!!\n        // We must take the offset into consideration here\n        var convert = ret._numberConverter(); // convert to Fraction or BigNumber if needed\n\n\n        var unitValue = convert(ret.units[0].unit.value);\n        var nominalOffset = convert(ret.units[0].unit.offset);\n        var unitOffset = multiplyScalar(unitValue, nominalOffset);\n        ret.value = subtract(abs(addScalar(ret.value, unitOffset)), unitOffset);\n      }\n    }\n\n    for (var i in ret.units) {\n      if (ret.units[i].unit.name === 'VA' || ret.units[i].unit.name === 'VAR') {\n        ret.units[i].unit = UNITS.W;\n      }\n    }\n\n    return ret;\n  };\n  /**\r\n   * Convert the unit to a specific unit name.\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   * @returns {Unit} Returns a clone of the unit with a fixed prefix and unit.\r\n   */\n\n\n  Unit.prototype.to = function (valuelessUnit) {\n    var value = this.value === null ? this._normalize(1) : this.value;\n    var other;\n\n    if (typeof valuelessUnit === 'string') {\n      other = Unit.parse(valuelessUnit);\n    } else if (isUnit(valuelessUnit)) {\n      other = valuelessUnit.clone();\n    } else {\n      throw new Error('String or Unit expected as parameter');\n    }\n\n    if (!this.equalBase(other)) {\n      throw new Error(\"Units do not match ('\".concat(other.toString(), \"' != '\").concat(this.toString(), \"')\"));\n    }\n\n    if (other.value !== null) {\n      throw new Error('Cannot convert to a unit with a value');\n    }\n\n    if (this.value === null || this._isDerived() || this.units[0].unit.offset === other.units[0].unit.offset) {\n      other.value = clone(value);\n    } else {\n      /* Need to adjust value by difference in offset to convert */\n      var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\n\n\n      var thisUnitValue = convert(this.units[0].unit.value);\n      var thisNominalOffset = convert(this.units[0].unit.offset);\n      var thisUnitOffset = multiplyScalar(thisUnitValue, thisNominalOffset);\n      var otherUnitValue = convert(other.units[0].unit.value);\n      var otherNominalOffset = convert(other.units[0].unit.offset);\n      var otherUnitOffset = multiplyScalar(otherUnitValue, otherNominalOffset);\n      other.value = subtract(addScalar(value, thisUnitOffset), otherUnitOffset);\n    }\n\n    other.fixPrefix = true;\n    other.skipAutomaticSimplification = true;\n    return other;\n  };\n  /**\r\n   * Return the value of the unit when represented with given valueless unit\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number} Returns the unit value as number.\r\n   */\n  // TODO: deprecate Unit.toNumber? It's always better to use toNumeric\n\n\n  Unit.prototype.toNumber = function (valuelessUnit) {\n    return toNumber(this.toNumeric(valuelessUnit));\n  };\n  /**\r\n   * Return the value of the unit in the original numeric type\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number | BigNumber | Fraction} Returns the unit value\r\n   */\n\n\n  Unit.prototype.toNumeric = function (valuelessUnit) {\n    var other;\n\n    if (valuelessUnit) {\n      // Allow getting the numeric value without converting to a different unit\n      other = this.to(valuelessUnit);\n    } else {\n      other = this.clone();\n    }\n\n    if (other._isDerived() || other.units.length === 0) {\n      return other._denormalize(other.value);\n    } else {\n      return other._denormalize(other.value, other.units[0].prefix.value);\n    }\n  };\n  /**\r\n   * Get a string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\n\n\n  Unit.prototype.toString = function () {\n    return this.format();\n  };\n  /**\r\n   * Get a JSON representation of the unit\r\n   * @memberof Unit\r\n   * @returns {Object} Returns a JSON object structured as:\r\n   *                   `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false}`\r\n   */\n\n\n  Unit.prototype.toJSON = function () {\n    return {\n      mathjs: 'Unit',\n      value: this._denormalize(this.value),\n      unit: this.formatUnits(),\n      fixPrefix: this.fixPrefix\n    };\n  };\n  /**\r\n   * Instantiate a Unit from a JSON object\r\n   * @memberof Unit\r\n   * @param {Object} json  A JSON object structured as:\r\n   *                       `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false}`\r\n   * @return {Unit}\r\n   */\n\n\n  Unit.fromJSON = function (json) {\n    var unit = new Unit(json.value, json.unit);\n    unit.fixPrefix = json.fixPrefix || false;\n    return unit;\n  };\n  /**\r\n   * Returns the string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\n\n\n  Unit.prototype.valueOf = Unit.prototype.toString;\n  /**\r\n   * Simplify this Unit's unit list and return a new Unit with the simplified list.\r\n   * The returned Unit will contain a list of the \"best\" units for formatting.\r\n   */\n\n  Unit.prototype.simplify = function () {\n    var ret = this.clone();\n    var proposedUnitList = []; // Search for a matching base\n\n    var matchingBase;\n\n    for (var key in currentUnitSystem) {\n      if (hasOwnProperty(currentUnitSystem, key)) {\n        if (ret.hasBase(BASE_UNITS[key])) {\n          matchingBase = key;\n          break;\n        }\n      }\n    }\n\n    if (matchingBase === 'NONE') {\n      ret.units = [];\n    } else {\n      var matchingUnit;\n\n      if (matchingBase) {\n        // Does the unit system have a matching unit?\n        if (hasOwnProperty(currentUnitSystem, matchingBase)) {\n          matchingUnit = currentUnitSystem[matchingBase];\n        }\n      }\n\n      if (matchingUnit) {\n        ret.units = [{\n          unit: matchingUnit.unit,\n          prefix: matchingUnit.prefix,\n          power: 1.0\n        }];\n      } else {\n        // Multiple units or units with powers are formatted like this:\n        // 5 (kg m^2) / (s^3 mol)\n        // Build an representation from the base units of the current unit system\n        var missingBaseDim = false;\n\n        for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n          var baseDim = BASE_DIMENSIONS[i];\n\n          if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\n            if (hasOwnProperty(currentUnitSystem, baseDim)) {\n              proposedUnitList.push({\n                unit: currentUnitSystem[baseDim].unit,\n                prefix: currentUnitSystem[baseDim].prefix,\n                power: ret.dimensions[i] || 0\n              });\n            } else {\n              missingBaseDim = true;\n            }\n          }\n        } // Is the proposed unit list \"simpler\" than the existing one?\n\n\n        if (proposedUnitList.length < ret.units.length && !missingBaseDim) {\n          // Replace this unit list with the proposed list\n          ret.units = proposedUnitList;\n        }\n      }\n    }\n\n    return ret;\n  };\n  /**\r\n   * Returns a new Unit in the SI system with the same value as this one\r\n   */\n\n\n  Unit.prototype.toSI = function () {\n    var ret = this.clone();\n    var proposedUnitList = []; // Multiple units or units with powers are formatted like this:\n    // 5 (kg m^2) / (s^3 mol)\n    // Build an representation from the base units of the SI unit system\n\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\n      var baseDim = BASE_DIMENSIONS[i];\n\n      if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\n        if (hasOwnProperty(UNIT_SYSTEMS.si, baseDim)) {\n          proposedUnitList.push({\n            unit: UNIT_SYSTEMS.si[baseDim].unit,\n            prefix: UNIT_SYSTEMS.si[baseDim].prefix,\n            power: ret.dimensions[i] || 0\n          });\n        } else {\n          throw new Error('Cannot express custom unit ' + baseDim + ' in SI units');\n        }\n      }\n    } // Replace this unit list with the proposed list\n\n\n    ret.units = proposedUnitList;\n    ret.fixPrefix = true;\n    ret.skipAutomaticSimplification = true;\n    return ret;\n  };\n  /**\r\n   * Get a string representation of the units of this Unit, without the value. The unit list is formatted as-is without first being simplified.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\n\n\n  Unit.prototype.formatUnits = function () {\n    var strNum = '';\n    var strDen = '';\n    var nNum = 0;\n    var nDen = 0;\n\n    for (var i = 0; i < this.units.length; i++) {\n      if (this.units[i].power > 0) {\n        nNum++;\n        strNum += ' ' + this.units[i].prefix.name + this.units[i].unit.name;\n\n        if (Math.abs(this.units[i].power - 1.0) > 1e-15) {\n          strNum += '^' + this.units[i].power;\n        }\n      } else if (this.units[i].power < 0) {\n        nDen++;\n      }\n    }\n\n    if (nDen > 0) {\n      for (var _i4 = 0; _i4 < this.units.length; _i4++) {\n        if (this.units[_i4].power < 0) {\n          if (nNum > 0) {\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\n\n            if (Math.abs(this.units[_i4].power + 1.0) > 1e-15) {\n              strDen += '^' + -this.units[_i4].power;\n            }\n          } else {\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\n            strDen += '^' + this.units[_i4].power;\n          }\n        }\n      }\n    } // Remove leading \" \"\n\n\n    strNum = strNum.substr(1);\n    strDen = strDen.substr(1); // Add parans for better copy/paste back into evaluate, for example, or for better pretty print formatting\n\n    if (nNum > 1 && nDen > 0) {\n      strNum = '(' + strNum + ')';\n    }\n\n    if (nDen > 1 && nNum > 0) {\n      strDen = '(' + strDen + ')';\n    }\n\n    var str = strNum;\n\n    if (nNum > 0 && nDen > 0) {\n      str += ' / ';\n    }\n\n    str += strDen;\n    return str;\n  };\n  /**\r\n   * Get a string representation of the Unit, with optional formatting options.\r\n   * @memberof Unit\r\n   * @param {Object | number | Function} [options]  Formatting options. See\r\n   *                                                lib/utils/number:format for a\r\n   *                                                description of the available\r\n   *                                                options.\r\n   * @return {string}\r\n   */\n\n\n  Unit.prototype.format = function (options) {\n    // Simplfy the unit list, unless it is valueless or was created directly in the\n    // constructor or as the result of to or toSI\n    var simp = this.skipAutomaticSimplification || this.value === null ? this.clone() : this.simplify(); // Apply some custom logic for handling VA and VAR. The goal is to express the value of the unit as a real value, if possible. Otherwise, use a real-valued unit instead of a complex-valued one.\n\n    var isImaginary = false;\n\n    if (typeof simp.value !== 'undefined' && simp.value !== null && isComplex(simp.value)) {\n      // TODO: Make this better, for example, use relative magnitude of re and im rather than absolute\n      isImaginary = Math.abs(simp.value.re) < 1e-14;\n    }\n\n    for (var i in simp.units) {\n      if (hasOwnProperty(simp.units, i)) {\n        if (simp.units[i].unit) {\n          if (simp.units[i].unit.name === 'VA' && isImaginary) {\n            simp.units[i].unit = UNITS.VAR;\n          } else if (simp.units[i].unit.name === 'VAR' && !isImaginary) {\n            simp.units[i].unit = UNITS.VA;\n          }\n        }\n      }\n    } // Now apply the best prefix\n    // Units must have only one unit and not have the fixPrefix flag set\n\n\n    if (simp.units.length === 1 && !simp.fixPrefix) {\n      // Units must have integer powers, otherwise the prefix will change the\n      // outputted value by not-an-integer-power-of-ten\n      if (Math.abs(simp.units[0].power - Math.round(simp.units[0].power)) < 1e-14) {\n        // Apply the best prefix\n        simp.units[0].prefix = simp._bestPrefix();\n      }\n    }\n\n    var value = simp._denormalize(simp.value);\n\n    var str = simp.value !== null ? format(value, options || {}) : '';\n    var unitStr = simp.formatUnits();\n\n    if (simp.value && isComplex(simp.value)) {\n      str = '(' + str + ')'; // Surround complex values with ( ) to enable better parsing\n    }\n\n    if (unitStr.length > 0 && str.length > 0) {\n      str += ' ';\n    }\n\n    str += unitStr;\n    return str;\n  };\n  /**\r\n   * Calculate the best prefix using current value.\r\n   * @memberof Unit\r\n   * @returns {Object} prefix\r\n   * @private\r\n   */\n\n\n  Unit.prototype._bestPrefix = function () {\n    if (this.units.length !== 1) {\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\n    }\n\n    if (Math.abs(this.units[0].power - Math.round(this.units[0].power)) >= 1e-14) {\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\n    } // find the best prefix value (resulting in the value of which\n    // the absolute value of the log10 is closest to zero,\n    // though with a little offset of 1.2 for nicer values: you get a\n    // sequence 1mm 100mm 500mm 0.6m 1m 10m 100m 500m 0.6km 1km ...\n    // Note: the units value can be any numeric type, but to find the best\n    // prefix it's enough to work with limited precision of a regular number\n    // Update: using mathjs abs since we also allow complex numbers\n\n\n    var absValue = this.value !== null ? abs(this.value) : 0;\n    var absUnitValue = abs(this.units[0].unit.value);\n    var bestPrefix = this.units[0].prefix;\n\n    if (absValue === 0) {\n      return bestPrefix;\n    }\n\n    var power = this.units[0].power;\n    var bestDiff = Math.log(absValue / Math.pow(bestPrefix.value * absUnitValue, power)) / Math.LN10 - 1.2;\n    if (bestDiff > -2.200001 && bestDiff < 1.800001) return bestPrefix; // Allow the original prefix\n\n    bestDiff = Math.abs(bestDiff);\n    var prefixes = this.units[0].unit.prefixes;\n\n    for (var p in prefixes) {\n      if (hasOwnProperty(prefixes, p)) {\n        var prefix = prefixes[p];\n\n        if (prefix.scientific) {\n          var diff = Math.abs(Math.log(absValue / Math.pow(prefix.value * absUnitValue, power)) / Math.LN10 - 1.2);\n\n          if (diff < bestDiff || diff === bestDiff && prefix.name.length < bestPrefix.name.length) {\n            // choose the prefix with the smallest diff, or if equal, choose the one\n            // with the shortest name (can happen with SHORTLONG for example)\n            bestPrefix = prefix;\n            bestDiff = diff;\n          }\n        }\n      }\n    }\n\n    return bestPrefix;\n  };\n  /**\r\n   * Returns an array of units whose sum is equal to this unit\r\n   * @memberof Unit\r\n   * @param {Array} [parts] An array of strings or valueless units.\r\n   *\r\n   *   Example:\r\n   *\r\n   *   const u = new Unit(1, 'm')\r\n   *   u.splitUnit(['feet', 'inch'])\r\n   *     [ 3 feet, 3.3700787401575 inch ]\r\n   *\r\n   * @return {Array} An array of units.\r\n   */\n\n\n  Unit.prototype.splitUnit = function (parts) {\n    var x = this.clone();\n    var ret = [];\n\n    for (var i = 0; i < parts.length; i++) {\n      // Convert x to the requested unit\n      x = x.to(parts[i]);\n      if (i === parts.length - 1) break; // Get the numeric value of this unit\n\n      var xNumeric = x.toNumeric(); // Check to see if xNumeric is nearly equal to an integer,\n      // since fix can incorrectly round down if there is round-off error\n\n      var xRounded = round(xNumeric);\n      var xFixed = void 0;\n      var isNearlyEqual = equal(xRounded, xNumeric);\n\n      if (isNearlyEqual) {\n        xFixed = xRounded;\n      } else {\n        xFixed = fix(x.toNumeric());\n      }\n\n      var y = new Unit(xFixed, parts[i].toString());\n      ret.push(y);\n      x = subtract(x, y);\n    } // This little bit fixes a bug where the remainder should be 0 but is a little bit off.\n    // But instead of comparing x, the remainder, with zero--we will compare the sum of\n    // all the parts so far with the original value. If they are nearly equal,\n    // we set the remainder to 0.\n\n\n    var testSum = 0;\n\n    for (var _i5 = 0; _i5 < ret.length; _i5++) {\n      testSum = addScalar(testSum, ret[_i5].value);\n    }\n\n    if (equal(testSum, this.value)) {\n      x.value = 0;\n    }\n\n    ret.push(x);\n    return ret;\n  };\n\n  var PREFIXES = {\n    NONE: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      }\n    },\n    SHORT: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      da: {\n        name: 'da',\n        value: 1e1,\n        scientific: false\n      },\n      h: {\n        name: 'h',\n        value: 1e2,\n        scientific: false\n      },\n      k: {\n        name: 'k',\n        value: 1e3,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e6,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e9,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e12,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e15,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e18,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e21,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e24,\n        scientific: true\n      },\n      d: {\n        name: 'd',\n        value: 1e-1,\n        scientific: false\n      },\n      c: {\n        name: 'c',\n        value: 1e-2,\n        scientific: false\n      },\n      m: {\n        name: 'm',\n        value: 1e-3,\n        scientific: true\n      },\n      u: {\n        name: 'u',\n        value: 1e-6,\n        scientific: true\n      },\n      n: {\n        name: 'n',\n        value: 1e-9,\n        scientific: true\n      },\n      p: {\n        name: 'p',\n        value: 1e-12,\n        scientific: true\n      },\n      f: {\n        name: 'f',\n        value: 1e-15,\n        scientific: true\n      },\n      a: {\n        name: 'a',\n        value: 1e-18,\n        scientific: true\n      },\n      z: {\n        name: 'z',\n        value: 1e-21,\n        scientific: true\n      },\n      y: {\n        name: 'y',\n        value: 1e-24,\n        scientific: true\n      }\n    },\n    LONG: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      deca: {\n        name: 'deca',\n        value: 1e1,\n        scientific: false\n      },\n      hecto: {\n        name: 'hecto',\n        value: 1e2,\n        scientific: false\n      },\n      kilo: {\n        name: 'kilo',\n        value: 1e3,\n        scientific: true\n      },\n      mega: {\n        name: 'mega',\n        value: 1e6,\n        scientific: true\n      },\n      giga: {\n        name: 'giga',\n        value: 1e9,\n        scientific: true\n      },\n      tera: {\n        name: 'tera',\n        value: 1e12,\n        scientific: true\n      },\n      peta: {\n        name: 'peta',\n        value: 1e15,\n        scientific: true\n      },\n      exa: {\n        name: 'exa',\n        value: 1e18,\n        scientific: true\n      },\n      zetta: {\n        name: 'zetta',\n        value: 1e21,\n        scientific: true\n      },\n      yotta: {\n        name: 'yotta',\n        value: 1e24,\n        scientific: true\n      },\n      deci: {\n        name: 'deci',\n        value: 1e-1,\n        scientific: false\n      },\n      centi: {\n        name: 'centi',\n        value: 1e-2,\n        scientific: false\n      },\n      milli: {\n        name: 'milli',\n        value: 1e-3,\n        scientific: true\n      },\n      micro: {\n        name: 'micro',\n        value: 1e-6,\n        scientific: true\n      },\n      nano: {\n        name: 'nano',\n        value: 1e-9,\n        scientific: true\n      },\n      pico: {\n        name: 'pico',\n        value: 1e-12,\n        scientific: true\n      },\n      femto: {\n        name: 'femto',\n        value: 1e-15,\n        scientific: true\n      },\n      atto: {\n        name: 'atto',\n        value: 1e-18,\n        scientific: true\n      },\n      zepto: {\n        name: 'zepto',\n        value: 1e-21,\n        scientific: true\n      },\n      yocto: {\n        name: 'yocto',\n        value: 1e-24,\n        scientific: true\n      }\n    },\n    SQUARED: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      da: {\n        name: 'da',\n        value: 1e2,\n        scientific: false\n      },\n      h: {\n        name: 'h',\n        value: 1e4,\n        scientific: false\n      },\n      k: {\n        name: 'k',\n        value: 1e6,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e12,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e18,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e24,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e30,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e36,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e42,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e48,\n        scientific: true\n      },\n      d: {\n        name: 'd',\n        value: 1e-2,\n        scientific: false\n      },\n      c: {\n        name: 'c',\n        value: 1e-4,\n        scientific: false\n      },\n      m: {\n        name: 'm',\n        value: 1e-6,\n        scientific: true\n      },\n      u: {\n        name: 'u',\n        value: 1e-12,\n        scientific: true\n      },\n      n: {\n        name: 'n',\n        value: 1e-18,\n        scientific: true\n      },\n      p: {\n        name: 'p',\n        value: 1e-24,\n        scientific: true\n      },\n      f: {\n        name: 'f',\n        value: 1e-30,\n        scientific: true\n      },\n      a: {\n        name: 'a',\n        value: 1e-36,\n        scientific: true\n      },\n      z: {\n        name: 'z',\n        value: 1e-42,\n        scientific: true\n      },\n      y: {\n        name: 'y',\n        value: 1e-48,\n        scientific: true\n      }\n    },\n    CUBIC: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      da: {\n        name: 'da',\n        value: 1e3,\n        scientific: false\n      },\n      h: {\n        name: 'h',\n        value: 1e6,\n        scientific: false\n      },\n      k: {\n        name: 'k',\n        value: 1e9,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e18,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e27,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e36,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e45,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e54,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e63,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e72,\n        scientific: true\n      },\n      d: {\n        name: 'd',\n        value: 1e-3,\n        scientific: false\n      },\n      c: {\n        name: 'c',\n        value: 1e-6,\n        scientific: false\n      },\n      m: {\n        name: 'm',\n        value: 1e-9,\n        scientific: true\n      },\n      u: {\n        name: 'u',\n        value: 1e-18,\n        scientific: true\n      },\n      n: {\n        name: 'n',\n        value: 1e-27,\n        scientific: true\n      },\n      p: {\n        name: 'p',\n        value: 1e-36,\n        scientific: true\n      },\n      f: {\n        name: 'f',\n        value: 1e-45,\n        scientific: true\n      },\n      a: {\n        name: 'a',\n        value: 1e-54,\n        scientific: true\n      },\n      z: {\n        name: 'z',\n        value: 1e-63,\n        scientific: true\n      },\n      y: {\n        name: 'y',\n        value: 1e-72,\n        scientific: true\n      }\n    },\n    BINARY_SHORT_SI: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      k: {\n        name: 'k',\n        value: 1e3,\n        scientific: true\n      },\n      M: {\n        name: 'M',\n        value: 1e6,\n        scientific: true\n      },\n      G: {\n        name: 'G',\n        value: 1e9,\n        scientific: true\n      },\n      T: {\n        name: 'T',\n        value: 1e12,\n        scientific: true\n      },\n      P: {\n        name: 'P',\n        value: 1e15,\n        scientific: true\n      },\n      E: {\n        name: 'E',\n        value: 1e18,\n        scientific: true\n      },\n      Z: {\n        name: 'Z',\n        value: 1e21,\n        scientific: true\n      },\n      Y: {\n        name: 'Y',\n        value: 1e24,\n        scientific: true\n      }\n    },\n    BINARY_SHORT_IEC: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      Ki: {\n        name: 'Ki',\n        value: 1024,\n        scientific: true\n      },\n      Mi: {\n        name: 'Mi',\n        value: Math.pow(1024, 2),\n        scientific: true\n      },\n      Gi: {\n        name: 'Gi',\n        value: Math.pow(1024, 3),\n        scientific: true\n      },\n      Ti: {\n        name: 'Ti',\n        value: Math.pow(1024, 4),\n        scientific: true\n      },\n      Pi: {\n        name: 'Pi',\n        value: Math.pow(1024, 5),\n        scientific: true\n      },\n      Ei: {\n        name: 'Ei',\n        value: Math.pow(1024, 6),\n        scientific: true\n      },\n      Zi: {\n        name: 'Zi',\n        value: Math.pow(1024, 7),\n        scientific: true\n      },\n      Yi: {\n        name: 'Yi',\n        value: Math.pow(1024, 8),\n        scientific: true\n      }\n    },\n    BINARY_LONG_SI: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      kilo: {\n        name: 'kilo',\n        value: 1e3,\n        scientific: true\n      },\n      mega: {\n        name: 'mega',\n        value: 1e6,\n        scientific: true\n      },\n      giga: {\n        name: 'giga',\n        value: 1e9,\n        scientific: true\n      },\n      tera: {\n        name: 'tera',\n        value: 1e12,\n        scientific: true\n      },\n      peta: {\n        name: 'peta',\n        value: 1e15,\n        scientific: true\n      },\n      exa: {\n        name: 'exa',\n        value: 1e18,\n        scientific: true\n      },\n      zetta: {\n        name: 'zetta',\n        value: 1e21,\n        scientific: true\n      },\n      yotta: {\n        name: 'yotta',\n        value: 1e24,\n        scientific: true\n      }\n    },\n    BINARY_LONG_IEC: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      kibi: {\n        name: 'kibi',\n        value: 1024,\n        scientific: true\n      },\n      mebi: {\n        name: 'mebi',\n        value: Math.pow(1024, 2),\n        scientific: true\n      },\n      gibi: {\n        name: 'gibi',\n        value: Math.pow(1024, 3),\n        scientific: true\n      },\n      tebi: {\n        name: 'tebi',\n        value: Math.pow(1024, 4),\n        scientific: true\n      },\n      pebi: {\n        name: 'pebi',\n        value: Math.pow(1024, 5),\n        scientific: true\n      },\n      exi: {\n        name: 'exi',\n        value: Math.pow(1024, 6),\n        scientific: true\n      },\n      zebi: {\n        name: 'zebi',\n        value: Math.pow(1024, 7),\n        scientific: true\n      },\n      yobi: {\n        name: 'yobi',\n        value: Math.pow(1024, 8),\n        scientific: true\n      }\n    },\n    BTU: {\n      '': {\n        name: '',\n        value: 1,\n        scientific: true\n      },\n      MM: {\n        name: 'MM',\n        value: 1e6,\n        scientific: true\n      }\n    }\n  };\n  PREFIXES.SHORTLONG = _extends({}, PREFIXES.SHORT, PREFIXES.LONG);\n  PREFIXES.BINARY_SHORT = _extends({}, PREFIXES.BINARY_SHORT_SI, PREFIXES.BINARY_SHORT_IEC);\n  PREFIXES.BINARY_LONG = _extends({}, PREFIXES.BINARY_LONG_SI, PREFIXES.BINARY_LONG_IEC);\n  /* Internally, each unit is represented by a value and a dimension array. The elements of the dimensions array have the following meaning:\r\n   * Index  Dimension\r\n   * -----  ---------\r\n   *   0    Length\r\n   *   1    Mass\r\n   *   2    Time\r\n   *   3    Current\r\n   *   4    Temperature\r\n   *   5    Luminous intensity\r\n   *   6    Amount of substance\r\n   *   7    Angle\r\n   *   8    Bit (digital)\r\n   * For example, the unit \"298.15 K\" is a pure temperature and would have a value of 298.15 and a dimension array of [0, 0, 0, 0, 1, 0, 0, 0, 0]. The unit \"1 cal / (gm °C)\" can be written in terms of the 9 fundamental dimensions as [length^2] / ([time^2] * [temperature]), and would a value of (after conversion to SI) 4184.0 and a dimensions array of [2, 0, -2, 0, -1, 0, 0, 0, 0].\r\n   *\r\n   */\n\n  var BASE_DIMENSIONS = ['MASS', 'LENGTH', 'TIME', 'CURRENT', 'TEMPERATURE', 'LUMINOUS_INTENSITY', 'AMOUNT_OF_SUBSTANCE', 'ANGLE', 'BIT'];\n  var BASE_UNITS = {\n    NONE: {\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    },\n    MASS: {\n      dimensions: [1, 0, 0, 0, 0, 0, 0, 0, 0]\n    },\n    LENGTH: {\n      dimensions: [0, 1, 0, 0, 0, 0, 0, 0, 0]\n    },\n    TIME: {\n      dimensions: [0, 0, 1, 0, 0, 0, 0, 0, 0]\n    },\n    CURRENT: {\n      dimensions: [0, 0, 0, 1, 0, 0, 0, 0, 0]\n    },\n    TEMPERATURE: {\n      dimensions: [0, 0, 0, 0, 1, 0, 0, 0, 0]\n    },\n    LUMINOUS_INTENSITY: {\n      dimensions: [0, 0, 0, 0, 0, 1, 0, 0, 0]\n    },\n    AMOUNT_OF_SUBSTANCE: {\n      dimensions: [0, 0, 0, 0, 0, 0, 1, 0, 0]\n    },\n    FORCE: {\n      dimensions: [1, 1, -2, 0, 0, 0, 0, 0, 0]\n    },\n    SURFACE: {\n      dimensions: [0, 2, 0, 0, 0, 0, 0, 0, 0]\n    },\n    VOLUME: {\n      dimensions: [0, 3, 0, 0, 0, 0, 0, 0, 0]\n    },\n    ENERGY: {\n      dimensions: [1, 2, -2, 0, 0, 0, 0, 0, 0]\n    },\n    POWER: {\n      dimensions: [1, 2, -3, 0, 0, 0, 0, 0, 0]\n    },\n    PRESSURE: {\n      dimensions: [1, -1, -2, 0, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_CHARGE: {\n      dimensions: [0, 0, 1, 1, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_CAPACITANCE: {\n      dimensions: [-1, -2, 4, 2, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_POTENTIAL: {\n      dimensions: [1, 2, -3, -1, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_RESISTANCE: {\n      dimensions: [1, 2, -3, -2, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_INDUCTANCE: {\n      dimensions: [1, 2, -2, -2, 0, 0, 0, 0, 0]\n    },\n    ELECTRIC_CONDUCTANCE: {\n      dimensions: [-1, -2, 3, 2, 0, 0, 0, 0, 0]\n    },\n    MAGNETIC_FLUX: {\n      dimensions: [1, 2, -2, -1, 0, 0, 0, 0, 0]\n    },\n    MAGNETIC_FLUX_DENSITY: {\n      dimensions: [1, 0, -2, -1, 0, 0, 0, 0, 0]\n    },\n    FREQUENCY: {\n      dimensions: [0, 0, -1, 0, 0, 0, 0, 0, 0]\n    },\n    ANGLE: {\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 1, 0]\n    },\n    BIT: {\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 1]\n    }\n  };\n\n  for (var key in BASE_UNITS) {\n    if (hasOwnProperty(BASE_UNITS, key)) {\n      BASE_UNITS[key].key = key;\n    }\n  }\n\n  var BASE_UNIT_NONE = {};\n  var UNIT_NONE = {\n    name: '',\n    base: BASE_UNIT_NONE,\n    value: 1,\n    offset: 0,\n    dimensions: BASE_DIMENSIONS.map(function (x) {\n      return 0;\n    })\n  };\n  var UNITS = {\n    // length\n    meter: {\n      name: 'meter',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    inch: {\n      name: 'inch',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.0254,\n      offset: 0\n    },\n    foot: {\n      name: 'foot',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.3048,\n      offset: 0\n    },\n    yard: {\n      name: 'yard',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.9144,\n      offset: 0\n    },\n    mile: {\n      name: 'mile',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 1609.344,\n      offset: 0\n    },\n    link: {\n      name: 'link',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.201168,\n      offset: 0\n    },\n    rod: {\n      name: 'rod',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 5.0292,\n      offset: 0\n    },\n    chain: {\n      name: 'chain',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 20.1168,\n      offset: 0\n    },\n    angstrom: {\n      name: 'angstrom',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 1e-10,\n      offset: 0\n    },\n    m: {\n      name: 'm',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    in: {\n      name: 'in',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.0254,\n      offset: 0\n    },\n    ft: {\n      name: 'ft',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.3048,\n      offset: 0\n    },\n    yd: {\n      name: 'yd',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.9144,\n      offset: 0\n    },\n    mi: {\n      name: 'mi',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 1609.344,\n      offset: 0\n    },\n    li: {\n      name: 'li',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.201168,\n      offset: 0\n    },\n    rd: {\n      name: 'rd',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 5.029210,\n      offset: 0\n    },\n    ch: {\n      name: 'ch',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 20.1168,\n      offset: 0\n    },\n    mil: {\n      name: 'mil',\n      base: BASE_UNITS.LENGTH,\n      prefixes: PREFIXES.NONE,\n      value: 0.0000254,\n      offset: 0\n    },\n    // 1/1000 inch\n    // Surface\n    m2: {\n      name: 'm2',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.SQUARED,\n      value: 1,\n      offset: 0\n    },\n    sqin: {\n      name: 'sqin',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 0.00064516,\n      offset: 0\n    },\n    // 645.16 mm2\n    sqft: {\n      name: 'sqft',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 0.09290304,\n      offset: 0\n    },\n    // 0.09290304 m2\n    sqyd: {\n      name: 'sqyd',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 0.83612736,\n      offset: 0\n    },\n    // 0.83612736 m2\n    sqmi: {\n      name: 'sqmi',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 2589988.110336,\n      offset: 0\n    },\n    // 2.589988110336 km2\n    sqrd: {\n      name: 'sqrd',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 25.29295,\n      offset: 0\n    },\n    // 25.29295 m2\n    sqch: {\n      name: 'sqch',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 404.6873,\n      offset: 0\n    },\n    // 404.6873 m2\n    sqmil: {\n      name: 'sqmil',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 6.4516e-10,\n      offset: 0\n    },\n    // 6.4516 * 10^-10 m2\n    acre: {\n      name: 'acre',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 4046.86,\n      offset: 0\n    },\n    // 4046.86 m2\n    hectare: {\n      name: 'hectare',\n      base: BASE_UNITS.SURFACE,\n      prefixes: PREFIXES.NONE,\n      value: 10000,\n      offset: 0\n    },\n    // 10000 m2\n    // Volume\n    m3: {\n      name: 'm3',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.CUBIC,\n      value: 1,\n      offset: 0\n    },\n    L: {\n      name: 'L',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.SHORT,\n      value: 0.001,\n      offset: 0\n    },\n    // litre\n    l: {\n      name: 'l',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.SHORT,\n      value: 0.001,\n      offset: 0\n    },\n    // litre\n    litre: {\n      name: 'litre',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.LONG,\n      value: 0.001,\n      offset: 0\n    },\n    cuin: {\n      name: 'cuin',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 1.6387064e-5,\n      offset: 0\n    },\n    // 1.6387064e-5 m3\n    cuft: {\n      name: 'cuft',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.028316846592,\n      offset: 0\n    },\n    // 28.316 846 592 L\n    cuyd: {\n      name: 'cuyd',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.764554857984,\n      offset: 0\n    },\n    // 764.554 857 984 L\n    teaspoon: {\n      name: 'teaspoon',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.000005,\n      offset: 0\n    },\n    // 5 mL\n    tablespoon: {\n      name: 'tablespoon',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.000015,\n      offset: 0\n    },\n    // 15 mL\n    // {name: 'cup', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.000240, offset: 0}, // 240 mL  // not possible, we have already another cup\n    drop: {\n      name: 'drop',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 5e-8,\n      offset: 0\n    },\n    // 0.05 mL = 5e-8 m3\n    gtt: {\n      name: 'gtt',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 5e-8,\n      offset: 0\n    },\n    // 0.05 mL = 5e-8 m3\n    // Liquid volume\n    minim: {\n      name: 'minim',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.00000006161152,\n      offset: 0\n    },\n    // 0.06161152 mL\n    fluiddram: {\n      name: 'fluiddram',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0000036966911,\n      offset: 0\n    },\n    // 3.696691 mL\n    fluidounce: {\n      name: 'fluidounce',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.00002957353,\n      offset: 0\n    },\n    // 29.57353 mL\n    gill: {\n      name: 'gill',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0001182941,\n      offset: 0\n    },\n    // 118.2941 mL\n    cc: {\n      name: 'cc',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 1e-6,\n      offset: 0\n    },\n    // 1e-6 L\n    cup: {\n      name: 'cup',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0002365882,\n      offset: 0\n    },\n    // 236.5882 mL\n    pint: {\n      name: 'pint',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0004731765,\n      offset: 0\n    },\n    // 473.1765 mL\n    quart: {\n      name: 'quart',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0009463529,\n      offset: 0\n    },\n    // 946.3529 mL\n    gallon: {\n      name: 'gallon',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.003785412,\n      offset: 0\n    },\n    // 3.785412 L\n    beerbarrel: {\n      name: 'beerbarrel',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.1173478,\n      offset: 0\n    },\n    // 117.3478 L\n    oilbarrel: {\n      name: 'oilbarrel',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.1589873,\n      offset: 0\n    },\n    // 158.9873 L\n    hogshead: {\n      name: 'hogshead',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.2384810,\n      offset: 0\n    },\n    // 238.4810 L\n    // {name: 'min', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.00000006161152, offset: 0}, // 0.06161152 mL // min is already in use as minute\n    fldr: {\n      name: 'fldr',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0000036966911,\n      offset: 0\n    },\n    // 3.696691 mL\n    floz: {\n      name: 'floz',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.00002957353,\n      offset: 0\n    },\n    // 29.57353 mL\n    gi: {\n      name: 'gi',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0001182941,\n      offset: 0\n    },\n    // 118.2941 mL\n    cp: {\n      name: 'cp',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0002365882,\n      offset: 0\n    },\n    // 236.5882 mL\n    pt: {\n      name: 'pt',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0004731765,\n      offset: 0\n    },\n    // 473.1765 mL\n    qt: {\n      name: 'qt',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.0009463529,\n      offset: 0\n    },\n    // 946.3529 mL\n    gal: {\n      name: 'gal',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.003785412,\n      offset: 0\n    },\n    // 3.785412 L\n    bbl: {\n      name: 'bbl',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.1173478,\n      offset: 0\n    },\n    // 117.3478 L\n    obl: {\n      name: 'obl',\n      base: BASE_UNITS.VOLUME,\n      prefixes: PREFIXES.NONE,\n      value: 0.1589873,\n      offset: 0\n    },\n    // 158.9873 L\n    // {name: 'hogshead', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.2384810, offset: 0}, // 238.4810 L // TODO: hh?\n    // Mass\n    g: {\n      name: 'g',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.SHORT,\n      value: 0.001,\n      offset: 0\n    },\n    gram: {\n      name: 'gram',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.LONG,\n      value: 0.001,\n      offset: 0\n    },\n    ton: {\n      name: 'ton',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.SHORT,\n      value: 907.18474,\n      offset: 0\n    },\n    t: {\n      name: 't',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.SHORT,\n      value: 1000,\n      offset: 0\n    },\n    tonne: {\n      name: 'tonne',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.LONG,\n      value: 1000,\n      offset: 0\n    },\n    grain: {\n      name: 'grain',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 64.79891e-6,\n      offset: 0\n    },\n    dram: {\n      name: 'dram',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 1.7718451953125e-3,\n      offset: 0\n    },\n    ounce: {\n      name: 'ounce',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 28.349523125e-3,\n      offset: 0\n    },\n    poundmass: {\n      name: 'poundmass',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 453.59237e-3,\n      offset: 0\n    },\n    hundredweight: {\n      name: 'hundredweight',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 45.359237,\n      offset: 0\n    },\n    stick: {\n      name: 'stick',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 115e-3,\n      offset: 0\n    },\n    stone: {\n      name: 'stone',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 6.35029318,\n      offset: 0\n    },\n    gr: {\n      name: 'gr',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 64.79891e-6,\n      offset: 0\n    },\n    dr: {\n      name: 'dr',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 1.7718451953125e-3,\n      offset: 0\n    },\n    oz: {\n      name: 'oz',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 28.349523125e-3,\n      offset: 0\n    },\n    lbm: {\n      name: 'lbm',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 453.59237e-3,\n      offset: 0\n    },\n    cwt: {\n      name: 'cwt',\n      base: BASE_UNITS.MASS,\n      prefixes: PREFIXES.NONE,\n      value: 45.359237,\n      offset: 0\n    },\n    // Time\n    s: {\n      name: 's',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    min: {\n      name: 'min',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 60,\n      offset: 0\n    },\n    h: {\n      name: 'h',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 3600,\n      offset: 0\n    },\n    second: {\n      name: 'second',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    sec: {\n      name: 'sec',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    minute: {\n      name: 'minute',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 60,\n      offset: 0\n    },\n    hour: {\n      name: 'hour',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 3600,\n      offset: 0\n    },\n    day: {\n      name: 'day',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 86400,\n      offset: 0\n    },\n    week: {\n      name: 'week',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 7 * 86400,\n      offset: 0\n    },\n    month: {\n      name: 'month',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 2629800,\n      // 1/12th of Julian year\n      offset: 0\n    },\n    year: {\n      name: 'year',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 31557600,\n      // Julian year\n      offset: 0\n    },\n    decade: {\n      name: 'decade',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 315576000,\n      // Julian decade\n      offset: 0\n    },\n    century: {\n      name: 'century',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 3155760000,\n      // Julian century\n      offset: 0\n    },\n    millennium: {\n      name: 'millennium',\n      base: BASE_UNITS.TIME,\n      prefixes: PREFIXES.NONE,\n      value: 31557600000,\n      // Julian millennium\n      offset: 0\n    },\n    // Frequency\n    hertz: {\n      name: 'Hertz',\n      base: BASE_UNITS.FREQUENCY,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0,\n      reciprocal: true\n    },\n    Hz: {\n      name: 'Hz',\n      base: BASE_UNITS.FREQUENCY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0,\n      reciprocal: true\n    },\n    // Angle\n    rad: {\n      name: 'rad',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    radian: {\n      name: 'radian',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // deg = rad / (2*pi) * 360 = rad / 0.017453292519943295769236907684888\n    deg: {\n      name: 'deg',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.SHORT,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    degree: {\n      name: 'degree',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.LONG,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // grad = rad / (2*pi) * 400  = rad / 0.015707963267948966192313216916399\n    grad: {\n      name: 'grad',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.SHORT,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    gradian: {\n      name: 'gradian',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.LONG,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // cycle = rad / (2*pi) = rad / 6.2831853071795864769252867665793\n    cycle: {\n      name: 'cycle',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.NONE,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // arcsec = rad / (3600 * (360 / 2 * pi)) = rad / 0.0000048481368110953599358991410235795\n    arcsec: {\n      name: 'arcsec',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.NONE,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // arcmin = rad / (60 * (360 / 2 * pi)) = rad / 0.00029088820866572159615394846141477\n    arcmin: {\n      name: 'arcmin',\n      base: BASE_UNITS.ANGLE,\n      prefixes: PREFIXES.NONE,\n      value: null,\n      // will be filled in by calculateAngleValues()\n      offset: 0\n    },\n    // Electric current\n    A: {\n      name: 'A',\n      base: BASE_UNITS.CURRENT,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    ampere: {\n      name: 'ampere',\n      base: BASE_UNITS.CURRENT,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // Temperature\n    // K(C) = °C + 273.15\n    // K(F) = (°F + 459.67) / 1.8\n    // K(R) = °R / 1.8\n    K: {\n      name: 'K',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1,\n      offset: 0\n    },\n    degC: {\n      name: 'degC',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1,\n      offset: 273.15\n    },\n    degF: {\n      name: 'degF',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1 / 1.8,\n      offset: 459.67\n    },\n    degR: {\n      name: 'degR',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1 / 1.8,\n      offset: 0\n    },\n    kelvin: {\n      name: 'kelvin',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1,\n      offset: 0\n    },\n    celsius: {\n      name: 'celsius',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1,\n      offset: 273.15\n    },\n    fahrenheit: {\n      name: 'fahrenheit',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1 / 1.8,\n      offset: 459.67\n    },\n    rankine: {\n      name: 'rankine',\n      base: BASE_UNITS.TEMPERATURE,\n      prefixes: PREFIXES.NONE,\n      value: 1 / 1.8,\n      offset: 0\n    },\n    // amount of substance\n    mol: {\n      name: 'mol',\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    mole: {\n      name: 'mole',\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // luminous intensity\n    cd: {\n      name: 'cd',\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    candela: {\n      name: 'candela',\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    // TODO: units STERADIAN\n    // {name: 'sr', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\n    // {name: 'steradian', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\n    // Force\n    N: {\n      name: 'N',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    newton: {\n      name: 'newton',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    dyn: {\n      name: 'dyn',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.SHORT,\n      value: 0.00001,\n      offset: 0\n    },\n    dyne: {\n      name: 'dyne',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.LONG,\n      value: 0.00001,\n      offset: 0\n    },\n    lbf: {\n      name: 'lbf',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.NONE,\n      value: 4.4482216152605,\n      offset: 0\n    },\n    poundforce: {\n      name: 'poundforce',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.NONE,\n      value: 4.4482216152605,\n      offset: 0\n    },\n    kip: {\n      name: 'kip',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.LONG,\n      value: 4448.2216,\n      offset: 0\n    },\n    kilogramforce: {\n      name: 'kilogramforce',\n      base: BASE_UNITS.FORCE,\n      prefixes: PREFIXES.NONE,\n      value: 9.80665,\n      offset: 0\n    },\n    // Energy\n    J: {\n      name: 'J',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    joule: {\n      name: 'joule',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    erg: {\n      name: 'erg',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.NONE,\n      value: 1e-7,\n      offset: 0\n    },\n    Wh: {\n      name: 'Wh',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORT,\n      value: 3600,\n      offset: 0\n    },\n    BTU: {\n      name: 'BTU',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.BTU,\n      value: 1055.05585262,\n      offset: 0\n    },\n    eV: {\n      name: 'eV',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.SHORT,\n      value: 1.602176565e-19,\n      offset: 0\n    },\n    electronvolt: {\n      name: 'electronvolt',\n      base: BASE_UNITS.ENERGY,\n      prefixes: PREFIXES.LONG,\n      value: 1.602176565e-19,\n      offset: 0\n    },\n    // Power\n    W: {\n      name: 'W',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    watt: {\n      name: 'watt',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    hp: {\n      name: 'hp',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.NONE,\n      value: 745.6998715386,\n      offset: 0\n    },\n    // Electrical power units\n    VAR: {\n      name: 'VAR',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.SHORT,\n      value: Complex.I,\n      offset: 0\n    },\n    VA: {\n      name: 'VA',\n      base: BASE_UNITS.POWER,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Pressure\n    Pa: {\n      name: 'Pa',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    psi: {\n      name: 'psi',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 6894.75729276459,\n      offset: 0\n    },\n    atm: {\n      name: 'atm',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 101325,\n      offset: 0\n    },\n    bar: {\n      name: 'bar',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.SHORTLONG,\n      value: 100000,\n      offset: 0\n    },\n    torr: {\n      name: 'torr',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 133.322,\n      offset: 0\n    },\n    mmHg: {\n      name: 'mmHg',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 133.322,\n      offset: 0\n    },\n    mmH2O: {\n      name: 'mmH2O',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 9.80665,\n      offset: 0\n    },\n    cmH2O: {\n      name: 'cmH2O',\n      base: BASE_UNITS.PRESSURE,\n      prefixes: PREFIXES.NONE,\n      value: 98.0665,\n      offset: 0\n    },\n    // Electric charge\n    coulomb: {\n      name: 'coulomb',\n      base: BASE_UNITS.ELECTRIC_CHARGE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    C: {\n      name: 'C',\n      base: BASE_UNITS.ELECTRIC_CHARGE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric capacitance\n    farad: {\n      name: 'farad',\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    F: {\n      name: 'F',\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric potential\n    volt: {\n      name: 'volt',\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    V: {\n      name: 'V',\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric resistance\n    ohm: {\n      name: 'ohm',\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\n      prefixes: PREFIXES.SHORTLONG,\n      // Both Mohm and megaohm are acceptable\n      value: 1,\n      offset: 0\n    },\n\n    /*\r\n     * Unicode breaks in browsers if charset is not specified\r\n    Ω: {\r\n      name: 'Ω',\r\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    */\n    // Electric inductance\n    henry: {\n      name: 'henry',\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    H: {\n      name: 'H',\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Electric conductance\n    siemens: {\n      name: 'siemens',\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    S: {\n      name: 'S',\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Magnetic flux\n    weber: {\n      name: 'weber',\n      base: BASE_UNITS.MAGNETIC_FLUX,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    Wb: {\n      name: 'Wb',\n      base: BASE_UNITS.MAGNETIC_FLUX,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Magnetic flux density\n    tesla: {\n      name: 'tesla',\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\n      prefixes: PREFIXES.LONG,\n      value: 1,\n      offset: 0\n    },\n    T: {\n      name: 'T',\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\n      prefixes: PREFIXES.SHORT,\n      value: 1,\n      offset: 0\n    },\n    // Binary\n    b: {\n      name: 'b',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_SHORT,\n      value: 1,\n      offset: 0\n    },\n    bits: {\n      name: 'bits',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_LONG,\n      value: 1,\n      offset: 0\n    },\n    B: {\n      name: 'B',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_SHORT,\n      value: 8,\n      offset: 0\n    },\n    bytes: {\n      name: 'bytes',\n      base: BASE_UNITS.BIT,\n      prefixes: PREFIXES.BINARY_LONG,\n      value: 8,\n      offset: 0\n    }\n  }; // aliases (formerly plurals)\n\n  var ALIASES = {\n    meters: 'meter',\n    inches: 'inch',\n    feet: 'foot',\n    yards: 'yard',\n    miles: 'mile',\n    links: 'link',\n    rods: 'rod',\n    chains: 'chain',\n    angstroms: 'angstrom',\n    lt: 'l',\n    litres: 'litre',\n    liter: 'litre',\n    liters: 'litre',\n    teaspoons: 'teaspoon',\n    tablespoons: 'tablespoon',\n    minims: 'minim',\n    fluiddrams: 'fluiddram',\n    fluidounces: 'fluidounce',\n    gills: 'gill',\n    cups: 'cup',\n    pints: 'pint',\n    quarts: 'quart',\n    gallons: 'gallon',\n    beerbarrels: 'beerbarrel',\n    oilbarrels: 'oilbarrel',\n    hogsheads: 'hogshead',\n    gtts: 'gtt',\n    grams: 'gram',\n    tons: 'ton',\n    tonnes: 'tonne',\n    grains: 'grain',\n    drams: 'dram',\n    ounces: 'ounce',\n    poundmasses: 'poundmass',\n    hundredweights: 'hundredweight',\n    sticks: 'stick',\n    lb: 'lbm',\n    lbs: 'lbm',\n    kips: 'kip',\n    kgf: 'kilogramforce',\n    acres: 'acre',\n    hectares: 'hectare',\n    sqfeet: 'sqft',\n    sqyard: 'sqyd',\n    sqmile: 'sqmi',\n    sqmiles: 'sqmi',\n    mmhg: 'mmHg',\n    mmh2o: 'mmH2O',\n    cmh2o: 'cmH2O',\n    seconds: 'second',\n    secs: 'second',\n    minutes: 'minute',\n    mins: 'minute',\n    hours: 'hour',\n    hr: 'hour',\n    hrs: 'hour',\n    days: 'day',\n    weeks: 'week',\n    months: 'month',\n    years: 'year',\n    decades: 'decade',\n    centuries: 'century',\n    millennia: 'millennium',\n    hertz: 'hertz',\n    radians: 'radian',\n    degrees: 'degree',\n    gradians: 'gradian',\n    cycles: 'cycle',\n    arcsecond: 'arcsec',\n    arcseconds: 'arcsec',\n    arcminute: 'arcmin',\n    arcminutes: 'arcmin',\n    BTUs: 'BTU',\n    watts: 'watt',\n    joules: 'joule',\n    amperes: 'ampere',\n    coulombs: 'coulomb',\n    volts: 'volt',\n    ohms: 'ohm',\n    farads: 'farad',\n    webers: 'weber',\n    teslas: 'tesla',\n    electronvolts: 'electronvolt',\n    moles: 'mole',\n    bit: 'bits',\n    byte: 'bytes'\n  };\n  /**\r\n   * Calculate the values for the angle units.\r\n   * Value is calculated as number or BigNumber depending on the configuration\r\n   * @param {{number: 'number' | 'BigNumber'}} config\r\n   */\n\n  function calculateAngleValues(config) {\n    if (config.number === 'BigNumber') {\n      var pi = createPi(_BigNumber);\n      UNITS.rad.value = new _BigNumber(1);\n      UNITS.deg.value = pi.div(180); // 2 * pi / 360\n\n      UNITS.grad.value = pi.div(200); // 2 * pi / 400\n\n      UNITS.cycle.value = pi.times(2); // 2 * pi\n\n      UNITS.arcsec.value = pi.div(648000); // 2 * pi / 360 / 3600\n\n      UNITS.arcmin.value = pi.div(10800); // 2 * pi / 360 / 60\n    } else {\n      // number\n      UNITS.rad.value = 1;\n      UNITS.deg.value = Math.PI / 180; // 2 * pi / 360\n\n      UNITS.grad.value = Math.PI / 200; // 2 * pi / 400\n\n      UNITS.cycle.value = Math.PI * 2; // 2 * pi\n\n      UNITS.arcsec.value = Math.PI / 648000; // 2 * pi / 360 / 3600\n\n      UNITS.arcmin.value = Math.PI / 10800; // 2 * pi / 360 / 60\n    } // copy to the full names of the angles\n\n\n    UNITS.radian.value = UNITS.rad.value;\n    UNITS.degree.value = UNITS.deg.value;\n    UNITS.gradian.value = UNITS.grad.value;\n  } // apply the angle values now\n\n\n  calculateAngleValues(config);\n\n  if (on) {\n    // recalculate the values on change of configuration\n    on('config', function (curr, prev) {\n      if (curr.number !== prev.number) {\n        calculateAngleValues(curr);\n      }\n    });\n  }\n  /**\r\n   * A unit system is a set of dimensionally independent base units plus a set of derived units, formed by multiplication and division of the base units, that are by convention used with the unit system.\r\n   * A user perhaps could issue a command to select a preferred unit system, or use the default (see below).\r\n   * Auto unit system: The default unit system is updated on the fly anytime a unit is parsed. The corresponding unit in the default unit system is updated, so that answers are given in the same units the user supplies.\r\n   */\n\n\n  var UNIT_SYSTEMS = {\n    si: {\n      // Base units\n      NONE: {\n        unit: UNIT_NONE,\n        prefix: PREFIXES.NONE['']\n      },\n      LENGTH: {\n        unit: UNITS.m,\n        prefix: PREFIXES.SHORT['']\n      },\n      MASS: {\n        unit: UNITS.g,\n        prefix: PREFIXES.SHORT.k\n      },\n      TIME: {\n        unit: UNITS.s,\n        prefix: PREFIXES.SHORT['']\n      },\n      CURRENT: {\n        unit: UNITS.A,\n        prefix: PREFIXES.SHORT['']\n      },\n      TEMPERATURE: {\n        unit: UNITS.K,\n        prefix: PREFIXES.SHORT['']\n      },\n      LUMINOUS_INTENSITY: {\n        unit: UNITS.cd,\n        prefix: PREFIXES.SHORT['']\n      },\n      AMOUNT_OF_SUBSTANCE: {\n        unit: UNITS.mol,\n        prefix: PREFIXES.SHORT['']\n      },\n      ANGLE: {\n        unit: UNITS.rad,\n        prefix: PREFIXES.SHORT['']\n      },\n      BIT: {\n        unit: UNITS.bits,\n        prefix: PREFIXES.SHORT['']\n      },\n      // Derived units\n      FORCE: {\n        unit: UNITS.N,\n        prefix: PREFIXES.SHORT['']\n      },\n      ENERGY: {\n        unit: UNITS.J,\n        prefix: PREFIXES.SHORT['']\n      },\n      POWER: {\n        unit: UNITS.W,\n        prefix: PREFIXES.SHORT['']\n      },\n      PRESSURE: {\n        unit: UNITS.Pa,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_CHARGE: {\n        unit: UNITS.C,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_CAPACITANCE: {\n        unit: UNITS.F,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_POTENTIAL: {\n        unit: UNITS.V,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_RESISTANCE: {\n        unit: UNITS.ohm,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_INDUCTANCE: {\n        unit: UNITS.H,\n        prefix: PREFIXES.SHORT['']\n      },\n      ELECTRIC_CONDUCTANCE: {\n        unit: UNITS.S,\n        prefix: PREFIXES.SHORT['']\n      },\n      MAGNETIC_FLUX: {\n        unit: UNITS.Wb,\n        prefix: PREFIXES.SHORT['']\n      },\n      MAGNETIC_FLUX_DENSITY: {\n        unit: UNITS.T,\n        prefix: PREFIXES.SHORT['']\n      },\n      FREQUENCY: {\n        unit: UNITS.Hz,\n        prefix: PREFIXES.SHORT['']\n      }\n    }\n  }; // Clone to create the other unit systems\n\n  UNIT_SYSTEMS.cgs = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\n  UNIT_SYSTEMS.cgs.LENGTH = {\n    unit: UNITS.m,\n    prefix: PREFIXES.SHORT.c\n  };\n  UNIT_SYSTEMS.cgs.MASS = {\n    unit: UNITS.g,\n    prefix: PREFIXES.SHORT['']\n  };\n  UNIT_SYSTEMS.cgs.FORCE = {\n    unit: UNITS.dyn,\n    prefix: PREFIXES.SHORT['']\n  };\n  UNIT_SYSTEMS.cgs.ENERGY = {\n    unit: UNITS.erg,\n    prefix: PREFIXES.NONE['']\n  }; // there are wholly 4 unique cgs systems for electricity and magnetism,\n  // so let's not worry about it unless somebody complains\n\n  UNIT_SYSTEMS.us = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\n  UNIT_SYSTEMS.us.LENGTH = {\n    unit: UNITS.ft,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.MASS = {\n    unit: UNITS.lbm,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.TEMPERATURE = {\n    unit: UNITS.degF,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.FORCE = {\n    unit: UNITS.lbf,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.ENERGY = {\n    unit: UNITS.BTU,\n    prefix: PREFIXES.BTU['']\n  };\n  UNIT_SYSTEMS.us.POWER = {\n    unit: UNITS.hp,\n    prefix: PREFIXES.NONE['']\n  };\n  UNIT_SYSTEMS.us.PRESSURE = {\n    unit: UNITS.psi,\n    prefix: PREFIXES.NONE['']\n  }; // Add additional unit systems here.\n  // Choose a unit system to seed the auto unit system.\n\n  UNIT_SYSTEMS.auto = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si)); // Set the current unit system\n\n  var currentUnitSystem = UNIT_SYSTEMS.auto;\n  /**\r\n   * Set a unit system for formatting derived units.\r\n   * @param {string} [name] The name of the unit system.\r\n   */\n\n  Unit.setUnitSystem = function (name) {\n    if (hasOwnProperty(UNIT_SYSTEMS, name)) {\n      currentUnitSystem = UNIT_SYSTEMS[name];\n    } else {\n      throw new Error('Unit system ' + name + ' does not exist. Choices are: ' + Object.keys(UNIT_SYSTEMS).join(', '));\n    }\n  };\n  /**\r\n   * Return the current unit system.\r\n   * @return {string} The current unit system.\r\n   */\n\n\n  Unit.getUnitSystem = function () {\n    for (var _key in UNIT_SYSTEMS) {\n      if (hasOwnProperty(UNIT_SYSTEMS, _key)) {\n        if (UNIT_SYSTEMS[_key] === currentUnitSystem) {\n          return _key;\n        }\n      }\n    }\n  };\n  /**\r\n   * Converters to convert from number to an other numeric type like BigNumber\r\n   * or Fraction\r\n   */\n\n\n  Unit.typeConverters = {\n    BigNumber: function BigNumber(x) {\n      return new _BigNumber(x + ''); // stringify to prevent constructor error\n    },\n    Fraction: function Fraction(x) {\n      return new _Fraction(x);\n    },\n    Complex: function Complex(x) {\n      return x;\n    },\n    number: function number(x) {\n      return x;\n    }\n  };\n  /**\r\n   * Retrieve the right converter function corresponding with this unit's\r\n   * value\r\n   *\r\n   * @memberof Unit\r\n   * @return {Function}\r\n   */\n\n  Unit.prototype._numberConverter = function () {\n    var convert = Unit.typeConverters[this.valueType()];\n\n    if (convert) {\n      return convert;\n    }\n\n    throw new TypeError('Unsupported Unit value type \"' + this.valueType() + '\"');\n  };\n  /**\r\n   * Retrieve the right convertor function corresponding with the type\r\n   * of provided exampleValue.\r\n   *\r\n   * @param {string} type   A string 'number', 'BigNumber', or 'Fraction'\r\n   *                        In case of an unknown type,\r\n   * @return {Function}\r\n   */\n\n\n  Unit._getNumberConverter = function (type) {\n    if (!Unit.typeConverters[type]) {\n      throw new TypeError('Unsupported type \"' + type + '\"');\n    }\n\n    return Unit.typeConverters[type];\n  }; // Add dimensions to each built-in unit\n\n\n  for (var _key2 in UNITS) {\n    if (hasOwnProperty(UNITS, _key2)) {\n      var unit = UNITS[_key2];\n      unit.dimensions = unit.base.dimensions;\n    }\n  } // Create aliases\n\n\n  for (var _name2 in ALIASES) {\n    if (hasOwnProperty(ALIASES, _name2)) {\n      var _unit2 = UNITS[ALIASES[_name2]];\n      var alias = {};\n\n      for (var _key3 in _unit2) {\n        if (hasOwnProperty(_unit2, _key3)) {\n          alias[_key3] = _unit2[_key3];\n        }\n      }\n\n      alias.name = _name2;\n      UNITS[_name2] = alias;\n    }\n  }\n  /**\r\n   * Checks if a character is a valid latin letter (upper or lower case).\r\n   * Note that this function can be overridden, for example to allow support of other alphabets.\r\n   * @param {string} c Tested character\r\n   */\n\n\n  Unit.isValidAlpha = function isValidAlpha(c) {\n    return /^[a-zA-Z]$/.test(c);\n  };\n\n  function assertUnitNameIsValid(name) {\n    for (var i = 0; i < name.length; i++) {\n      c = name.charAt(i);\n\n      if (i === 0 && !Unit.isValidAlpha(c)) {\n        throw new Error('Invalid unit name (must begin with alpha character): \"' + name + '\"');\n      }\n\n      if (i > 0 && !(Unit.isValidAlpha(c) || isDigit(c))) {\n        throw new Error('Invalid unit name (only alphanumeric characters are allowed): \"' + name + '\"');\n      }\n    }\n  }\n  /**\r\n   * Wrapper around createUnitSingle.\r\n   * Example:\r\n   *  createUnit({\r\n   *    foo: { },\r\n   *    bar: {\r\n   *      definition: 'kg/foo',\r\n   *      aliases: ['ba', 'barr', 'bars'],\r\n   *      offset: 200\r\n   *    },\r\n   *    baz: '4 bar'\r\n   *  },\r\n   *  {\r\n   *    override: true\r\n   *  })\r\n   * @param {object} obj      Object map. Each key becomes a unit which is defined by its value.\r\n   * @param {object} options\r\n   */\n\n\n  Unit.createUnit = function (obj, options) {\n    if (typeof obj !== 'object') {\n      throw new TypeError(\"createUnit expects first parameter to be of type 'Object'\");\n    } // Remove all units and aliases we are overriding\n\n\n    if (options && options.override) {\n      for (var _key4 in obj) {\n        if (hasOwnProperty(obj, _key4)) {\n          Unit.deleteUnit(_key4);\n        }\n\n        if (obj[_key4].aliases) {\n          for (var i = 0; i < obj[_key4].aliases.length; i++) {\n            Unit.deleteUnit(obj[_key4].aliases[i]);\n          }\n        }\n      }\n    } // TODO: traverse multiple times until all units have been added\n\n\n    var lastUnit;\n\n    for (var _key5 in obj) {\n      if (hasOwnProperty(obj, _key5)) {\n        lastUnit = Unit.createUnitSingle(_key5, obj[_key5]);\n      }\n    }\n\n    return lastUnit;\n  };\n  /**\r\n   * Create a user-defined unit and register it with the Unit type.\r\n   * Example:\r\n   *  createUnitSingle('knot', '0.514444444 m/s')\r\n   *  createUnitSingle('acre', new Unit(43560, 'ft^2'))\r\n   *\r\n   * @param {string} name      The name of the new unit. Must be unique. Example: 'knot'\r\n   * @param {string, Unit, Object} definition      Definition of the unit in terms\r\n   * of existing units. For example, '0.514444444 m / s'. Can be a Unit, a string,\r\n   * or an Object. If an Object, may have the following properties:\r\n   *   - definition {string|Unit} The definition of this unit.\r\n   *   - prefixes {string} \"none\", \"short\", \"long\", \"binary_short\", or \"binary_long\".\r\n   *     The default is \"none\".\r\n   *   - aliases {Array} Array of strings. Example: ['knots', 'kt', 'kts']\r\n   *   - offset {Numeric} An offset to apply when converting from the unit. For\r\n   *     example, the offset for celsius is 273.15 and the offset for farhenheit\r\n   *     is 459.67. Default is 0.\r\n   *   - baseName {string} If the unit's dimension does not match that of any other\r\n   *     base unit, the name of the newly create base unit. Otherwise, this property\r\n   *     has no effect.\r\n   *\r\n   * @param {Object} options   (optional) An object containing any of the following\r\n   * properties:\r\n   *   - override {boolean} Whether this unit should be allowed to override existing\r\n   *     units.\r\n   *\r\n   * @return {Unit}\r\n   */\n\n\n  Unit.createUnitSingle = function (name, obj, options) {\n    if (typeof obj === 'undefined' || obj === null) {\n      obj = {};\n    }\n\n    if (typeof name !== 'string') {\n      throw new TypeError(\"createUnitSingle expects first parameter to be of type 'string'\");\n    } // Check collisions with existing units\n\n\n    if (hasOwnProperty(UNITS, name)) {\n      throw new Error('Cannot create unit \"' + name + '\": a unit with that name already exists');\n    } // TODO: Validate name for collisions with other built-in functions (like abs or cos, for example), and for acceptable variable names. For example, '42' is probably not a valid unit. Nor is '%', since it is also an operator.\n\n\n    assertUnitNameIsValid(name);\n    var defUnit = null; // The Unit from which the new unit will be created.\n\n    var aliases = [];\n    var offset = 0;\n    var definition;\n    var prefixes;\n    var baseName;\n\n    if (obj && obj.type === 'Unit') {\n      defUnit = obj.clone();\n    } else if (typeof obj === 'string') {\n      if (obj !== '') {\n        definition = obj;\n      }\n    } else if (typeof obj === 'object') {\n      definition = obj.definition;\n      prefixes = obj.prefixes;\n      offset = obj.offset;\n      baseName = obj.baseName;\n\n      if (obj.aliases) {\n        aliases = obj.aliases.valueOf(); // aliases could be a Matrix, so convert to Array\n      }\n    } else {\n      throw new TypeError('Cannot create unit \"' + name + '\" from \"' + obj.toString() + '\": expecting \"string\" or \"Unit\" or \"Object\"');\n    }\n\n    if (aliases) {\n      for (var i = 0; i < aliases.length; i++) {\n        if (hasOwnProperty(UNITS, aliases[i])) {\n          throw new Error('Cannot create alias \"' + aliases[i] + '\": a unit with that name already exists');\n        }\n      }\n    }\n\n    if (definition && typeof definition === 'string' && !defUnit) {\n      try {\n        defUnit = Unit.parse(definition, {\n          allowNoUnits: true\n        });\n      } catch (ex) {\n        ex.message = 'Could not create unit \"' + name + '\" from \"' + definition + '\": ' + ex.message;\n        throw ex;\n      }\n    } else if (definition && definition.type === 'Unit') {\n      defUnit = definition.clone();\n    }\n\n    aliases = aliases || [];\n    offset = offset || 0;\n\n    if (prefixes && prefixes.toUpperCase) {\n      prefixes = PREFIXES[prefixes.toUpperCase()] || PREFIXES.NONE;\n    } else {\n      prefixes = PREFIXES.NONE;\n    } // If defUnit is null, it is because the user did not\n    // specify a defintion. So create a new base dimension.\n\n\n    var newUnit = {};\n\n    if (!defUnit) {\n      // Add a new base dimension\n      baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\n\n      if (BASE_DIMENSIONS.indexOf(baseName) >= 0) {\n        throw new Error('Cannot create new base unit \"' + name + '\": a base unit with that name already exists (and cannot be overridden)');\n      }\n\n      BASE_DIMENSIONS.push(baseName); // Push 0 onto existing base units\n\n      for (var b in BASE_UNITS) {\n        if (hasOwnProperty(BASE_UNITS, b)) {\n          BASE_UNITS[b].dimensions[BASE_DIMENSIONS.length - 1] = 0;\n        }\n      } // Add the new base unit\n\n\n      var newBaseUnit = {\n        dimensions: []\n      };\n\n      for (var _i6 = 0; _i6 < BASE_DIMENSIONS.length; _i6++) {\n        newBaseUnit.dimensions[_i6] = 0;\n      }\n\n      newBaseUnit.dimensions[BASE_DIMENSIONS.length - 1] = 1;\n      newBaseUnit.key = baseName;\n      BASE_UNITS[baseName] = newBaseUnit;\n      newUnit = {\n        name: name,\n        value: 1,\n        dimensions: BASE_UNITS[baseName].dimensions.slice(0),\n        prefixes: prefixes,\n        offset: offset,\n        base: BASE_UNITS[baseName]\n      };\n      currentUnitSystem[baseName] = {\n        unit: newUnit,\n        prefix: PREFIXES.NONE['']\n      };\n    } else {\n      newUnit = {\n        name: name,\n        value: defUnit.value,\n        dimensions: defUnit.dimensions.slice(0),\n        prefixes: prefixes,\n        offset: offset\n      }; // Create a new base if no matching base exists\n\n      var anyMatch = false;\n\n      for (var _i7 in BASE_UNITS) {\n        if (hasOwnProperty(BASE_UNITS, _i7)) {\n          var match = true;\n\n          for (var j = 0; j < BASE_DIMENSIONS.length; j++) {\n            if (Math.abs((newUnit.dimensions[j] || 0) - (BASE_UNITS[_i7].dimensions[j] || 0)) > 1e-12) {\n              match = false;\n              break;\n            }\n          }\n\n          if (match) {\n            anyMatch = true;\n            newUnit.base = BASE_UNITS[_i7];\n            break;\n          }\n        }\n      }\n\n      if (!anyMatch) {\n        baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\n        // Add the new base unit\n\n        var _newBaseUnit = {\n          dimensions: defUnit.dimensions.slice(0)\n        };\n        _newBaseUnit.key = baseName;\n        BASE_UNITS[baseName] = _newBaseUnit;\n        currentUnitSystem[baseName] = {\n          unit: newUnit,\n          prefix: PREFIXES.NONE['']\n        };\n        newUnit.base = BASE_UNITS[baseName];\n      }\n    }\n\n    Unit.UNITS[name] = newUnit;\n\n    for (var _i8 = 0; _i8 < aliases.length; _i8++) {\n      var aliasName = aliases[_i8];\n      var _alias = {};\n\n      for (var _key6 in newUnit) {\n        if (hasOwnProperty(newUnit, _key6)) {\n          _alias[_key6] = newUnit[_key6];\n        }\n      }\n\n      _alias.name = aliasName;\n      Unit.UNITS[aliasName] = _alias;\n    } // delete the memoization cache, since adding a new unit to the array\n    // invalidates all old results\n\n\n    delete _findUnit.cache;\n    return new Unit(null, name);\n  };\n\n  Unit.deleteUnit = function (name) {\n    delete Unit.UNITS[name];\n  }; // expose arrays with prefixes, dimensions, units, systems\n\n\n  Unit.PREFIXES = PREFIXES;\n  Unit.BASE_DIMENSIONS = BASE_DIMENSIONS;\n  Unit.BASE_UNITS = BASE_UNITS;\n  Unit.UNIT_SYSTEMS = UNIT_SYSTEMS;\n  Unit.UNITS = UNITS;\n  return Unit;\n}, {\n  isClass: true\n});","map":{"version":3,"names":["_defineProperty","_extends","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","isComplex","isUnit","typeOf","factory","memoize","endsWith","clone","hasOwnProperty","createBigNumberPi","createPi","name","dependencies","createUnitClass","_ref","on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","_BigNumber","BigNumber","_Fraction","Fraction","toNumber","Unit","value","valuelessUnit","Error","undefined","TypeError","fixPrefix","skipAutomaticSimplification","units","dimensions","BASE_DIMENSIONS","map","x","u","parse","slice","_normalize","prototype","constructor","type","text","index","c","skipWhitespace","next","isDigitDot","isDigit","charAt","revert","oldIndex","parseNumber","tentativeNumber","tentativeIndex","parseUnit","unitName","isValidAlpha","firstC","parseCharacter","toFind","str","options","unit","powerMultiplierCurrent","expectingUnit","valueStr","err","parseFloat","powerMultiplierStack","powerMultiplierStackProduct","uStr","oldC","SyntaxError","toString","res","_findUnit","power","p","prefix","pop","base","baseDim","UNIT_SYSTEMS","auto","allowNoUnits","valueType","_isDerived","Math","convert","_getNumberConverter","unitValue","unitPrefixValue","unitPower","_denormalize","prefixValue","UNITS","prefixes","_name","_unit","prefixLen","prefixName","substring","_prefix","hasher","args","limit","isValuelessUnit","hasBase","BASE_UNITS","equalBase","other","equals","multiply","_other","_i","inverted","valThis","valOther","getNumericIfUnitless","divideInto","numerator","divide","_i2","_i3","NONE","predictable","ret","offset","_numberConverter","nominalOffset","unitOffset","W","to","concat","thisUnitValue","thisNominalOffset","thisUnitOffset","otherUnitValue","otherNominalOffset","otherUnitOffset","toNumeric","toJSON","mathjs","formatUnits","fromJSON","json","valueOf","simplify","proposedUnitList","matchingBase","currentUnitSystem","matchingUnit","missingBaseDim","toSI","si","strNum","strDen","nNum","nDen","_i4","substr","simp","isImaginary","re","VAR","VA","_bestPrefix","unitStr","absValue","absUnitValue","bestPrefix","bestDiff","log","LN10","scientific","diff","splitUnit","parts","xNumeric","xRounded","xFixed","isNearlyEqual","y","testSum","_i5","PREFIXES","SHORT","da","h","k","M","G","T","P","E","Z","Y","d","m","n","f","a","z","LONG","deca","hecto","kilo","mega","giga","tera","peta","exa","zetta","yotta","deci","centi","milli","micro","nano","pico","femto","atto","zepto","yocto","SQUARED","CUBIC","BINARY_SHORT_SI","BINARY_SHORT_IEC","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi","BINARY_LONG_SI","BINARY_LONG_IEC","kibi","mebi","gibi","tebi","pebi","exi","zebi","yobi","BTU","MM","SHORTLONG","BINARY_SHORT","BINARY_LONG","MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","FORCE","SURFACE","VOLUME","ENERGY","POWER","PRESSURE","ELECTRIC_CHARGE","ELECTRIC_CAPACITANCE","ELECTRIC_POTENTIAL","ELECTRIC_RESISTANCE","ELECTRIC_INDUCTANCE","ELECTRIC_CONDUCTANCE","MAGNETIC_FLUX","MAGNETIC_FLUX_DENSITY","FREQUENCY","ANGLE","BIT","BASE_UNIT_NONE","UNIT_NONE","meter","inch","foot","yard","mile","link","rod","chain","angstrom","in","ft","yd","mi","li","rd","ch","mil","m2","sqin","sqft","sqyd","sqmi","sqrd","sqch","sqmil","acre","hectare","m3","L","l","litre","cuin","cuft","cuyd","teaspoon","tablespoon","drop","gtt","minim","fluiddram","fluidounce","gill","cc","cup","pint","quart","gallon","beerbarrel","oilbarrel","hogshead","fldr","floz","gi","cp","pt","qt","gal","bbl","obl","g","gram","ton","t","tonne","grain","dram","ounce","poundmass","hundredweight","stick","stone","gr","dr","oz","lbm","cwt","s","min","second","sec","minute","hour","day","week","month","year","decade","century","millennium","hertz","reciprocal","Hz","rad","radian","deg","degree","grad","gradian","cycle","arcsec","arcmin","A","ampere","K","degC","degF","degR","kelvin","celsius","fahrenheit","rankine","mol","mole","cd","candela","N","newton","dyn","dyne","lbf","poundforce","kip","kilogramforce","J","joule","erg","Wh","eV","electronvolt","watt","hp","I","Pa","psi","atm","bar","torr","mmHg","mmH2O","cmH2O","coulomb","C","farad","F","volt","V","ohm","henry","H","siemens","S","weber","Wb","tesla","b","bits","B","bytes","ALIASES","meters","inches","feet","yards","miles","links","rods","chains","angstroms","lt","litres","liter","liters","teaspoons","tablespoons","minims","fluiddrams","fluidounces","gills","cups","pints","quarts","gallons","beerbarrels","oilbarrels","hogsheads","gtts","grams","tons","tonnes","grains","drams","ounces","poundmasses","hundredweights","sticks","lb","lbs","kips","kgf","acres","hectares","sqfeet","sqyard","sqmile","sqmiles","mmhg","mmh2o","cmh2o","seconds","secs","minutes","mins","hours","hr","hrs","days","weeks","months","years","decades","centuries","millennia","radians","degrees","gradians","cycles","arcsecond","arcseconds","arcminute","arcminutes","BTUs","watts","joules","amperes","coulombs","volts","ohms","farads","webers","teslas","electronvolts","moles","bit","byte","calculateAngleValues","pi","div","times","PI","curr","prev","cgs","JSON","stringify","us","setUnitSystem","join","getUnitSystem","_key","typeConverters","_key2","_name2","_unit2","alias","_key3","test","assertUnitNameIsValid","createUnit","obj","override","_key4","deleteUnit","aliases","lastUnit","_key5","createUnitSingle","defUnit","definition","baseName","ex","message","toUpperCase","newUnit","indexOf","newBaseUnit","_i6","anyMatch","_i7","match","j","_newBaseUnit","_i8","aliasName","_alias","_key6","cache","isClass"],"sources":["C:/Users/daniz/TFG/Aplicacion/node_modules/mathjs/lib/esm/type/unit/Unit.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\r\nimport _extends from \"@babel/runtime/helpers/extends\";\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nimport { isComplex, isUnit, typeOf } from '../../utils/is.js';\r\nimport { factory } from '../../utils/factory.js';\r\nimport { memoize } from '../../utils/function.js';\r\nimport { endsWith } from '../../utils/string.js';\r\nimport { clone, hasOwnProperty } from '../../utils/object.js';\r\nimport { createBigNumberPi as createPi } from '../../utils/bignumber/constants.js';\r\nvar name = 'Unit';\r\nvar dependencies = ['?on', 'config', 'addScalar', 'subtract', 'multiplyScalar', 'divideScalar', 'pow', 'abs', 'fix', 'round', 'equal', 'isNumeric', 'format', 'number', 'Complex', 'BigNumber', 'Fraction'];\r\nexport var createUnitClass = /* #__PURE__ */factory(name, dependencies, _ref => {\r\n  var {\r\n    on,\r\n    config,\r\n    addScalar,\r\n    subtract,\r\n    multiplyScalar,\r\n    divideScalar,\r\n    pow,\r\n    abs,\r\n    fix,\r\n    round,\r\n    equal,\r\n    isNumeric,\r\n    format,\r\n    number,\r\n    Complex,\r\n    BigNumber: _BigNumber,\r\n    Fraction: _Fraction\r\n  } = _ref;\r\n  var toNumber = number;\r\n  /**\r\n   * A unit can be constructed in the following ways:\r\n   *\r\n   *     const a = new Unit(value, valuelessUnit)\r\n   *     const b = new Unit(null, valuelessUnit)\r\n   *     const c = Unit.parse(str)\r\n   *\r\n   * Example usage:\r\n   *\r\n   *     const a = new Unit(5, 'cm')               // 50 mm\r\n   *     const b = Unit.parse('23 kg')             // 23 kg\r\n   *     const c = math.in(a, new Unit(null, 'm')  // 0.05 m\r\n   *     const d = new Unit(9.81, \"m/s^2\")         // 9.81 m/s^2\r\n   *\r\n   * @class Unit\r\n   * @constructor Unit\r\n   * @param {number | BigNumber | Fraction | Complex | boolean} [value]  A value like 5.2\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   */\r\n\r\n  function Unit(value, valuelessUnit) {\r\n    if (!(this instanceof Unit)) {\r\n      throw new Error('Constructor must be called with the new operator');\r\n    }\r\n\r\n    if (!(value === null || value === undefined || isNumeric(value) || isComplex(value))) {\r\n      throw new TypeError('First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined');\r\n    }\r\n\r\n    this.fixPrefix = false; // if true, function format will not search for the\r\n    // best prefix but leave it as initially provided.\r\n    // fixPrefix is set true by the method Unit.to\r\n    // The justification behind this is that if the constructor is explicitly called,\r\n    // the caller wishes the units to be returned exactly as supplied.\r\n\r\n    this.skipAutomaticSimplification = true;\r\n\r\n    if (valuelessUnit === undefined) {\r\n      this.units = [];\r\n      this.dimensions = BASE_DIMENSIONS.map(x => 0);\r\n    } else if (typeof valuelessUnit === 'string') {\r\n      var u = Unit.parse(valuelessUnit);\r\n      this.units = u.units;\r\n      this.dimensions = u.dimensions;\r\n    } else if (isUnit(valuelessUnit) && valuelessUnit.value === null) {\r\n      // clone from valuelessUnit\r\n      this.fixPrefix = valuelessUnit.fixPrefix;\r\n      this.skipAutomaticSimplification = valuelessUnit.skipAutomaticSimplification;\r\n      this.dimensions = valuelessUnit.dimensions.slice(0);\r\n      this.units = valuelessUnit.units.map(u => _extends({}, u));\r\n    } else {\r\n      throw new TypeError('Second parameter in Unit constructor must be a string or valueless Unit');\r\n    }\r\n\r\n    this.value = this._normalize(value);\r\n  }\r\n  /**\r\n   * Attach type information\r\n   */\r\n\r\n\r\n  Object.defineProperty(Unit, 'name', {\r\n    value: 'Unit'\r\n  });\r\n  Unit.prototype.constructor = Unit;\r\n  Unit.prototype.type = 'Unit';\r\n  Unit.prototype.isUnit = true; // private variables and functions for the Unit parser\r\n\r\n  var text, index, c;\r\n\r\n  function skipWhitespace() {\r\n    while (c === ' ' || c === '\\t') {\r\n      next();\r\n    }\r\n  }\r\n\r\n  function isDigitDot(c) {\r\n    return c >= '0' && c <= '9' || c === '.';\r\n  }\r\n\r\n  function isDigit(c) {\r\n    return c >= '0' && c <= '9';\r\n  }\r\n\r\n  function next() {\r\n    index++;\r\n    c = text.charAt(index);\r\n  }\r\n\r\n  function revert(oldIndex) {\r\n    index = oldIndex;\r\n    c = text.charAt(index);\r\n  }\r\n\r\n  function parseNumber() {\r\n    var number = '';\r\n    var oldIndex = index;\r\n\r\n    if (c === '+') {\r\n      next();\r\n    } else if (c === '-') {\r\n      number += c;\r\n      next();\r\n    }\r\n\r\n    if (!isDigitDot(c)) {\r\n      // a + or - must be followed by a digit\r\n      revert(oldIndex);\r\n      return null;\r\n    } // get number, can have a single dot\r\n\r\n\r\n    if (c === '.') {\r\n      number += c;\r\n      next();\r\n\r\n      if (!isDigit(c)) {\r\n        // this is no legal number, it is just a dot\r\n        revert(oldIndex);\r\n        return null;\r\n      }\r\n    } else {\r\n      while (isDigit(c)) {\r\n        number += c;\r\n        next();\r\n      }\r\n\r\n      if (c === '.') {\r\n        number += c;\r\n        next();\r\n      }\r\n    }\r\n\r\n    while (isDigit(c)) {\r\n      number += c;\r\n      next();\r\n    } // check for exponential notation like \"2.3e-4\" or \"1.23e50\"\r\n\r\n\r\n    if (c === 'E' || c === 'e') {\r\n      // The grammar branches here. This could either be part of an exponent or the start of a unit that begins with the letter e, such as \"4exabytes\"\r\n      var tentativeNumber = '';\r\n      var tentativeIndex = index;\r\n      tentativeNumber += c;\r\n      next();\r\n\r\n      if (c === '+' || c === '-') {\r\n        tentativeNumber += c;\r\n        next();\r\n      } // Scientific notation MUST be followed by an exponent (otherwise we assume it is not scientific notation)\r\n\r\n\r\n      if (!isDigit(c)) {\r\n        // The e or E must belong to something else, so return the number without the e or E.\r\n        revert(tentativeIndex);\r\n        return number;\r\n      } // We can now safely say that this is scientific notation.\r\n\r\n\r\n      number = number + tentativeNumber;\r\n\r\n      while (isDigit(c)) {\r\n        number += c;\r\n        next();\r\n      }\r\n    }\r\n\r\n    return number;\r\n  }\r\n\r\n  function parseUnit() {\r\n    var unitName = ''; // Alphanumeric characters only; matches [a-zA-Z0-9]\r\n\r\n    while (isDigit(c) || Unit.isValidAlpha(c)) {\r\n      unitName += c;\r\n      next();\r\n    } // Must begin with [a-zA-Z]\r\n\r\n\r\n    var firstC = unitName.charAt(0);\r\n\r\n    if (Unit.isValidAlpha(firstC)) {\r\n      return unitName;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  function parseCharacter(toFind) {\r\n    if (c === toFind) {\r\n      next();\r\n      return toFind;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  /**\r\n   * Parse a string into a unit. The value of the unit is parsed as number,\r\n   * BigNumber, or Fraction depending on the math.js config setting `number`.\r\n   *\r\n   * Throws an exception if the provided string does not contain a valid unit or\r\n   * cannot be parsed.\r\n   * @memberof Unit\r\n   * @param {string} str        A string like \"5.2 inch\", \"4e2 cm/s^2\"\r\n   * @return {Unit} unit\r\n   */\r\n\r\n\r\n  Unit.parse = function (str, options) {\r\n    options = options || {};\r\n    text = str;\r\n    index = -1;\r\n    c = '';\r\n\r\n    if (typeof text !== 'string') {\r\n      throw new TypeError('Invalid argument in Unit.parse, string expected');\r\n    }\r\n\r\n    var unit = new Unit();\r\n    unit.units = [];\r\n    var powerMultiplierCurrent = 1;\r\n    var expectingUnit = false; // A unit should follow this pattern:\r\n    // [number] ...[ [*/] unit[^number] ]\r\n    // unit[^number] ... [ [*/] unit[^number] ]\r\n    // Rules:\r\n    // number is any floating point number.\r\n    // unit is any alphanumeric string beginning with an alpha. Units with names like e3 should be avoided because they look like the exponent of a floating point number!\r\n    // The string may optionally begin with a number.\r\n    // Each unit may optionally be followed by ^number.\r\n    // Whitespace or a forward slash is recommended between consecutive units, although the following technically is parseable:\r\n    //   2m^2kg/s^2\r\n    // it is not good form. If a unit starts with e, then it could be confused as a floating point number:\r\n    //   4erg\r\n\r\n    next();\r\n    skipWhitespace(); // Optional number at the start of the string\r\n\r\n    var valueStr = parseNumber();\r\n    var value = null;\r\n\r\n    if (valueStr) {\r\n      if (config.number === 'BigNumber') {\r\n        value = new _BigNumber(valueStr);\r\n      } else if (config.number === 'Fraction') {\r\n        try {\r\n          // not all numbers can be turned in Fractions, for example very small numbers not\r\n          value = new _Fraction(valueStr);\r\n        } catch (err) {\r\n          value = parseFloat(valueStr);\r\n        }\r\n      } else {\r\n        // number\r\n        value = parseFloat(valueStr);\r\n      }\r\n\r\n      skipWhitespace(); // Whitespace is not required here\r\n      // handle multiplication or division right after the value, like '1/s'\r\n\r\n      if (parseCharacter('*')) {\r\n        powerMultiplierCurrent = 1;\r\n        expectingUnit = true;\r\n      } else if (parseCharacter('/')) {\r\n        powerMultiplierCurrent = -1;\r\n        expectingUnit = true;\r\n      }\r\n    } // Stack to keep track of powerMultipliers applied to each parentheses group\r\n\r\n\r\n    var powerMultiplierStack = []; // Running product of all elements in powerMultiplierStack\r\n\r\n    var powerMultiplierStackProduct = 1;\r\n\r\n    while (true) {\r\n      skipWhitespace(); // Check for and consume opening parentheses, pushing powerMultiplierCurrent to the stack\r\n      // A '(' will always appear directly before a unit.\r\n\r\n      while (c === '(') {\r\n        powerMultiplierStack.push(powerMultiplierCurrent);\r\n        powerMultiplierStackProduct *= powerMultiplierCurrent;\r\n        powerMultiplierCurrent = 1;\r\n        next();\r\n        skipWhitespace();\r\n      } // Is there something here?\r\n\r\n\r\n      var uStr = void 0;\r\n\r\n      if (c) {\r\n        var oldC = c;\r\n        uStr = parseUnit();\r\n\r\n        if (uStr === null) {\r\n          throw new SyntaxError('Unexpected \"' + oldC + '\" in \"' + text + '\" at index ' + index.toString());\r\n        }\r\n      } else {\r\n        // End of input.\r\n        break;\r\n      } // Verify the unit exists and get the prefix (if any)\r\n\r\n\r\n      var res = _findUnit(uStr);\r\n\r\n      if (res === null) {\r\n        // Unit not found.\r\n        throw new SyntaxError('Unit \"' + uStr + '\" not found.');\r\n      }\r\n\r\n      var power = powerMultiplierCurrent * powerMultiplierStackProduct; // Is there a \"^ number\"?\r\n\r\n      skipWhitespace();\r\n\r\n      if (parseCharacter('^')) {\r\n        skipWhitespace();\r\n        var p = parseNumber();\r\n\r\n        if (p === null) {\r\n          // No valid number found for the power!\r\n          throw new SyntaxError('In \"' + str + '\", \"^\" must be followed by a floating-point number');\r\n        }\r\n\r\n        power *= p;\r\n      } // Add the unit to the list\r\n\r\n\r\n      unit.units.push({\r\n        unit: res.unit,\r\n        prefix: res.prefix,\r\n        power\r\n      });\r\n\r\n      for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n        unit.dimensions[i] += (res.unit.dimensions[i] || 0) * power;\r\n      } // Check for and consume closing parentheses, popping from the stack.\r\n      // A ')' will always follow a unit.\r\n\r\n\r\n      skipWhitespace();\r\n\r\n      while (c === ')') {\r\n        if (powerMultiplierStack.length === 0) {\r\n          throw new SyntaxError('Unmatched \")\" in \"' + text + '\" at index ' + index.toString());\r\n        }\r\n\r\n        powerMultiplierStackProduct /= powerMultiplierStack.pop();\r\n        next();\r\n        skipWhitespace();\r\n      } // \"*\" and \"/\" should mean we are expecting something to come next.\r\n      // Is there a forward slash? If so, negate powerMultiplierCurrent. The next unit or paren group is in the denominator.\r\n\r\n\r\n      expectingUnit = false;\r\n\r\n      if (parseCharacter('*')) {\r\n        // explicit multiplication\r\n        powerMultiplierCurrent = 1;\r\n        expectingUnit = true;\r\n      } else if (parseCharacter('/')) {\r\n        // division\r\n        powerMultiplierCurrent = -1;\r\n        expectingUnit = true;\r\n      } else {\r\n        // implicit multiplication\r\n        powerMultiplierCurrent = 1;\r\n      } // Replace the unit into the auto unit system\r\n\r\n\r\n      if (res.unit.base) {\r\n        var baseDim = res.unit.base.key;\r\n        UNIT_SYSTEMS.auto[baseDim] = {\r\n          unit: res.unit,\r\n          prefix: res.prefix\r\n        };\r\n      }\r\n    } // Has the string been entirely consumed?\r\n\r\n\r\n    skipWhitespace();\r\n\r\n    if (c) {\r\n      throw new SyntaxError('Could not parse: \"' + str + '\"');\r\n    } // Is there a trailing slash?\r\n\r\n\r\n    if (expectingUnit) {\r\n      throw new SyntaxError('Trailing characters: \"' + str + '\"');\r\n    } // Is the parentheses stack empty?\r\n\r\n\r\n    if (powerMultiplierStack.length !== 0) {\r\n      throw new SyntaxError('Unmatched \"(\" in \"' + text + '\"');\r\n    } // Are there any units at all?\r\n\r\n\r\n    if (unit.units.length === 0 && !options.allowNoUnits) {\r\n      throw new SyntaxError('\"' + str + '\" contains no units');\r\n    }\r\n\r\n    unit.value = value !== undefined ? unit._normalize(value) : null;\r\n    return unit;\r\n  };\r\n  /**\r\n   * create a copy of this unit\r\n   * @memberof Unit\r\n   * @return {Unit} Returns a cloned version of the unit\r\n   */\r\n\r\n\r\n  Unit.prototype.clone = function () {\r\n    var unit = new Unit();\r\n    unit.fixPrefix = this.fixPrefix;\r\n    unit.skipAutomaticSimplification = this.skipAutomaticSimplification;\r\n    unit.value = clone(this.value);\r\n    unit.dimensions = this.dimensions.slice(0);\r\n    unit.units = [];\r\n\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      unit.units[i] = {};\r\n\r\n      for (var p in this.units[i]) {\r\n        if (hasOwnProperty(this.units[i], p)) {\r\n          unit.units[i][p] = this.units[i][p];\r\n        }\r\n      }\r\n    }\r\n\r\n    return unit;\r\n  };\r\n  /**\r\n   * Return the type of the value of this unit\r\n   *\r\n   * @memberof Unit\r\n   * @ return {string} type of the value of the unit\r\n   */\r\n\r\n\r\n  Unit.prototype.valueType = function () {\r\n    return typeOf(this.value);\r\n  };\r\n  /**\r\n   * Return whether the unit is derived (such as m/s, or cm^2, but not N)\r\n   * @memberof Unit\r\n   * @return {boolean} True if the unit is derived\r\n   */\r\n\r\n\r\n  Unit.prototype._isDerived = function () {\r\n    if (this.units.length === 0) {\r\n      return false;\r\n    }\r\n\r\n    return this.units.length > 1 || Math.abs(this.units[0].power - 1.0) > 1e-15;\r\n  };\r\n  /**\r\n   * Normalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number | BigNumber | Fraction | boolean} value\r\n   * @return {number | BigNumber | Fraction | boolean} normalized value\r\n   * @private\r\n   */\r\n\r\n\r\n  Unit.prototype._normalize = function (value) {\r\n    if (value === null || value === undefined || this.units.length === 0) {\r\n      return value;\r\n    }\r\n\r\n    var res = value;\r\n\r\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\r\n\r\n\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      var unitValue = convert(this.units[i].unit.value);\r\n      var unitPrefixValue = convert(this.units[i].prefix.value);\r\n      var unitPower = convert(this.units[i].power);\r\n      res = multiplyScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\r\n    }\r\n\r\n    return res;\r\n  };\r\n  /**\r\n   * Denormalize a value, based on its currently set unit(s)\r\n   * @memberof Unit\r\n   * @param {number} value\r\n   * @param {number} [prefixValue]    Optional prefix value to be used (ignored if this is a derived unit)\r\n   * @return {number} denormalized value\r\n   * @private\r\n   */\r\n\r\n\r\n  Unit.prototype._denormalize = function (value, prefixValue) {\r\n    if (value === null || value === undefined || this.units.length === 0) {\r\n      return value;\r\n    }\r\n\r\n    var res = value;\r\n\r\n    var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\r\n\r\n\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      var unitValue = convert(this.units[i].unit.value);\r\n      var unitPrefixValue = convert(this.units[i].prefix.value);\r\n      var unitPower = convert(this.units[i].power);\r\n      res = divideScalar(res, pow(multiplyScalar(unitValue, unitPrefixValue), unitPower));\r\n    }\r\n\r\n    return res;\r\n  };\r\n  /**\r\n   * Find a unit from a string\r\n   * @memberof Unit\r\n   * @param {string} str              A string like 'cm' or 'inch'\r\n   * @returns {Object | null} result  When found, an object with fields unit and\r\n   *                                  prefix is returned. Else, null is returned.\r\n   * @private\r\n   */\r\n\r\n\r\n  var _findUnit = memoize(str => {\r\n    // First, match units names exactly. For example, a user could define 'mm' as 10^-4 m, which is silly, but then we would want 'mm' to match the user-defined unit.\r\n    if (hasOwnProperty(UNITS, str)) {\r\n      var unit = UNITS[str];\r\n      var prefix = unit.prefixes[''];\r\n      return {\r\n        unit,\r\n        prefix\r\n      };\r\n    }\r\n\r\n    for (var _name in UNITS) {\r\n      if (hasOwnProperty(UNITS, _name)) {\r\n        if (endsWith(str, _name)) {\r\n          var _unit = UNITS[_name];\r\n          var prefixLen = str.length - _name.length;\r\n          var prefixName = str.substring(0, prefixLen);\r\n\r\n          var _prefix = hasOwnProperty(_unit.prefixes, prefixName) ? _unit.prefixes[prefixName] : undefined;\r\n\r\n          if (_prefix !== undefined) {\r\n            // store unit, prefix, and value\r\n            return {\r\n              unit: _unit,\r\n              prefix: _prefix\r\n            };\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }, {\r\n    hasher: args => args[0],\r\n    limit: 100\r\n  });\r\n  /**\r\n   * Test if the given expression is a unit.\r\n   * The unit can have a prefix but cannot have a value.\r\n   * @memberof Unit\r\n   * @param {string} name   A string to be tested whether it is a value less unit.\r\n   *                        The unit can have prefix, like \"cm\"\r\n   * @return {boolean}      true if the given string is a unit\r\n   */\r\n\r\n\r\n  Unit.isValuelessUnit = function (name) {\r\n    return _findUnit(name) !== null;\r\n  };\r\n  /**\r\n   * check if this unit has given base unit\r\n   * If this unit is a derived unit, this will ALWAYS return false, since by definition base units are not derived.\r\n   * @memberof Unit\r\n   * @param {BASE_UNITS | string | undefined} base\r\n   */\r\n\r\n\r\n  Unit.prototype.hasBase = function (base) {\r\n    if (typeof base === 'string') {\r\n      base = BASE_UNITS[base];\r\n    }\r\n\r\n    if (!base) {\r\n      return false;\r\n    } // All dimensions must be the same\r\n\r\n\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      if (Math.abs((this.dimensions[i] || 0) - (base.dimensions[i] || 0)) > 1e-12) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n  /**\r\n   * Check if this unit has a base or bases equal to another base or bases\r\n   * For derived units, the exponent on each base also must match\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if equal base\r\n   */\r\n\r\n\r\n  Unit.prototype.equalBase = function (other) {\r\n    // All dimensions must be the same\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      if (Math.abs((this.dimensions[i] || 0) - (other.dimensions[i] || 0)) > 1e-12) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n  /**\r\n   * Check if this unit equals another unit\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {boolean} true if both units are equal\r\n   */\r\n\r\n\r\n  Unit.prototype.equals = function (other) {\r\n    return this.equalBase(other) && equal(this.value, other.value);\r\n  };\r\n  /**\r\n   * Multiply this unit with another one or with a scalar\r\n   * @memberof Unit\r\n   * @param {Unit} other\r\n   * @return {Unit} product of this unit and the other unit\r\n   */\r\n\r\n\r\n  Unit.prototype.multiply = function (_other) {\r\n    var res = this.clone();\r\n    var other = isUnit(_other) ? _other : new Unit(_other);\r\n\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      // Dimensions arrays may be of different lengths. Default to 0.\r\n      res.dimensions[i] = (this.dimensions[i] || 0) + (other.dimensions[i] || 0);\r\n    } // Append other's units list onto res\r\n\r\n\r\n    for (var _i = 0; _i < other.units.length; _i++) {\r\n      // Make a shallow copy of every unit\r\n      var inverted = _objectSpread({}, other.units[_i]);\r\n\r\n      res.units.push(inverted);\r\n    } // If at least one operand has a value, then the result should also have a value\r\n\r\n\r\n    if (this.value !== null || other.value !== null) {\r\n      var valThis = this.value === null ? this._normalize(1) : this.value;\r\n      var valOther = other.value === null ? other._normalize(1) : other.value;\r\n      res.value = multiplyScalar(valThis, valOther);\r\n    } else {\r\n      res.value = null;\r\n    }\r\n\r\n    if (isUnit(_other)) {\r\n      res.skipAutomaticSimplification = false;\r\n    }\r\n\r\n    return getNumericIfUnitless(res);\r\n  };\r\n  /**\r\n   * Divide a number by this unit\r\n   *\r\n   * @memberof Unit\r\n   * @param {numeric} numerator\r\n   * @param {unit} result of dividing numerator by this unit\r\n   */\r\n\r\n\r\n  Unit.prototype.divideInto = function (numerator) {\r\n    return new Unit(numerator).divide(this);\r\n  };\r\n  /**\r\n   * Divide this unit by another one\r\n   * @memberof Unit\r\n   * @param {Unit | numeric} other\r\n   * @return {Unit} result of dividing this unit by the other unit\r\n   */\r\n\r\n\r\n  Unit.prototype.divide = function (_other) {\r\n    var res = this.clone();\r\n    var other = isUnit(_other) ? _other : new Unit(_other);\r\n\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      // Dimensions arrays may be of different lengths. Default to 0.\r\n      res.dimensions[i] = (this.dimensions[i] || 0) - (other.dimensions[i] || 0);\r\n    } // Invert and append other's units list onto res\r\n\r\n\r\n    for (var _i2 = 0; _i2 < other.units.length; _i2++) {\r\n      // Make a shallow copy of every unit\r\n      var inverted = _objectSpread(_objectSpread({}, other.units[_i2]), {}, {\r\n        power: -other.units[_i2].power\r\n      });\r\n\r\n      res.units.push(inverted);\r\n    } // If at least one operand has a value, the result should have a value\r\n\r\n\r\n    if (this.value !== null || other.value !== null) {\r\n      var valThis = this.value === null ? this._normalize(1) : this.value;\r\n      var valOther = other.value === null ? other._normalize(1) : other.value;\r\n      res.value = divideScalar(valThis, valOther);\r\n    } else {\r\n      res.value = null;\r\n    }\r\n\r\n    if (isUnit(_other)) {\r\n      res.skipAutomaticSimplification = false;\r\n    }\r\n\r\n    return getNumericIfUnitless(res);\r\n  };\r\n  /**\r\n   * Calculate the power of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} p\r\n   * @returns {Unit}      The result: this^p\r\n   */\r\n\r\n\r\n  Unit.prototype.pow = function (p) {\r\n    var res = this.clone();\r\n\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      // Dimensions arrays may be of different lengths. Default to 0.\r\n      res.dimensions[i] = (this.dimensions[i] || 0) * p;\r\n    } // Adjust the power of each unit in the list\r\n\r\n\r\n    for (var _i3 = 0; _i3 < res.units.length; _i3++) {\r\n      res.units[_i3].power *= p;\r\n    }\r\n\r\n    if (res.value !== null) {\r\n      res.value = pow(res.value, p); // only allow numeric output, we don't want to return a Complex number\r\n      // if (!isNumeric(res.value)) {\r\n      //  res.value = NaN\r\n      // }\r\n      // Update: Complex supported now\r\n    } else {\r\n      res.value = null;\r\n    }\r\n\r\n    res.skipAutomaticSimplification = false;\r\n    return getNumericIfUnitless(res);\r\n  };\r\n  /**\r\n   * Return the numeric value of this unit if it is dimensionless, has a value, and config.predictable == false; or the original unit otherwise\r\n   * @param {Unit} unit\r\n   * @returns {number | Fraction | BigNumber | Unit}  The numeric value of the unit if conditions are met, or the original unit otherwise\r\n   */\r\n\r\n\r\n  function getNumericIfUnitless(unit) {\r\n    if (unit.equalBase(BASE_UNITS.NONE) && unit.value !== null && !config.predictable) {\r\n      return unit.value;\r\n    } else {\r\n      return unit;\r\n    }\r\n  }\r\n  /**\r\n   * Calculate the absolute value of a unit\r\n   * @memberof Unit\r\n   * @param {number | Fraction | BigNumber} x\r\n   * @returns {Unit}      The result: |x|, absolute value of x\r\n   */\r\n\r\n\r\n  Unit.prototype.abs = function () {\r\n    var ret = this.clone();\r\n\r\n    if (ret.value !== null) {\r\n      if (ret._isDerived() || ret.units[0].unit.offset === 0) {\r\n        ret.value = abs(ret.value);\r\n      } else {\r\n        // To give the correct, but unexpected, results for units with an offset.\r\n        // For example, abs(-283.15 degC) = -263.15 degC !!!\r\n        // We must take the offset into consideration here\r\n        var convert = ret._numberConverter(); // convert to Fraction or BigNumber if needed\r\n\r\n\r\n        var unitValue = convert(ret.units[0].unit.value);\r\n        var nominalOffset = convert(ret.units[0].unit.offset);\r\n        var unitOffset = multiplyScalar(unitValue, nominalOffset);\r\n        ret.value = subtract(abs(addScalar(ret.value, unitOffset)), unitOffset);\r\n      }\r\n    }\r\n\r\n    for (var i in ret.units) {\r\n      if (ret.units[i].unit.name === 'VA' || ret.units[i].unit.name === 'VAR') {\r\n        ret.units[i].unit = UNITS.W;\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  };\r\n  /**\r\n   * Convert the unit to a specific unit name.\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like \"cm\"\r\n   * @returns {Unit} Returns a clone of the unit with a fixed prefix and unit.\r\n   */\r\n\r\n\r\n  Unit.prototype.to = function (valuelessUnit) {\r\n    var value = this.value === null ? this._normalize(1) : this.value;\r\n    var other;\r\n\r\n    if (typeof valuelessUnit === 'string') {\r\n      other = Unit.parse(valuelessUnit);\r\n    } else if (isUnit(valuelessUnit)) {\r\n      other = valuelessUnit.clone();\r\n    } else {\r\n      throw new Error('String or Unit expected as parameter');\r\n    }\r\n\r\n    if (!this.equalBase(other)) {\r\n      throw new Error(\"Units do not match ('\".concat(other.toString(), \"' != '\").concat(this.toString(), \"')\"));\r\n    }\r\n\r\n    if (other.value !== null) {\r\n      throw new Error('Cannot convert to a unit with a value');\r\n    }\r\n\r\n    if (this.value === null || this._isDerived() || this.units[0].unit.offset === other.units[0].unit.offset) {\r\n      other.value = clone(value);\r\n    } else {\r\n      /* Need to adjust value by difference in offset to convert */\r\n      var convert = Unit._getNumberConverter(typeOf(value)); // convert to Fraction or BigNumber if needed\r\n\r\n\r\n      var thisUnitValue = convert(this.units[0].unit.value);\r\n      var thisNominalOffset = convert(this.units[0].unit.offset);\r\n      var thisUnitOffset = multiplyScalar(thisUnitValue, thisNominalOffset);\r\n      var otherUnitValue = convert(other.units[0].unit.value);\r\n      var otherNominalOffset = convert(other.units[0].unit.offset);\r\n      var otherUnitOffset = multiplyScalar(otherUnitValue, otherNominalOffset);\r\n      other.value = subtract(addScalar(value, thisUnitOffset), otherUnitOffset);\r\n    }\r\n\r\n    other.fixPrefix = true;\r\n    other.skipAutomaticSimplification = true;\r\n    return other;\r\n  };\r\n  /**\r\n   * Return the value of the unit when represented with given valueless unit\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number} Returns the unit value as number.\r\n   */\r\n  // TODO: deprecate Unit.toNumber? It's always better to use toNumeric\r\n\r\n\r\n  Unit.prototype.toNumber = function (valuelessUnit) {\r\n    return toNumber(this.toNumeric(valuelessUnit));\r\n  };\r\n  /**\r\n   * Return the value of the unit in the original numeric type\r\n   * @memberof Unit\r\n   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'\r\n   * @return {number | BigNumber | Fraction} Returns the unit value\r\n   */\r\n\r\n\r\n  Unit.prototype.toNumeric = function (valuelessUnit) {\r\n    var other;\r\n\r\n    if (valuelessUnit) {\r\n      // Allow getting the numeric value without converting to a different unit\r\n      other = this.to(valuelessUnit);\r\n    } else {\r\n      other = this.clone();\r\n    }\r\n\r\n    if (other._isDerived() || other.units.length === 0) {\r\n      return other._denormalize(other.value);\r\n    } else {\r\n      return other._denormalize(other.value, other.units[0].prefix.value);\r\n    }\r\n  };\r\n  /**\r\n   * Get a string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\r\n\r\n\r\n  Unit.prototype.toString = function () {\r\n    return this.format();\r\n  };\r\n  /**\r\n   * Get a JSON representation of the unit\r\n   * @memberof Unit\r\n   * @returns {Object} Returns a JSON object structured as:\r\n   *                   `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false}`\r\n   */\r\n\r\n\r\n  Unit.prototype.toJSON = function () {\r\n    return {\r\n      mathjs: 'Unit',\r\n      value: this._denormalize(this.value),\r\n      unit: this.formatUnits(),\r\n      fixPrefix: this.fixPrefix\r\n    };\r\n  };\r\n  /**\r\n   * Instantiate a Unit from a JSON object\r\n   * @memberof Unit\r\n   * @param {Object} json  A JSON object structured as:\r\n   *                       `{\"mathjs\": \"Unit\", \"value\": 2, \"unit\": \"cm\", \"fixPrefix\": false}`\r\n   * @return {Unit}\r\n   */\r\n\r\n\r\n  Unit.fromJSON = function (json) {\r\n    var unit = new Unit(json.value, json.unit);\r\n    unit.fixPrefix = json.fixPrefix || false;\r\n    return unit;\r\n  };\r\n  /**\r\n   * Returns the string representation of the unit.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\r\n\r\n\r\n  Unit.prototype.valueOf = Unit.prototype.toString;\r\n  /**\r\n   * Simplify this Unit's unit list and return a new Unit with the simplified list.\r\n   * The returned Unit will contain a list of the \"best\" units for formatting.\r\n   */\r\n\r\n  Unit.prototype.simplify = function () {\r\n    var ret = this.clone();\r\n    var proposedUnitList = []; // Search for a matching base\r\n\r\n    var matchingBase;\r\n\r\n    for (var key in currentUnitSystem) {\r\n      if (hasOwnProperty(currentUnitSystem, key)) {\r\n        if (ret.hasBase(BASE_UNITS[key])) {\r\n          matchingBase = key;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (matchingBase === 'NONE') {\r\n      ret.units = [];\r\n    } else {\r\n      var matchingUnit;\r\n\r\n      if (matchingBase) {\r\n        // Does the unit system have a matching unit?\r\n        if (hasOwnProperty(currentUnitSystem, matchingBase)) {\r\n          matchingUnit = currentUnitSystem[matchingBase];\r\n        }\r\n      }\r\n\r\n      if (matchingUnit) {\r\n        ret.units = [{\r\n          unit: matchingUnit.unit,\r\n          prefix: matchingUnit.prefix,\r\n          power: 1.0\r\n        }];\r\n      } else {\r\n        // Multiple units or units with powers are formatted like this:\r\n        // 5 (kg m^2) / (s^3 mol)\r\n        // Build an representation from the base units of the current unit system\r\n        var missingBaseDim = false;\r\n\r\n        for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n          var baseDim = BASE_DIMENSIONS[i];\r\n\r\n          if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\r\n            if (hasOwnProperty(currentUnitSystem, baseDim)) {\r\n              proposedUnitList.push({\r\n                unit: currentUnitSystem[baseDim].unit,\r\n                prefix: currentUnitSystem[baseDim].prefix,\r\n                power: ret.dimensions[i] || 0\r\n              });\r\n            } else {\r\n              missingBaseDim = true;\r\n            }\r\n          }\r\n        } // Is the proposed unit list \"simpler\" than the existing one?\r\n\r\n\r\n        if (proposedUnitList.length < ret.units.length && !missingBaseDim) {\r\n          // Replace this unit list with the proposed list\r\n          ret.units = proposedUnitList;\r\n        }\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  };\r\n  /**\r\n   * Returns a new Unit in the SI system with the same value as this one\r\n   */\r\n\r\n\r\n  Unit.prototype.toSI = function () {\r\n    var ret = this.clone();\r\n    var proposedUnitList = []; // Multiple units or units with powers are formatted like this:\r\n    // 5 (kg m^2) / (s^3 mol)\r\n    // Build an representation from the base units of the SI unit system\r\n\r\n    for (var i = 0; i < BASE_DIMENSIONS.length; i++) {\r\n      var baseDim = BASE_DIMENSIONS[i];\r\n\r\n      if (Math.abs(ret.dimensions[i] || 0) > 1e-12) {\r\n        if (hasOwnProperty(UNIT_SYSTEMS.si, baseDim)) {\r\n          proposedUnitList.push({\r\n            unit: UNIT_SYSTEMS.si[baseDim].unit,\r\n            prefix: UNIT_SYSTEMS.si[baseDim].prefix,\r\n            power: ret.dimensions[i] || 0\r\n          });\r\n        } else {\r\n          throw new Error('Cannot express custom unit ' + baseDim + ' in SI units');\r\n        }\r\n      }\r\n    } // Replace this unit list with the proposed list\r\n\r\n\r\n    ret.units = proposedUnitList;\r\n    ret.fixPrefix = true;\r\n    ret.skipAutomaticSimplification = true;\r\n    return ret;\r\n  };\r\n  /**\r\n   * Get a string representation of the units of this Unit, without the value. The unit list is formatted as-is without first being simplified.\r\n   * @memberof Unit\r\n   * @return {string}\r\n   */\r\n\r\n\r\n  Unit.prototype.formatUnits = function () {\r\n    var strNum = '';\r\n    var strDen = '';\r\n    var nNum = 0;\r\n    var nDen = 0;\r\n\r\n    for (var i = 0; i < this.units.length; i++) {\r\n      if (this.units[i].power > 0) {\r\n        nNum++;\r\n        strNum += ' ' + this.units[i].prefix.name + this.units[i].unit.name;\r\n\r\n        if (Math.abs(this.units[i].power - 1.0) > 1e-15) {\r\n          strNum += '^' + this.units[i].power;\r\n        }\r\n      } else if (this.units[i].power < 0) {\r\n        nDen++;\r\n      }\r\n    }\r\n\r\n    if (nDen > 0) {\r\n      for (var _i4 = 0; _i4 < this.units.length; _i4++) {\r\n        if (this.units[_i4].power < 0) {\r\n          if (nNum > 0) {\r\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\r\n\r\n            if (Math.abs(this.units[_i4].power + 1.0) > 1e-15) {\r\n              strDen += '^' + -this.units[_i4].power;\r\n            }\r\n          } else {\r\n            strDen += ' ' + this.units[_i4].prefix.name + this.units[_i4].unit.name;\r\n            strDen += '^' + this.units[_i4].power;\r\n          }\r\n        }\r\n      }\r\n    } // Remove leading \" \"\r\n\r\n\r\n    strNum = strNum.substr(1);\r\n    strDen = strDen.substr(1); // Add parans for better copy/paste back into evaluate, for example, or for better pretty print formatting\r\n\r\n    if (nNum > 1 && nDen > 0) {\r\n      strNum = '(' + strNum + ')';\r\n    }\r\n\r\n    if (nDen > 1 && nNum > 0) {\r\n      strDen = '(' + strDen + ')';\r\n    }\r\n\r\n    var str = strNum;\r\n\r\n    if (nNum > 0 && nDen > 0) {\r\n      str += ' / ';\r\n    }\r\n\r\n    str += strDen;\r\n    return str;\r\n  };\r\n  /**\r\n   * Get a string representation of the Unit, with optional formatting options.\r\n   * @memberof Unit\r\n   * @param {Object | number | Function} [options]  Formatting options. See\r\n   *                                                lib/utils/number:format for a\r\n   *                                                description of the available\r\n   *                                                options.\r\n   * @return {string}\r\n   */\r\n\r\n\r\n  Unit.prototype.format = function (options) {\r\n    // Simplfy the unit list, unless it is valueless or was created directly in the\r\n    // constructor or as the result of to or toSI\r\n    var simp = this.skipAutomaticSimplification || this.value === null ? this.clone() : this.simplify(); // Apply some custom logic for handling VA and VAR. The goal is to express the value of the unit as a real value, if possible. Otherwise, use a real-valued unit instead of a complex-valued one.\r\n\r\n    var isImaginary = false;\r\n\r\n    if (typeof simp.value !== 'undefined' && simp.value !== null && isComplex(simp.value)) {\r\n      // TODO: Make this better, for example, use relative magnitude of re and im rather than absolute\r\n      isImaginary = Math.abs(simp.value.re) < 1e-14;\r\n    }\r\n\r\n    for (var i in simp.units) {\r\n      if (hasOwnProperty(simp.units, i)) {\r\n        if (simp.units[i].unit) {\r\n          if (simp.units[i].unit.name === 'VA' && isImaginary) {\r\n            simp.units[i].unit = UNITS.VAR;\r\n          } else if (simp.units[i].unit.name === 'VAR' && !isImaginary) {\r\n            simp.units[i].unit = UNITS.VA;\r\n          }\r\n        }\r\n      }\r\n    } // Now apply the best prefix\r\n    // Units must have only one unit and not have the fixPrefix flag set\r\n\r\n\r\n    if (simp.units.length === 1 && !simp.fixPrefix) {\r\n      // Units must have integer powers, otherwise the prefix will change the\r\n      // outputted value by not-an-integer-power-of-ten\r\n      if (Math.abs(simp.units[0].power - Math.round(simp.units[0].power)) < 1e-14) {\r\n        // Apply the best prefix\r\n        simp.units[0].prefix = simp._bestPrefix();\r\n      }\r\n    }\r\n\r\n    var value = simp._denormalize(simp.value);\r\n\r\n    var str = simp.value !== null ? format(value, options || {}) : '';\r\n    var unitStr = simp.formatUnits();\r\n\r\n    if (simp.value && isComplex(simp.value)) {\r\n      str = '(' + str + ')'; // Surround complex values with ( ) to enable better parsing\r\n    }\r\n\r\n    if (unitStr.length > 0 && str.length > 0) {\r\n      str += ' ';\r\n    }\r\n\r\n    str += unitStr;\r\n    return str;\r\n  };\r\n  /**\r\n   * Calculate the best prefix using current value.\r\n   * @memberof Unit\r\n   * @returns {Object} prefix\r\n   * @private\r\n   */\r\n\r\n\r\n  Unit.prototype._bestPrefix = function () {\r\n    if (this.units.length !== 1) {\r\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\r\n    }\r\n\r\n    if (Math.abs(this.units[0].power - Math.round(this.units[0].power)) >= 1e-14) {\r\n      throw new Error('Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!');\r\n    } // find the best prefix value (resulting in the value of which\r\n    // the absolute value of the log10 is closest to zero,\r\n    // though with a little offset of 1.2 for nicer values: you get a\r\n    // sequence 1mm 100mm 500mm 0.6m 1m 10m 100m 500m 0.6km 1km ...\r\n    // Note: the units value can be any numeric type, but to find the best\r\n    // prefix it's enough to work with limited precision of a regular number\r\n    // Update: using mathjs abs since we also allow complex numbers\r\n\r\n\r\n    var absValue = this.value !== null ? abs(this.value) : 0;\r\n    var absUnitValue = abs(this.units[0].unit.value);\r\n    var bestPrefix = this.units[0].prefix;\r\n\r\n    if (absValue === 0) {\r\n      return bestPrefix;\r\n    }\r\n\r\n    var power = this.units[0].power;\r\n    var bestDiff = Math.log(absValue / Math.pow(bestPrefix.value * absUnitValue, power)) / Math.LN10 - 1.2;\r\n    if (bestDiff > -2.200001 && bestDiff < 1.800001) return bestPrefix; // Allow the original prefix\r\n\r\n    bestDiff = Math.abs(bestDiff);\r\n    var prefixes = this.units[0].unit.prefixes;\r\n\r\n    for (var p in prefixes) {\r\n      if (hasOwnProperty(prefixes, p)) {\r\n        var prefix = prefixes[p];\r\n\r\n        if (prefix.scientific) {\r\n          var diff = Math.abs(Math.log(absValue / Math.pow(prefix.value * absUnitValue, power)) / Math.LN10 - 1.2);\r\n\r\n          if (diff < bestDiff || diff === bestDiff && prefix.name.length < bestPrefix.name.length) {\r\n            // choose the prefix with the smallest diff, or if equal, choose the one\r\n            // with the shortest name (can happen with SHORTLONG for example)\r\n            bestPrefix = prefix;\r\n            bestDiff = diff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return bestPrefix;\r\n  };\r\n  /**\r\n   * Returns an array of units whose sum is equal to this unit\r\n   * @memberof Unit\r\n   * @param {Array} [parts] An array of strings or valueless units.\r\n   *\r\n   *   Example:\r\n   *\r\n   *   const u = new Unit(1, 'm')\r\n   *   u.splitUnit(['feet', 'inch'])\r\n   *     [ 3 feet, 3.3700787401575 inch ]\r\n   *\r\n   * @return {Array} An array of units.\r\n   */\r\n\r\n\r\n  Unit.prototype.splitUnit = function (parts) {\r\n    var x = this.clone();\r\n    var ret = [];\r\n\r\n    for (var i = 0; i < parts.length; i++) {\r\n      // Convert x to the requested unit\r\n      x = x.to(parts[i]);\r\n      if (i === parts.length - 1) break; // Get the numeric value of this unit\r\n\r\n      var xNumeric = x.toNumeric(); // Check to see if xNumeric is nearly equal to an integer,\r\n      // since fix can incorrectly round down if there is round-off error\r\n\r\n      var xRounded = round(xNumeric);\r\n      var xFixed = void 0;\r\n      var isNearlyEqual = equal(xRounded, xNumeric);\r\n\r\n      if (isNearlyEqual) {\r\n        xFixed = xRounded;\r\n      } else {\r\n        xFixed = fix(x.toNumeric());\r\n      }\r\n\r\n      var y = new Unit(xFixed, parts[i].toString());\r\n      ret.push(y);\r\n      x = subtract(x, y);\r\n    } // This little bit fixes a bug where the remainder should be 0 but is a little bit off.\r\n    // But instead of comparing x, the remainder, with zero--we will compare the sum of\r\n    // all the parts so far with the original value. If they are nearly equal,\r\n    // we set the remainder to 0.\r\n\r\n\r\n    var testSum = 0;\r\n\r\n    for (var _i5 = 0; _i5 < ret.length; _i5++) {\r\n      testSum = addScalar(testSum, ret[_i5].value);\r\n    }\r\n\r\n    if (equal(testSum, this.value)) {\r\n      x.value = 0;\r\n    }\r\n\r\n    ret.push(x);\r\n    return ret;\r\n  };\r\n\r\n  var PREFIXES = {\r\n    NONE: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      }\r\n    },\r\n    SHORT: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      da: {\r\n        name: 'da',\r\n        value: 1e1,\r\n        scientific: false\r\n      },\r\n      h: {\r\n        name: 'h',\r\n        value: 1e2,\r\n        scientific: false\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e24,\r\n        scientific: true\r\n      },\r\n      d: {\r\n        name: 'd',\r\n        value: 1e-1,\r\n        scientific: false\r\n      },\r\n      c: {\r\n        name: 'c',\r\n        value: 1e-2,\r\n        scientific: false\r\n      },\r\n      m: {\r\n        name: 'm',\r\n        value: 1e-3,\r\n        scientific: true\r\n      },\r\n      u: {\r\n        name: 'u',\r\n        value: 1e-6,\r\n        scientific: true\r\n      },\r\n      n: {\r\n        name: 'n',\r\n        value: 1e-9,\r\n        scientific: true\r\n      },\r\n      p: {\r\n        name: 'p',\r\n        value: 1e-12,\r\n        scientific: true\r\n      },\r\n      f: {\r\n        name: 'f',\r\n        value: 1e-15,\r\n        scientific: true\r\n      },\r\n      a: {\r\n        name: 'a',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      z: {\r\n        name: 'z',\r\n        value: 1e-21,\r\n        scientific: true\r\n      },\r\n      y: {\r\n        name: 'y',\r\n        value: 1e-24,\r\n        scientific: true\r\n      }\r\n    },\r\n    LONG: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      deca: {\r\n        name: 'deca',\r\n        value: 1e1,\r\n        scientific: false\r\n      },\r\n      hecto: {\r\n        name: 'hecto',\r\n        value: 1e2,\r\n        scientific: false\r\n      },\r\n      kilo: {\r\n        name: 'kilo',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      mega: {\r\n        name: 'mega',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      giga: {\r\n        name: 'giga',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      tera: {\r\n        name: 'tera',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      peta: {\r\n        name: 'peta',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      exa: {\r\n        name: 'exa',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      zetta: {\r\n        name: 'zetta',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      yotta: {\r\n        name: 'yotta',\r\n        value: 1e24,\r\n        scientific: true\r\n      },\r\n      deci: {\r\n        name: 'deci',\r\n        value: 1e-1,\r\n        scientific: false\r\n      },\r\n      centi: {\r\n        name: 'centi',\r\n        value: 1e-2,\r\n        scientific: false\r\n      },\r\n      milli: {\r\n        name: 'milli',\r\n        value: 1e-3,\r\n        scientific: true\r\n      },\r\n      micro: {\r\n        name: 'micro',\r\n        value: 1e-6,\r\n        scientific: true\r\n      },\r\n      nano: {\r\n        name: 'nano',\r\n        value: 1e-9,\r\n        scientific: true\r\n      },\r\n      pico: {\r\n        name: 'pico',\r\n        value: 1e-12,\r\n        scientific: true\r\n      },\r\n      femto: {\r\n        name: 'femto',\r\n        value: 1e-15,\r\n        scientific: true\r\n      },\r\n      atto: {\r\n        name: 'atto',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      zepto: {\r\n        name: 'zepto',\r\n        value: 1e-21,\r\n        scientific: true\r\n      },\r\n      yocto: {\r\n        name: 'yocto',\r\n        value: 1e-24,\r\n        scientific: true\r\n      }\r\n    },\r\n    SQUARED: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      da: {\r\n        name: 'da',\r\n        value: 1e2,\r\n        scientific: false\r\n      },\r\n      h: {\r\n        name: 'h',\r\n        value: 1e4,\r\n        scientific: false\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e24,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e30,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e36,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e42,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e48,\r\n        scientific: true\r\n      },\r\n      d: {\r\n        name: 'd',\r\n        value: 1e-2,\r\n        scientific: false\r\n      },\r\n      c: {\r\n        name: 'c',\r\n        value: 1e-4,\r\n        scientific: false\r\n      },\r\n      m: {\r\n        name: 'm',\r\n        value: 1e-6,\r\n        scientific: true\r\n      },\r\n      u: {\r\n        name: 'u',\r\n        value: 1e-12,\r\n        scientific: true\r\n      },\r\n      n: {\r\n        name: 'n',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      p: {\r\n        name: 'p',\r\n        value: 1e-24,\r\n        scientific: true\r\n      },\r\n      f: {\r\n        name: 'f',\r\n        value: 1e-30,\r\n        scientific: true\r\n      },\r\n      a: {\r\n        name: 'a',\r\n        value: 1e-36,\r\n        scientific: true\r\n      },\r\n      z: {\r\n        name: 'z',\r\n        value: 1e-42,\r\n        scientific: true\r\n      },\r\n      y: {\r\n        name: 'y',\r\n        value: 1e-48,\r\n        scientific: true\r\n      }\r\n    },\r\n    CUBIC: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      da: {\r\n        name: 'da',\r\n        value: 1e3,\r\n        scientific: false\r\n      },\r\n      h: {\r\n        name: 'h',\r\n        value: 1e6,\r\n        scientific: false\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e27,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e36,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e45,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e54,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e63,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e72,\r\n        scientific: true\r\n      },\r\n      d: {\r\n        name: 'd',\r\n        value: 1e-3,\r\n        scientific: false\r\n      },\r\n      c: {\r\n        name: 'c',\r\n        value: 1e-6,\r\n        scientific: false\r\n      },\r\n      m: {\r\n        name: 'm',\r\n        value: 1e-9,\r\n        scientific: true\r\n      },\r\n      u: {\r\n        name: 'u',\r\n        value: 1e-18,\r\n        scientific: true\r\n      },\r\n      n: {\r\n        name: 'n',\r\n        value: 1e-27,\r\n        scientific: true\r\n      },\r\n      p: {\r\n        name: 'p',\r\n        value: 1e-36,\r\n        scientific: true\r\n      },\r\n      f: {\r\n        name: 'f',\r\n        value: 1e-45,\r\n        scientific: true\r\n      },\r\n      a: {\r\n        name: 'a',\r\n        value: 1e-54,\r\n        scientific: true\r\n      },\r\n      z: {\r\n        name: 'z',\r\n        value: 1e-63,\r\n        scientific: true\r\n      },\r\n      y: {\r\n        name: 'y',\r\n        value: 1e-72,\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_SHORT_SI: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      k: {\r\n        name: 'k',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      M: {\r\n        name: 'M',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      G: {\r\n        name: 'G',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      T: {\r\n        name: 'T',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      P: {\r\n        name: 'P',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      E: {\r\n        name: 'E',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      Z: {\r\n        name: 'Z',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      Y: {\r\n        name: 'Y',\r\n        value: 1e24,\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_SHORT_IEC: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      Ki: {\r\n        name: 'Ki',\r\n        value: 1024,\r\n        scientific: true\r\n      },\r\n      Mi: {\r\n        name: 'Mi',\r\n        value: Math.pow(1024, 2),\r\n        scientific: true\r\n      },\r\n      Gi: {\r\n        name: 'Gi',\r\n        value: Math.pow(1024, 3),\r\n        scientific: true\r\n      },\r\n      Ti: {\r\n        name: 'Ti',\r\n        value: Math.pow(1024, 4),\r\n        scientific: true\r\n      },\r\n      Pi: {\r\n        name: 'Pi',\r\n        value: Math.pow(1024, 5),\r\n        scientific: true\r\n      },\r\n      Ei: {\r\n        name: 'Ei',\r\n        value: Math.pow(1024, 6),\r\n        scientific: true\r\n      },\r\n      Zi: {\r\n        name: 'Zi',\r\n        value: Math.pow(1024, 7),\r\n        scientific: true\r\n      },\r\n      Yi: {\r\n        name: 'Yi',\r\n        value: Math.pow(1024, 8),\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_LONG_SI: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      kilo: {\r\n        name: 'kilo',\r\n        value: 1e3,\r\n        scientific: true\r\n      },\r\n      mega: {\r\n        name: 'mega',\r\n        value: 1e6,\r\n        scientific: true\r\n      },\r\n      giga: {\r\n        name: 'giga',\r\n        value: 1e9,\r\n        scientific: true\r\n      },\r\n      tera: {\r\n        name: 'tera',\r\n        value: 1e12,\r\n        scientific: true\r\n      },\r\n      peta: {\r\n        name: 'peta',\r\n        value: 1e15,\r\n        scientific: true\r\n      },\r\n      exa: {\r\n        name: 'exa',\r\n        value: 1e18,\r\n        scientific: true\r\n      },\r\n      zetta: {\r\n        name: 'zetta',\r\n        value: 1e21,\r\n        scientific: true\r\n      },\r\n      yotta: {\r\n        name: 'yotta',\r\n        value: 1e24,\r\n        scientific: true\r\n      }\r\n    },\r\n    BINARY_LONG_IEC: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      kibi: {\r\n        name: 'kibi',\r\n        value: 1024,\r\n        scientific: true\r\n      },\r\n      mebi: {\r\n        name: 'mebi',\r\n        value: Math.pow(1024, 2),\r\n        scientific: true\r\n      },\r\n      gibi: {\r\n        name: 'gibi',\r\n        value: Math.pow(1024, 3),\r\n        scientific: true\r\n      },\r\n      tebi: {\r\n        name: 'tebi',\r\n        value: Math.pow(1024, 4),\r\n        scientific: true\r\n      },\r\n      pebi: {\r\n        name: 'pebi',\r\n        value: Math.pow(1024, 5),\r\n        scientific: true\r\n      },\r\n      exi: {\r\n        name: 'exi',\r\n        value: Math.pow(1024, 6),\r\n        scientific: true\r\n      },\r\n      zebi: {\r\n        name: 'zebi',\r\n        value: Math.pow(1024, 7),\r\n        scientific: true\r\n      },\r\n      yobi: {\r\n        name: 'yobi',\r\n        value: Math.pow(1024, 8),\r\n        scientific: true\r\n      }\r\n    },\r\n    BTU: {\r\n      '': {\r\n        name: '',\r\n        value: 1,\r\n        scientific: true\r\n      },\r\n      MM: {\r\n        name: 'MM',\r\n        value: 1e6,\r\n        scientific: true\r\n      }\r\n    }\r\n  };\r\n  PREFIXES.SHORTLONG = _extends({}, PREFIXES.SHORT, PREFIXES.LONG);\r\n  PREFIXES.BINARY_SHORT = _extends({}, PREFIXES.BINARY_SHORT_SI, PREFIXES.BINARY_SHORT_IEC);\r\n  PREFIXES.BINARY_LONG = _extends({}, PREFIXES.BINARY_LONG_SI, PREFIXES.BINARY_LONG_IEC);\r\n  /* Internally, each unit is represented by a value and a dimension array. The elements of the dimensions array have the following meaning:\r\n   * Index  Dimension\r\n   * -----  ---------\r\n   *   0    Length\r\n   *   1    Mass\r\n   *   2    Time\r\n   *   3    Current\r\n   *   4    Temperature\r\n   *   5    Luminous intensity\r\n   *   6    Amount of substance\r\n   *   7    Angle\r\n   *   8    Bit (digital)\r\n   * For example, the unit \"298.15 K\" is a pure temperature and would have a value of 298.15 and a dimension array of [0, 0, 0, 0, 1, 0, 0, 0, 0]. The unit \"1 cal / (gm °C)\" can be written in terms of the 9 fundamental dimensions as [length^2] / ([time^2] * [temperature]), and would a value of (after conversion to SI) 4184.0 and a dimensions array of [2, 0, -2, 0, -1, 0, 0, 0, 0].\r\n   *\r\n   */\r\n\r\n  var BASE_DIMENSIONS = ['MASS', 'LENGTH', 'TIME', 'CURRENT', 'TEMPERATURE', 'LUMINOUS_INTENSITY', 'AMOUNT_OF_SUBSTANCE', 'ANGLE', 'BIT'];\r\n  var BASE_UNITS = {\r\n    NONE: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    MASS: {\r\n      dimensions: [1, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    LENGTH: {\r\n      dimensions: [0, 1, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    TIME: {\r\n      dimensions: [0, 0, 1, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    CURRENT: {\r\n      dimensions: [0, 0, 0, 1, 0, 0, 0, 0, 0]\r\n    },\r\n    TEMPERATURE: {\r\n      dimensions: [0, 0, 0, 0, 1, 0, 0, 0, 0]\r\n    },\r\n    LUMINOUS_INTENSITY: {\r\n      dimensions: [0, 0, 0, 0, 0, 1, 0, 0, 0]\r\n    },\r\n    AMOUNT_OF_SUBSTANCE: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 1, 0, 0]\r\n    },\r\n    FORCE: {\r\n      dimensions: [1, 1, -2, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    SURFACE: {\r\n      dimensions: [0, 2, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    VOLUME: {\r\n      dimensions: [0, 3, 0, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    ENERGY: {\r\n      dimensions: [1, 2, -2, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    POWER: {\r\n      dimensions: [1, 2, -3, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    PRESSURE: {\r\n      dimensions: [1, -1, -2, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_CHARGE: {\r\n      dimensions: [0, 0, 1, 1, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_CAPACITANCE: {\r\n      dimensions: [-1, -2, 4, 2, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_POTENTIAL: {\r\n      dimensions: [1, 2, -3, -1, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_RESISTANCE: {\r\n      dimensions: [1, 2, -3, -2, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_INDUCTANCE: {\r\n      dimensions: [1, 2, -2, -2, 0, 0, 0, 0, 0]\r\n    },\r\n    ELECTRIC_CONDUCTANCE: {\r\n      dimensions: [-1, -2, 3, 2, 0, 0, 0, 0, 0]\r\n    },\r\n    MAGNETIC_FLUX: {\r\n      dimensions: [1, 2, -2, -1, 0, 0, 0, 0, 0]\r\n    },\r\n    MAGNETIC_FLUX_DENSITY: {\r\n      dimensions: [1, 0, -2, -1, 0, 0, 0, 0, 0]\r\n    },\r\n    FREQUENCY: {\r\n      dimensions: [0, 0, -1, 0, 0, 0, 0, 0, 0]\r\n    },\r\n    ANGLE: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 1, 0]\r\n    },\r\n    BIT: {\r\n      dimensions: [0, 0, 0, 0, 0, 0, 0, 0, 1]\r\n    }\r\n  };\r\n\r\n  for (var key in BASE_UNITS) {\r\n    if (hasOwnProperty(BASE_UNITS, key)) {\r\n      BASE_UNITS[key].key = key;\r\n    }\r\n  }\r\n\r\n  var BASE_UNIT_NONE = {};\r\n  var UNIT_NONE = {\r\n    name: '',\r\n    base: BASE_UNIT_NONE,\r\n    value: 1,\r\n    offset: 0,\r\n    dimensions: BASE_DIMENSIONS.map(x => 0)\r\n  };\r\n  var UNITS = {\r\n    // length\r\n    meter: {\r\n      name: 'meter',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    inch: {\r\n      name: 'inch',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0254,\r\n      offset: 0\r\n    },\r\n    foot: {\r\n      name: 'foot',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.3048,\r\n      offset: 0\r\n    },\r\n    yard: {\r\n      name: 'yard',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.9144,\r\n      offset: 0\r\n    },\r\n    mile: {\r\n      name: 'mile',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1609.344,\r\n      offset: 0\r\n    },\r\n    link: {\r\n      name: 'link',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.201168,\r\n      offset: 0\r\n    },\r\n    rod: {\r\n      name: 'rod',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5.0292,\r\n      offset: 0\r\n    },\r\n    chain: {\r\n      name: 'chain',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 20.1168,\r\n      offset: 0\r\n    },\r\n    angstrom: {\r\n      name: 'angstrom',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1e-10,\r\n      offset: 0\r\n    },\r\n    m: {\r\n      name: 'm',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    in: {\r\n      name: 'in',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0254,\r\n      offset: 0\r\n    },\r\n    ft: {\r\n      name: 'ft',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.3048,\r\n      offset: 0\r\n    },\r\n    yd: {\r\n      name: 'yd',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.9144,\r\n      offset: 0\r\n    },\r\n    mi: {\r\n      name: 'mi',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1609.344,\r\n      offset: 0\r\n    },\r\n    li: {\r\n      name: 'li',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.201168,\r\n      offset: 0\r\n    },\r\n    rd: {\r\n      name: 'rd',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5.029210,\r\n      offset: 0\r\n    },\r\n    ch: {\r\n      name: 'ch',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 20.1168,\r\n      offset: 0\r\n    },\r\n    mil: {\r\n      name: 'mil',\r\n      base: BASE_UNITS.LENGTH,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0000254,\r\n      offset: 0\r\n    },\r\n    // 1/1000 inch\r\n    // Surface\r\n    m2: {\r\n      name: 'm2',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.SQUARED,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    sqin: {\r\n      name: 'sqin',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.00064516,\r\n      offset: 0\r\n    },\r\n    // 645.16 mm2\r\n    sqft: {\r\n      name: 'sqft',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.09290304,\r\n      offset: 0\r\n    },\r\n    // 0.09290304 m2\r\n    sqyd: {\r\n      name: 'sqyd',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.83612736,\r\n      offset: 0\r\n    },\r\n    // 0.83612736 m2\r\n    sqmi: {\r\n      name: 'sqmi',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 2589988.110336,\r\n      offset: 0\r\n    },\r\n    // 2.589988110336 km2\r\n    sqrd: {\r\n      name: 'sqrd',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 25.29295,\r\n      offset: 0\r\n    },\r\n    // 25.29295 m2\r\n    sqch: {\r\n      name: 'sqch',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 404.6873,\r\n      offset: 0\r\n    },\r\n    // 404.6873 m2\r\n    sqmil: {\r\n      name: 'sqmil',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 6.4516e-10,\r\n      offset: 0\r\n    },\r\n    // 6.4516 * 10^-10 m2\r\n    acre: {\r\n      name: 'acre',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 4046.86,\r\n      offset: 0\r\n    },\r\n    // 4046.86 m2\r\n    hectare: {\r\n      name: 'hectare',\r\n      base: BASE_UNITS.SURFACE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 10000,\r\n      offset: 0\r\n    },\r\n    // 10000 m2\r\n    // Volume\r\n    m3: {\r\n      name: 'm3',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.CUBIC,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    L: {\r\n      name: 'L',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    // litre\r\n    l: {\r\n      name: 'l',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    // litre\r\n    litre: {\r\n      name: 'litre',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    cuin: {\r\n      name: 'cuin',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1.6387064e-5,\r\n      offset: 0\r\n    },\r\n    // 1.6387064e-5 m3\r\n    cuft: {\r\n      name: 'cuft',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.028316846592,\r\n      offset: 0\r\n    },\r\n    // 28.316 846 592 L\r\n    cuyd: {\r\n      name: 'cuyd',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.764554857984,\r\n      offset: 0\r\n    },\r\n    // 764.554 857 984 L\r\n    teaspoon: {\r\n      name: 'teaspoon',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.000005,\r\n      offset: 0\r\n    },\r\n    // 5 mL\r\n    tablespoon: {\r\n      name: 'tablespoon',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.000015,\r\n      offset: 0\r\n    },\r\n    // 15 mL\r\n    // {name: 'cup', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.000240, offset: 0}, // 240 mL  // not possible, we have already another cup\r\n    drop: {\r\n      name: 'drop',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5e-8,\r\n      offset: 0\r\n    },\r\n    // 0.05 mL = 5e-8 m3\r\n    gtt: {\r\n      name: 'gtt',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 5e-8,\r\n      offset: 0\r\n    },\r\n    // 0.05 mL = 5e-8 m3\r\n    // Liquid volume\r\n    minim: {\r\n      name: 'minim',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.00000006161152,\r\n      offset: 0\r\n    },\r\n    // 0.06161152 mL\r\n    fluiddram: {\r\n      name: 'fluiddram',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0000036966911,\r\n      offset: 0\r\n    },\r\n    // 3.696691 mL\r\n    fluidounce: {\r\n      name: 'fluidounce',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.00002957353,\r\n      offset: 0\r\n    },\r\n    // 29.57353 mL\r\n    gill: {\r\n      name: 'gill',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0001182941,\r\n      offset: 0\r\n    },\r\n    // 118.2941 mL\r\n    cc: {\r\n      name: 'cc',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1e-6,\r\n      offset: 0\r\n    },\r\n    // 1e-6 L\r\n    cup: {\r\n      name: 'cup',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0002365882,\r\n      offset: 0\r\n    },\r\n    // 236.5882 mL\r\n    pint: {\r\n      name: 'pint',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0004731765,\r\n      offset: 0\r\n    },\r\n    // 473.1765 mL\r\n    quart: {\r\n      name: 'quart',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0009463529,\r\n      offset: 0\r\n    },\r\n    // 946.3529 mL\r\n    gallon: {\r\n      name: 'gallon',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.003785412,\r\n      offset: 0\r\n    },\r\n    // 3.785412 L\r\n    beerbarrel: {\r\n      name: 'beerbarrel',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.1173478,\r\n      offset: 0\r\n    },\r\n    // 117.3478 L\r\n    oilbarrel: {\r\n      name: 'oilbarrel',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.1589873,\r\n      offset: 0\r\n    },\r\n    // 158.9873 L\r\n    hogshead: {\r\n      name: 'hogshead',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.2384810,\r\n      offset: 0\r\n    },\r\n    // 238.4810 L\r\n    // {name: 'min', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.00000006161152, offset: 0}, // 0.06161152 mL // min is already in use as minute\r\n    fldr: {\r\n      name: 'fldr',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0000036966911,\r\n      offset: 0\r\n    },\r\n    // 3.696691 mL\r\n    floz: {\r\n      name: 'floz',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.00002957353,\r\n      offset: 0\r\n    },\r\n    // 29.57353 mL\r\n    gi: {\r\n      name: 'gi',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0001182941,\r\n      offset: 0\r\n    },\r\n    // 118.2941 mL\r\n    cp: {\r\n      name: 'cp',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0002365882,\r\n      offset: 0\r\n    },\r\n    // 236.5882 mL\r\n    pt: {\r\n      name: 'pt',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0004731765,\r\n      offset: 0\r\n    },\r\n    // 473.1765 mL\r\n    qt: {\r\n      name: 'qt',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.0009463529,\r\n      offset: 0\r\n    },\r\n    // 946.3529 mL\r\n    gal: {\r\n      name: 'gal',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.003785412,\r\n      offset: 0\r\n    },\r\n    // 3.785412 L\r\n    bbl: {\r\n      name: 'bbl',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.1173478,\r\n      offset: 0\r\n    },\r\n    // 117.3478 L\r\n    obl: {\r\n      name: 'obl',\r\n      base: BASE_UNITS.VOLUME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 0.1589873,\r\n      offset: 0\r\n    },\r\n    // 158.9873 L\r\n    // {name: 'hogshead', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.2384810, offset: 0}, // 238.4810 L // TODO: hh?\r\n    // Mass\r\n    g: {\r\n      name: 'g',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    gram: {\r\n      name: 'gram',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 0.001,\r\n      offset: 0\r\n    },\r\n    ton: {\r\n      name: 'ton',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 907.18474,\r\n      offset: 0\r\n    },\r\n    t: {\r\n      name: 't',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1000,\r\n      offset: 0\r\n    },\r\n    tonne: {\r\n      name: 'tonne',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1000,\r\n      offset: 0\r\n    },\r\n    grain: {\r\n      name: 'grain',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 64.79891e-6,\r\n      offset: 0\r\n    },\r\n    dram: {\r\n      name: 'dram',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1.7718451953125e-3,\r\n      offset: 0\r\n    },\r\n    ounce: {\r\n      name: 'ounce',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 28.349523125e-3,\r\n      offset: 0\r\n    },\r\n    poundmass: {\r\n      name: 'poundmass',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 453.59237e-3,\r\n      offset: 0\r\n    },\r\n    hundredweight: {\r\n      name: 'hundredweight',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 45.359237,\r\n      offset: 0\r\n    },\r\n    stick: {\r\n      name: 'stick',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 115e-3,\r\n      offset: 0\r\n    },\r\n    stone: {\r\n      name: 'stone',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 6.35029318,\r\n      offset: 0\r\n    },\r\n    gr: {\r\n      name: 'gr',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 64.79891e-6,\r\n      offset: 0\r\n    },\r\n    dr: {\r\n      name: 'dr',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1.7718451953125e-3,\r\n      offset: 0\r\n    },\r\n    oz: {\r\n      name: 'oz',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 28.349523125e-3,\r\n      offset: 0\r\n    },\r\n    lbm: {\r\n      name: 'lbm',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 453.59237e-3,\r\n      offset: 0\r\n    },\r\n    cwt: {\r\n      name: 'cwt',\r\n      base: BASE_UNITS.MASS,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 45.359237,\r\n      offset: 0\r\n    },\r\n    // Time\r\n    s: {\r\n      name: 's',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    min: {\r\n      name: 'min',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 60,\r\n      offset: 0\r\n    },\r\n    h: {\r\n      name: 'h',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 3600,\r\n      offset: 0\r\n    },\r\n    second: {\r\n      name: 'second',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    sec: {\r\n      name: 'sec',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    minute: {\r\n      name: 'minute',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 60,\r\n      offset: 0\r\n    },\r\n    hour: {\r\n      name: 'hour',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 3600,\r\n      offset: 0\r\n    },\r\n    day: {\r\n      name: 'day',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 86400,\r\n      offset: 0\r\n    },\r\n    week: {\r\n      name: 'week',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 7 * 86400,\r\n      offset: 0\r\n    },\r\n    month: {\r\n      name: 'month',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 2629800,\r\n      // 1/12th of Julian year\r\n      offset: 0\r\n    },\r\n    year: {\r\n      name: 'year',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 31557600,\r\n      // Julian year\r\n      offset: 0\r\n    },\r\n    decade: {\r\n      name: 'decade',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 315576000,\r\n      // Julian decade\r\n      offset: 0\r\n    },\r\n    century: {\r\n      name: 'century',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 3155760000,\r\n      // Julian century\r\n      offset: 0\r\n    },\r\n    millennium: {\r\n      name: 'millennium',\r\n      base: BASE_UNITS.TIME,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 31557600000,\r\n      // Julian millennium\r\n      offset: 0\r\n    },\r\n    // Frequency\r\n    hertz: {\r\n      name: 'Hertz',\r\n      base: BASE_UNITS.FREQUENCY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0,\r\n      reciprocal: true\r\n    },\r\n    Hz: {\r\n      name: 'Hz',\r\n      base: BASE_UNITS.FREQUENCY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0,\r\n      reciprocal: true\r\n    },\r\n    // Angle\r\n    rad: {\r\n      name: 'rad',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    radian: {\r\n      name: 'radian',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // deg = rad / (2*pi) * 360 = rad / 0.017453292519943295769236907684888\r\n    deg: {\r\n      name: 'deg',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    degree: {\r\n      name: 'degree',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // grad = rad / (2*pi) * 400  = rad / 0.015707963267948966192313216916399\r\n    grad: {\r\n      name: 'grad',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    gradian: {\r\n      name: 'gradian',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // cycle = rad / (2*pi) = rad / 6.2831853071795864769252867665793\r\n    cycle: {\r\n      name: 'cycle',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // arcsec = rad / (3600 * (360 / 2 * pi)) = rad / 0.0000048481368110953599358991410235795\r\n    arcsec: {\r\n      name: 'arcsec',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // arcmin = rad / (60 * (360 / 2 * pi)) = rad / 0.00029088820866572159615394846141477\r\n    arcmin: {\r\n      name: 'arcmin',\r\n      base: BASE_UNITS.ANGLE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: null,\r\n      // will be filled in by calculateAngleValues()\r\n      offset: 0\r\n    },\r\n    // Electric current\r\n    A: {\r\n      name: 'A',\r\n      base: BASE_UNITS.CURRENT,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    ampere: {\r\n      name: 'ampere',\r\n      base: BASE_UNITS.CURRENT,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Temperature\r\n    // K(C) = °C + 273.15\r\n    // K(F) = (°F + 459.67) / 1.8\r\n    // K(R) = °R / 1.8\r\n    K: {\r\n      name: 'K',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    degC: {\r\n      name: 'degC',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1,\r\n      offset: 273.15\r\n    },\r\n    degF: {\r\n      name: 'degF',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1 / 1.8,\r\n      offset: 459.67\r\n    },\r\n    degR: {\r\n      name: 'degR',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1 / 1.8,\r\n      offset: 0\r\n    },\r\n    kelvin: {\r\n      name: 'kelvin',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    celsius: {\r\n      name: 'celsius',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1,\r\n      offset: 273.15\r\n    },\r\n    fahrenheit: {\r\n      name: 'fahrenheit',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1 / 1.8,\r\n      offset: 459.67\r\n    },\r\n    rankine: {\r\n      name: 'rankine',\r\n      base: BASE_UNITS.TEMPERATURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1 / 1.8,\r\n      offset: 0\r\n    },\r\n    // amount of substance\r\n    mol: {\r\n      name: 'mol',\r\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    mole: {\r\n      name: 'mole',\r\n      base: BASE_UNITS.AMOUNT_OF_SUBSTANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // luminous intensity\r\n    cd: {\r\n      name: 'cd',\r\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    candela: {\r\n      name: 'candela',\r\n      base: BASE_UNITS.LUMINOUS_INTENSITY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // TODO: units STERADIAN\r\n    // {name: 'sr', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\r\n    // {name: 'steradian', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},\r\n    // Force\r\n    N: {\r\n      name: 'N',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    newton: {\r\n      name: 'newton',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    dyn: {\r\n      name: 'dyn',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 0.00001,\r\n      offset: 0\r\n    },\r\n    dyne: {\r\n      name: 'dyne',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 0.00001,\r\n      offset: 0\r\n    },\r\n    lbf: {\r\n      name: 'lbf',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 4.4482216152605,\r\n      offset: 0\r\n    },\r\n    poundforce: {\r\n      name: 'poundforce',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 4.4482216152605,\r\n      offset: 0\r\n    },\r\n    kip: {\r\n      name: 'kip',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 4448.2216,\r\n      offset: 0\r\n    },\r\n    kilogramforce: {\r\n      name: 'kilogramforce',\r\n      base: BASE_UNITS.FORCE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 9.80665,\r\n      offset: 0\r\n    },\r\n    // Energy\r\n    J: {\r\n      name: 'J',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    joule: {\r\n      name: 'joule',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    erg: {\r\n      name: 'erg',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 1e-7,\r\n      offset: 0\r\n    },\r\n    Wh: {\r\n      name: 'Wh',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 3600,\r\n      offset: 0\r\n    },\r\n    BTU: {\r\n      name: 'BTU',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.BTU,\r\n      value: 1055.05585262,\r\n      offset: 0\r\n    },\r\n    eV: {\r\n      name: 'eV',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1.602176565e-19,\r\n      offset: 0\r\n    },\r\n    electronvolt: {\r\n      name: 'electronvolt',\r\n      base: BASE_UNITS.ENERGY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1.602176565e-19,\r\n      offset: 0\r\n    },\r\n    // Power\r\n    W: {\r\n      name: 'W',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    watt: {\r\n      name: 'watt',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    hp: {\r\n      name: 'hp',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 745.6998715386,\r\n      offset: 0\r\n    },\r\n    // Electrical power units\r\n    VAR: {\r\n      name: 'VAR',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: Complex.I,\r\n      offset: 0\r\n    },\r\n    VA: {\r\n      name: 'VA',\r\n      base: BASE_UNITS.POWER,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Pressure\r\n    Pa: {\r\n      name: 'Pa',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    psi: {\r\n      name: 'psi',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 6894.75729276459,\r\n      offset: 0\r\n    },\r\n    atm: {\r\n      name: 'atm',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 101325,\r\n      offset: 0\r\n    },\r\n    bar: {\r\n      name: 'bar',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.SHORTLONG,\r\n      value: 100000,\r\n      offset: 0\r\n    },\r\n    torr: {\r\n      name: 'torr',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 133.322,\r\n      offset: 0\r\n    },\r\n    mmHg: {\r\n      name: 'mmHg',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 133.322,\r\n      offset: 0\r\n    },\r\n    mmH2O: {\r\n      name: 'mmH2O',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 9.80665,\r\n      offset: 0\r\n    },\r\n    cmH2O: {\r\n      name: 'cmH2O',\r\n      base: BASE_UNITS.PRESSURE,\r\n      prefixes: PREFIXES.NONE,\r\n      value: 98.0665,\r\n      offset: 0\r\n    },\r\n    // Electric charge\r\n    coulomb: {\r\n      name: 'coulomb',\r\n      base: BASE_UNITS.ELECTRIC_CHARGE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    C: {\r\n      name: 'C',\r\n      base: BASE_UNITS.ELECTRIC_CHARGE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric capacitance\r\n    farad: {\r\n      name: 'farad',\r\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    F: {\r\n      name: 'F',\r\n      base: BASE_UNITS.ELECTRIC_CAPACITANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric potential\r\n    volt: {\r\n      name: 'volt',\r\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    V: {\r\n      name: 'V',\r\n      base: BASE_UNITS.ELECTRIC_POTENTIAL,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric resistance\r\n    ohm: {\r\n      name: 'ohm',\r\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\r\n      prefixes: PREFIXES.SHORTLONG,\r\n      // Both Mohm and megaohm are acceptable\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n\r\n    /*\r\n     * Unicode breaks in browsers if charset is not specified\r\n    Ω: {\r\n      name: 'Ω',\r\n      base: BASE_UNITS.ELECTRIC_RESISTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    */\r\n    // Electric inductance\r\n    henry: {\r\n      name: 'henry',\r\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    H: {\r\n      name: 'H',\r\n      base: BASE_UNITS.ELECTRIC_INDUCTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Electric conductance\r\n    siemens: {\r\n      name: 'siemens',\r\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    S: {\r\n      name: 'S',\r\n      base: BASE_UNITS.ELECTRIC_CONDUCTANCE,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Magnetic flux\r\n    weber: {\r\n      name: 'weber',\r\n      base: BASE_UNITS.MAGNETIC_FLUX,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    Wb: {\r\n      name: 'Wb',\r\n      base: BASE_UNITS.MAGNETIC_FLUX,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Magnetic flux density\r\n    tesla: {\r\n      name: 'tesla',\r\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\r\n      prefixes: PREFIXES.LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    T: {\r\n      name: 'T',\r\n      base: BASE_UNITS.MAGNETIC_FLUX_DENSITY,\r\n      prefixes: PREFIXES.SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    // Binary\r\n    b: {\r\n      name: 'b',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_SHORT,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    bits: {\r\n      name: 'bits',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_LONG,\r\n      value: 1,\r\n      offset: 0\r\n    },\r\n    B: {\r\n      name: 'B',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_SHORT,\r\n      value: 8,\r\n      offset: 0\r\n    },\r\n    bytes: {\r\n      name: 'bytes',\r\n      base: BASE_UNITS.BIT,\r\n      prefixes: PREFIXES.BINARY_LONG,\r\n      value: 8,\r\n      offset: 0\r\n    }\r\n  }; // aliases (formerly plurals)\r\n\r\n  var ALIASES = {\r\n    meters: 'meter',\r\n    inches: 'inch',\r\n    feet: 'foot',\r\n    yards: 'yard',\r\n    miles: 'mile',\r\n    links: 'link',\r\n    rods: 'rod',\r\n    chains: 'chain',\r\n    angstroms: 'angstrom',\r\n    lt: 'l',\r\n    litres: 'litre',\r\n    liter: 'litre',\r\n    liters: 'litre',\r\n    teaspoons: 'teaspoon',\r\n    tablespoons: 'tablespoon',\r\n    minims: 'minim',\r\n    fluiddrams: 'fluiddram',\r\n    fluidounces: 'fluidounce',\r\n    gills: 'gill',\r\n    cups: 'cup',\r\n    pints: 'pint',\r\n    quarts: 'quart',\r\n    gallons: 'gallon',\r\n    beerbarrels: 'beerbarrel',\r\n    oilbarrels: 'oilbarrel',\r\n    hogsheads: 'hogshead',\r\n    gtts: 'gtt',\r\n    grams: 'gram',\r\n    tons: 'ton',\r\n    tonnes: 'tonne',\r\n    grains: 'grain',\r\n    drams: 'dram',\r\n    ounces: 'ounce',\r\n    poundmasses: 'poundmass',\r\n    hundredweights: 'hundredweight',\r\n    sticks: 'stick',\r\n    lb: 'lbm',\r\n    lbs: 'lbm',\r\n    kips: 'kip',\r\n    kgf: 'kilogramforce',\r\n    acres: 'acre',\r\n    hectares: 'hectare',\r\n    sqfeet: 'sqft',\r\n    sqyard: 'sqyd',\r\n    sqmile: 'sqmi',\r\n    sqmiles: 'sqmi',\r\n    mmhg: 'mmHg',\r\n    mmh2o: 'mmH2O',\r\n    cmh2o: 'cmH2O',\r\n    seconds: 'second',\r\n    secs: 'second',\r\n    minutes: 'minute',\r\n    mins: 'minute',\r\n    hours: 'hour',\r\n    hr: 'hour',\r\n    hrs: 'hour',\r\n    days: 'day',\r\n    weeks: 'week',\r\n    months: 'month',\r\n    years: 'year',\r\n    decades: 'decade',\r\n    centuries: 'century',\r\n    millennia: 'millennium',\r\n    hertz: 'hertz',\r\n    radians: 'radian',\r\n    degrees: 'degree',\r\n    gradians: 'gradian',\r\n    cycles: 'cycle',\r\n    arcsecond: 'arcsec',\r\n    arcseconds: 'arcsec',\r\n    arcminute: 'arcmin',\r\n    arcminutes: 'arcmin',\r\n    BTUs: 'BTU',\r\n    watts: 'watt',\r\n    joules: 'joule',\r\n    amperes: 'ampere',\r\n    coulombs: 'coulomb',\r\n    volts: 'volt',\r\n    ohms: 'ohm',\r\n    farads: 'farad',\r\n    webers: 'weber',\r\n    teslas: 'tesla',\r\n    electronvolts: 'electronvolt',\r\n    moles: 'mole',\r\n    bit: 'bits',\r\n    byte: 'bytes'\r\n  };\r\n  /**\r\n   * Calculate the values for the angle units.\r\n   * Value is calculated as number or BigNumber depending on the configuration\r\n   * @param {{number: 'number' | 'BigNumber'}} config\r\n   */\r\n\r\n  function calculateAngleValues(config) {\r\n    if (config.number === 'BigNumber') {\r\n      var pi = createPi(_BigNumber);\r\n      UNITS.rad.value = new _BigNumber(1);\r\n      UNITS.deg.value = pi.div(180); // 2 * pi / 360\r\n\r\n      UNITS.grad.value = pi.div(200); // 2 * pi / 400\r\n\r\n      UNITS.cycle.value = pi.times(2); // 2 * pi\r\n\r\n      UNITS.arcsec.value = pi.div(648000); // 2 * pi / 360 / 3600\r\n\r\n      UNITS.arcmin.value = pi.div(10800); // 2 * pi / 360 / 60\r\n    } else {\r\n      // number\r\n      UNITS.rad.value = 1;\r\n      UNITS.deg.value = Math.PI / 180; // 2 * pi / 360\r\n\r\n      UNITS.grad.value = Math.PI / 200; // 2 * pi / 400\r\n\r\n      UNITS.cycle.value = Math.PI * 2; // 2 * pi\r\n\r\n      UNITS.arcsec.value = Math.PI / 648000; // 2 * pi / 360 / 3600\r\n\r\n      UNITS.arcmin.value = Math.PI / 10800; // 2 * pi / 360 / 60\r\n    } // copy to the full names of the angles\r\n\r\n\r\n    UNITS.radian.value = UNITS.rad.value;\r\n    UNITS.degree.value = UNITS.deg.value;\r\n    UNITS.gradian.value = UNITS.grad.value;\r\n  } // apply the angle values now\r\n\r\n\r\n  calculateAngleValues(config);\r\n\r\n  if (on) {\r\n    // recalculate the values on change of configuration\r\n    on('config', function (curr, prev) {\r\n      if (curr.number !== prev.number) {\r\n        calculateAngleValues(curr);\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * A unit system is a set of dimensionally independent base units plus a set of derived units, formed by multiplication and division of the base units, that are by convention used with the unit system.\r\n   * A user perhaps could issue a command to select a preferred unit system, or use the default (see below).\r\n   * Auto unit system: The default unit system is updated on the fly anytime a unit is parsed. The corresponding unit in the default unit system is updated, so that answers are given in the same units the user supplies.\r\n   */\r\n\r\n\r\n  var UNIT_SYSTEMS = {\r\n    si: {\r\n      // Base units\r\n      NONE: {\r\n        unit: UNIT_NONE,\r\n        prefix: PREFIXES.NONE['']\r\n      },\r\n      LENGTH: {\r\n        unit: UNITS.m,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      MASS: {\r\n        unit: UNITS.g,\r\n        prefix: PREFIXES.SHORT.k\r\n      },\r\n      TIME: {\r\n        unit: UNITS.s,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      CURRENT: {\r\n        unit: UNITS.A,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      TEMPERATURE: {\r\n        unit: UNITS.K,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      LUMINOUS_INTENSITY: {\r\n        unit: UNITS.cd,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      AMOUNT_OF_SUBSTANCE: {\r\n        unit: UNITS.mol,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ANGLE: {\r\n        unit: UNITS.rad,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      BIT: {\r\n        unit: UNITS.bits,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      // Derived units\r\n      FORCE: {\r\n        unit: UNITS.N,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ENERGY: {\r\n        unit: UNITS.J,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      POWER: {\r\n        unit: UNITS.W,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      PRESSURE: {\r\n        unit: UNITS.Pa,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_CHARGE: {\r\n        unit: UNITS.C,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_CAPACITANCE: {\r\n        unit: UNITS.F,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_POTENTIAL: {\r\n        unit: UNITS.V,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_RESISTANCE: {\r\n        unit: UNITS.ohm,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_INDUCTANCE: {\r\n        unit: UNITS.H,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      ELECTRIC_CONDUCTANCE: {\r\n        unit: UNITS.S,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      MAGNETIC_FLUX: {\r\n        unit: UNITS.Wb,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      MAGNETIC_FLUX_DENSITY: {\r\n        unit: UNITS.T,\r\n        prefix: PREFIXES.SHORT['']\r\n      },\r\n      FREQUENCY: {\r\n        unit: UNITS.Hz,\r\n        prefix: PREFIXES.SHORT['']\r\n      }\r\n    }\r\n  }; // Clone to create the other unit systems\r\n\r\n  UNIT_SYSTEMS.cgs = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\r\n  UNIT_SYSTEMS.cgs.LENGTH = {\r\n    unit: UNITS.m,\r\n    prefix: PREFIXES.SHORT.c\r\n  };\r\n  UNIT_SYSTEMS.cgs.MASS = {\r\n    unit: UNITS.g,\r\n    prefix: PREFIXES.SHORT['']\r\n  };\r\n  UNIT_SYSTEMS.cgs.FORCE = {\r\n    unit: UNITS.dyn,\r\n    prefix: PREFIXES.SHORT['']\r\n  };\r\n  UNIT_SYSTEMS.cgs.ENERGY = {\r\n    unit: UNITS.erg,\r\n    prefix: PREFIXES.NONE['']\r\n  }; // there are wholly 4 unique cgs systems for electricity and magnetism,\r\n  // so let's not worry about it unless somebody complains\r\n\r\n  UNIT_SYSTEMS.us = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));\r\n  UNIT_SYSTEMS.us.LENGTH = {\r\n    unit: UNITS.ft,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.MASS = {\r\n    unit: UNITS.lbm,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.TEMPERATURE = {\r\n    unit: UNITS.degF,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.FORCE = {\r\n    unit: UNITS.lbf,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.ENERGY = {\r\n    unit: UNITS.BTU,\r\n    prefix: PREFIXES.BTU['']\r\n  };\r\n  UNIT_SYSTEMS.us.POWER = {\r\n    unit: UNITS.hp,\r\n    prefix: PREFIXES.NONE['']\r\n  };\r\n  UNIT_SYSTEMS.us.PRESSURE = {\r\n    unit: UNITS.psi,\r\n    prefix: PREFIXES.NONE['']\r\n  }; // Add additional unit systems here.\r\n  // Choose a unit system to seed the auto unit system.\r\n\r\n  UNIT_SYSTEMS.auto = JSON.parse(JSON.stringify(UNIT_SYSTEMS.si)); // Set the current unit system\r\n\r\n  var currentUnitSystem = UNIT_SYSTEMS.auto;\r\n  /**\r\n   * Set a unit system for formatting derived units.\r\n   * @param {string} [name] The name of the unit system.\r\n   */\r\n\r\n  Unit.setUnitSystem = function (name) {\r\n    if (hasOwnProperty(UNIT_SYSTEMS, name)) {\r\n      currentUnitSystem = UNIT_SYSTEMS[name];\r\n    } else {\r\n      throw new Error('Unit system ' + name + ' does not exist. Choices are: ' + Object.keys(UNIT_SYSTEMS).join(', '));\r\n    }\r\n  };\r\n  /**\r\n   * Return the current unit system.\r\n   * @return {string} The current unit system.\r\n   */\r\n\r\n\r\n  Unit.getUnitSystem = function () {\r\n    for (var _key in UNIT_SYSTEMS) {\r\n      if (hasOwnProperty(UNIT_SYSTEMS, _key)) {\r\n        if (UNIT_SYSTEMS[_key] === currentUnitSystem) {\r\n          return _key;\r\n        }\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * Converters to convert from number to an other numeric type like BigNumber\r\n   * or Fraction\r\n   */\r\n\r\n\r\n  Unit.typeConverters = {\r\n    BigNumber: function BigNumber(x) {\r\n      return new _BigNumber(x + ''); // stringify to prevent constructor error\r\n    },\r\n    Fraction: function Fraction(x) {\r\n      return new _Fraction(x);\r\n    },\r\n    Complex: function Complex(x) {\r\n      return x;\r\n    },\r\n    number: function number(x) {\r\n      return x;\r\n    }\r\n  };\r\n  /**\r\n   * Retrieve the right converter function corresponding with this unit's\r\n   * value\r\n   *\r\n   * @memberof Unit\r\n   * @return {Function}\r\n   */\r\n\r\n  Unit.prototype._numberConverter = function () {\r\n    var convert = Unit.typeConverters[this.valueType()];\r\n\r\n    if (convert) {\r\n      return convert;\r\n    }\r\n\r\n    throw new TypeError('Unsupported Unit value type \"' + this.valueType() + '\"');\r\n  };\r\n  /**\r\n   * Retrieve the right convertor function corresponding with the type\r\n   * of provided exampleValue.\r\n   *\r\n   * @param {string} type   A string 'number', 'BigNumber', or 'Fraction'\r\n   *                        In case of an unknown type,\r\n   * @return {Function}\r\n   */\r\n\r\n\r\n  Unit._getNumberConverter = function (type) {\r\n    if (!Unit.typeConverters[type]) {\r\n      throw new TypeError('Unsupported type \"' + type + '\"');\r\n    }\r\n\r\n    return Unit.typeConverters[type];\r\n  }; // Add dimensions to each built-in unit\r\n\r\n\r\n  for (var _key2 in UNITS) {\r\n    if (hasOwnProperty(UNITS, _key2)) {\r\n      var unit = UNITS[_key2];\r\n      unit.dimensions = unit.base.dimensions;\r\n    }\r\n  } // Create aliases\r\n\r\n\r\n  for (var _name2 in ALIASES) {\r\n    if (hasOwnProperty(ALIASES, _name2)) {\r\n      var _unit2 = UNITS[ALIASES[_name2]];\r\n      var alias = {};\r\n\r\n      for (var _key3 in _unit2) {\r\n        if (hasOwnProperty(_unit2, _key3)) {\r\n          alias[_key3] = _unit2[_key3];\r\n        }\r\n      }\r\n\r\n      alias.name = _name2;\r\n      UNITS[_name2] = alias;\r\n    }\r\n  }\r\n  /**\r\n   * Checks if a character is a valid latin letter (upper or lower case).\r\n   * Note that this function can be overridden, for example to allow support of other alphabets.\r\n   * @param {string} c Tested character\r\n   */\r\n\r\n\r\n  Unit.isValidAlpha = function isValidAlpha(c) {\r\n    return /^[a-zA-Z]$/.test(c);\r\n  };\r\n\r\n  function assertUnitNameIsValid(name) {\r\n    for (var i = 0; i < name.length; i++) {\r\n      c = name.charAt(i);\r\n\r\n      if (i === 0 && !Unit.isValidAlpha(c)) {\r\n        throw new Error('Invalid unit name (must begin with alpha character): \"' + name + '\"');\r\n      }\r\n\r\n      if (i > 0 && !(Unit.isValidAlpha(c) || isDigit(c))) {\r\n        throw new Error('Invalid unit name (only alphanumeric characters are allowed): \"' + name + '\"');\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Wrapper around createUnitSingle.\r\n   * Example:\r\n   *  createUnit({\r\n   *    foo: { },\r\n   *    bar: {\r\n   *      definition: 'kg/foo',\r\n   *      aliases: ['ba', 'barr', 'bars'],\r\n   *      offset: 200\r\n   *    },\r\n   *    baz: '4 bar'\r\n   *  },\r\n   *  {\r\n   *    override: true\r\n   *  })\r\n   * @param {object} obj      Object map. Each key becomes a unit which is defined by its value.\r\n   * @param {object} options\r\n   */\r\n\r\n\r\n  Unit.createUnit = function (obj, options) {\r\n    if (typeof obj !== 'object') {\r\n      throw new TypeError(\"createUnit expects first parameter to be of type 'Object'\");\r\n    } // Remove all units and aliases we are overriding\r\n\r\n\r\n    if (options && options.override) {\r\n      for (var _key4 in obj) {\r\n        if (hasOwnProperty(obj, _key4)) {\r\n          Unit.deleteUnit(_key4);\r\n        }\r\n\r\n        if (obj[_key4].aliases) {\r\n          for (var i = 0; i < obj[_key4].aliases.length; i++) {\r\n            Unit.deleteUnit(obj[_key4].aliases[i]);\r\n          }\r\n        }\r\n      }\r\n    } // TODO: traverse multiple times until all units have been added\r\n\r\n\r\n    var lastUnit;\r\n\r\n    for (var _key5 in obj) {\r\n      if (hasOwnProperty(obj, _key5)) {\r\n        lastUnit = Unit.createUnitSingle(_key5, obj[_key5]);\r\n      }\r\n    }\r\n\r\n    return lastUnit;\r\n  };\r\n  /**\r\n   * Create a user-defined unit and register it with the Unit type.\r\n   * Example:\r\n   *  createUnitSingle('knot', '0.514444444 m/s')\r\n   *  createUnitSingle('acre', new Unit(43560, 'ft^2'))\r\n   *\r\n   * @param {string} name      The name of the new unit. Must be unique. Example: 'knot'\r\n   * @param {string, Unit, Object} definition      Definition of the unit in terms\r\n   * of existing units. For example, '0.514444444 m / s'. Can be a Unit, a string,\r\n   * or an Object. If an Object, may have the following properties:\r\n   *   - definition {string|Unit} The definition of this unit.\r\n   *   - prefixes {string} \"none\", \"short\", \"long\", \"binary_short\", or \"binary_long\".\r\n   *     The default is \"none\".\r\n   *   - aliases {Array} Array of strings. Example: ['knots', 'kt', 'kts']\r\n   *   - offset {Numeric} An offset to apply when converting from the unit. For\r\n   *     example, the offset for celsius is 273.15 and the offset for farhenheit\r\n   *     is 459.67. Default is 0.\r\n   *   - baseName {string} If the unit's dimension does not match that of any other\r\n   *     base unit, the name of the newly create base unit. Otherwise, this property\r\n   *     has no effect.\r\n   *\r\n   * @param {Object} options   (optional) An object containing any of the following\r\n   * properties:\r\n   *   - override {boolean} Whether this unit should be allowed to override existing\r\n   *     units.\r\n   *\r\n   * @return {Unit}\r\n   */\r\n\r\n\r\n  Unit.createUnitSingle = function (name, obj, options) {\r\n    if (typeof obj === 'undefined' || obj === null) {\r\n      obj = {};\r\n    }\r\n\r\n    if (typeof name !== 'string') {\r\n      throw new TypeError(\"createUnitSingle expects first parameter to be of type 'string'\");\r\n    } // Check collisions with existing units\r\n\r\n\r\n    if (hasOwnProperty(UNITS, name)) {\r\n      throw new Error('Cannot create unit \"' + name + '\": a unit with that name already exists');\r\n    } // TODO: Validate name for collisions with other built-in functions (like abs or cos, for example), and for acceptable variable names. For example, '42' is probably not a valid unit. Nor is '%', since it is also an operator.\r\n\r\n\r\n    assertUnitNameIsValid(name);\r\n    var defUnit = null; // The Unit from which the new unit will be created.\r\n\r\n    var aliases = [];\r\n    var offset = 0;\r\n    var definition;\r\n    var prefixes;\r\n    var baseName;\r\n\r\n    if (obj && obj.type === 'Unit') {\r\n      defUnit = obj.clone();\r\n    } else if (typeof obj === 'string') {\r\n      if (obj !== '') {\r\n        definition = obj;\r\n      }\r\n    } else if (typeof obj === 'object') {\r\n      definition = obj.definition;\r\n      prefixes = obj.prefixes;\r\n      offset = obj.offset;\r\n      baseName = obj.baseName;\r\n\r\n      if (obj.aliases) {\r\n        aliases = obj.aliases.valueOf(); // aliases could be a Matrix, so convert to Array\r\n      }\r\n    } else {\r\n      throw new TypeError('Cannot create unit \"' + name + '\" from \"' + obj.toString() + '\": expecting \"string\" or \"Unit\" or \"Object\"');\r\n    }\r\n\r\n    if (aliases) {\r\n      for (var i = 0; i < aliases.length; i++) {\r\n        if (hasOwnProperty(UNITS, aliases[i])) {\r\n          throw new Error('Cannot create alias \"' + aliases[i] + '\": a unit with that name already exists');\r\n        }\r\n      }\r\n    }\r\n\r\n    if (definition && typeof definition === 'string' && !defUnit) {\r\n      try {\r\n        defUnit = Unit.parse(definition, {\r\n          allowNoUnits: true\r\n        });\r\n      } catch (ex) {\r\n        ex.message = 'Could not create unit \"' + name + '\" from \"' + definition + '\": ' + ex.message;\r\n        throw ex;\r\n      }\r\n    } else if (definition && definition.type === 'Unit') {\r\n      defUnit = definition.clone();\r\n    }\r\n\r\n    aliases = aliases || [];\r\n    offset = offset || 0;\r\n\r\n    if (prefixes && prefixes.toUpperCase) {\r\n      prefixes = PREFIXES[prefixes.toUpperCase()] || PREFIXES.NONE;\r\n    } else {\r\n      prefixes = PREFIXES.NONE;\r\n    } // If defUnit is null, it is because the user did not\r\n    // specify a defintion. So create a new base dimension.\r\n\r\n\r\n    var newUnit = {};\r\n\r\n    if (!defUnit) {\r\n      // Add a new base dimension\r\n      baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\r\n\r\n      if (BASE_DIMENSIONS.indexOf(baseName) >= 0) {\r\n        throw new Error('Cannot create new base unit \"' + name + '\": a base unit with that name already exists (and cannot be overridden)');\r\n      }\r\n\r\n      BASE_DIMENSIONS.push(baseName); // Push 0 onto existing base units\r\n\r\n      for (var b in BASE_UNITS) {\r\n        if (hasOwnProperty(BASE_UNITS, b)) {\r\n          BASE_UNITS[b].dimensions[BASE_DIMENSIONS.length - 1] = 0;\r\n        }\r\n      } // Add the new base unit\r\n\r\n\r\n      var newBaseUnit = {\r\n        dimensions: []\r\n      };\r\n\r\n      for (var _i6 = 0; _i6 < BASE_DIMENSIONS.length; _i6++) {\r\n        newBaseUnit.dimensions[_i6] = 0;\r\n      }\r\n\r\n      newBaseUnit.dimensions[BASE_DIMENSIONS.length - 1] = 1;\r\n      newBaseUnit.key = baseName;\r\n      BASE_UNITS[baseName] = newBaseUnit;\r\n      newUnit = {\r\n        name,\r\n        value: 1,\r\n        dimensions: BASE_UNITS[baseName].dimensions.slice(0),\r\n        prefixes,\r\n        offset,\r\n        base: BASE_UNITS[baseName]\r\n      };\r\n      currentUnitSystem[baseName] = {\r\n        unit: newUnit,\r\n        prefix: PREFIXES.NONE['']\r\n      };\r\n    } else {\r\n      newUnit = {\r\n        name,\r\n        value: defUnit.value,\r\n        dimensions: defUnit.dimensions.slice(0),\r\n        prefixes,\r\n        offset\r\n      }; // Create a new base if no matching base exists\r\n\r\n      var anyMatch = false;\r\n\r\n      for (var _i7 in BASE_UNITS) {\r\n        if (hasOwnProperty(BASE_UNITS, _i7)) {\r\n          var match = true;\r\n\r\n          for (var j = 0; j < BASE_DIMENSIONS.length; j++) {\r\n            if (Math.abs((newUnit.dimensions[j] || 0) - (BASE_UNITS[_i7].dimensions[j] || 0)) > 1e-12) {\r\n              match = false;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (match) {\r\n            anyMatch = true;\r\n            newUnit.base = BASE_UNITS[_i7];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!anyMatch) {\r\n        baseName = baseName || name + '_STUFF'; // foo --> foo_STUFF, or the essence of foo\r\n        // Add the new base unit\r\n\r\n        var _newBaseUnit = {\r\n          dimensions: defUnit.dimensions.slice(0)\r\n        };\r\n        _newBaseUnit.key = baseName;\r\n        BASE_UNITS[baseName] = _newBaseUnit;\r\n        currentUnitSystem[baseName] = {\r\n          unit: newUnit,\r\n          prefix: PREFIXES.NONE['']\r\n        };\r\n        newUnit.base = BASE_UNITS[baseName];\r\n      }\r\n    }\r\n\r\n    Unit.UNITS[name] = newUnit;\r\n\r\n    for (var _i8 = 0; _i8 < aliases.length; _i8++) {\r\n      var aliasName = aliases[_i8];\r\n      var _alias = {};\r\n\r\n      for (var _key6 in newUnit) {\r\n        if (hasOwnProperty(newUnit, _key6)) {\r\n          _alias[_key6] = newUnit[_key6];\r\n        }\r\n      }\r\n\r\n      _alias.name = aliasName;\r\n      Unit.UNITS[aliasName] = _alias;\r\n    } // delete the memoization cache, since adding a new unit to the array\r\n    // invalidates all old results\r\n\r\n\r\n    delete _findUnit.cache;\r\n    return new Unit(null, name);\r\n  };\r\n\r\n  Unit.deleteUnit = function (name) {\r\n    delete Unit.UNITS[name];\r\n  }; // expose arrays with prefixes, dimensions, units, systems\r\n\r\n\r\n  Unit.PREFIXES = PREFIXES;\r\n  Unit.BASE_DIMENSIONS = BASE_DIMENSIONS;\r\n  Unit.BASE_UNITS = BASE_UNITS;\r\n  Unit.UNIT_SYSTEMS = UNIT_SYSTEMS;\r\n  Unit.UNITS = UNITS;\r\n  return Unit;\r\n}, {\r\n  isClass: true\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}