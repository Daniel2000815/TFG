{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Grid from'@mui/material/Grid';import InputAdornment from'@mui/material/InputAdornment';import TextField from'@mui/material/TextField';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogTitle from'@mui/material/DialogTitle';import Button from'@mui/material/Button';import MathJax from'react-mathjax';import'katex/dist/katex.min.css';import useLocalStorage from'../storageHook.js';import Shader from'../CustomComponents/Shader';import CustomInputTable from'../CustomComponents/CustomInputTable';export default function SurfaceDialog(props){var nerdamer=require('nerdamer');require('nerdamer/Calculus');var _useState=useState(props.eqData?props.eqData:null),_useState2=_slicedToArray(_useState,2),eqData=_useState2[0],setEqData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),eqInput=_useState4[0],setEqInput=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),nameInput=_useState6[0],setNameInput=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),parametersInput=_useState8[0],setParametersInput=_useState8[1];var _useLocalStorage=useLocalStorage('user_implicits',{}),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),storage=_useLocalStorage2[0],setStorage=_useLocalStorage2[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorMsg=_useState10[0],setErrorMsg=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),validEq=_useState12[0],setValEq=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),validName=_useState14[0],setValidName=_useState14[1];var latexInfo=function latexInfo(){var implicit=eqData&&validEq?nerdamer.convertToLaTeX(eqData.f.toString()):'';var dx=eqData&&validEq?nerdamer.convertToLaTeX(eqData.dx.toString()):'';var dy=eqData&&validEq?nerdamer.convertToLaTeX(eqData.dy.toString()):'';var dz=eqData&&validEq?nerdamer.convertToLaTeX(eqData.dz.toString()):'';var norm=eqData&&validEq?nerdamer.convertToLaTeX(eqData.norm.toString()):'';var sdf=eqData&&validEq?nerdamer.convertToLaTeX(eqData.sdf.toString()):'';return\"\\\\begin{align*} \\n          f(x,y,z) &=  \".concat(implicit,\" \\\\\\\\[10pt]\\n          \\\\nabla f(x,y,z) &= \\\\left( \\n            \").concat(dx,\", \\n            \").concat(dy,\", \\n            \").concat(dz,\"\\n          \\\\right) \\\\\\\\[10pt]\\n          \\\\Vert \\\\nabla f(x,y,z) \\\\Vert &= \").concat(norm,\" \\\\\\\\[10pt]\\n          \\\\text{sdf}(x,y,z) &= \").concat(sdf,\"\\n        \\\\end{align*}\");};var traverseTree=function traverseTree(node){var parametersSymbols=Object.keys(parametersInput).map(function(val,key){return parametersInput[key].symbol;});console.log(parametersInput);if(node){if(node.type==='VARIABLE_OR_LITERAL'){var isVariable=[].concat(_toConsumableArray(parametersSymbols),['x','y','z']).includes(node.value);return isVariable?node.value:parseFloat(node.value).toFixed(4);}if(node.type==='OPERATOR'){var left=traverseTree(node.left);var right=traverseTree(node.right);if(node.value==='^'){return\"pow(\".concat(left,\", \").concat(right,\")\");}else{if(right&&left)return\"(\".concat(left,\")\").concat(node.value,\"(\").concat(right,\")\");else if(left)return\"\".concat(node.value,\"(\").concat(left,\")\");else return'????';}// return node.toString();\n}if(node.type==='FUNCTION'){var _left=traverseTree(node.left);var _right=traverseTree(node.right);if(node.value==='^'){return\"pow(\".concat(_left,\", \").concat(_right,\")\");}else{if(_right)return\"\".concat(node.value,\"(\").concat(_right,\")\");else return'????';}}}};var handleNewEquation=function handleNewEquation(newEq){var f=null;setEqInput(newEq);try{f=nerdamer(newEq);}catch(error){setErrorMsg(error.message);setValEq(false);console.warn('ERROR PARSING EQUATION');console.log(error);return;}setErrorMsg('');setValEq(true);var dfdx=nerdamer.diff(f,'x',1);var dfdy=nerdamer.diff(f,'y',1);var dfdz=nerdamer.diff(f,'z',1);var norm=nerdamer(\"sqrt((\".concat(dfdx,\")^2 + (\").concat(dfdy,\")^2 + (\").concat(dfdz,\")^2)\"));if(norm.toString()==='0'){setValEq(false);setErrorMsg(\"Norm can't be 0\");return;}var sdf=nerdamer(\"(\".concat(f,\")/(\").concat(norm,\")\"));var x=nerdamer.tree(sdf.toString());setEqData({f:f,dx:dfdx,dy:dfdy,dz:dfdz,norm:norm,sdf:sdf,parsedSdf:traverseTree(x)});};var handleSave=function handleSave(){if(nameInput in storage){return;}else{var newData=_objectSpread({},storage);newData[nameInput.toLowerCase()]={id:nameInput.toLowerCase(),name:nameInput,implicit:eqData.f.toString(),sdf:eqData.sdf.toString(),parsedSdf:eqData.parsedSdf,fHeader:\"\".concat(nameInput.toLowerCase(),\"(vec3 p \").concat(parametersInput.length>0?',':'').concat(parametersInput.map(function(p){return\"float \".concat(p.symbol);}).join(','),\")\"),parameters:parametersInput};setStorage(newData);props.handleClose();}};useEffect(function(){if(props.savedData){setNameInput(props.savedData.name);setEqInput(props.savedData.implicit);setParametersInput(props.savedData.parameters);handleNewEquation(props.savedData.implicit);}else{setNameInput('');setEqInput('');setParametersInput([]);setEqData(null);}},[props.savedData]);useEffect(function(){setValidName(!(nameInput in storage));},[nameInput]);return/*#__PURE__*/React.createElement(Dialog,{open:props.open,onClose:props.handleClose},/*#__PURE__*/React.createElement(DialogTitle,null,\"New Surface\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{value:nameInput,error:!validName||nameInput==='',helperText:nameInput===''?'':validName?'':'Name already in use',onChange:function onChange(e){return setNameInput(e.target.value);},id:\"name\",label:\"Name\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{sx:{width:'100%'},value:eqInput,defaultValue:\"\",label:\"Implicit\",onChange:function onChange(e){return handleNewEquation(e.target.value);},id:\"Implicit\",error:!validEq||eqInput==='',helperText:errorMsg,InputProps:{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},\" = 0\")}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(MathJax.Provider,null,/*#__PURE__*/React.createElement(MathJax.Node,{formula:latexInfo()}))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(Shader,{sdf:'sphere(p, 1.0)',uniforms:{color:{type:'3fv',value:[1.0,1.0,0.0]}},style:{margin:'10px'}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(CustomInputTable,{rows:parametersInput,handleNewParameters:function handleNewParameters(newParams){return setParametersInput(newParams);}})))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:props.handleClose},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:handleSave,disabled:!validName||!validEq||nameInput===''||eqInput===''},\"Save\")));}","map":{"version":3,"names":["React","useState","useEffect","Grid","InputAdornment","TextField","Dialog","DialogActions","DialogContent","DialogTitle","Button","MathJax","useLocalStorage","Shader","CustomInputTable","SurfaceDialog","props","nerdamer","require","eqData","setEqData","eqInput","setEqInput","nameInput","setNameInput","parametersInput","setParametersInput","storage","setStorage","errorMsg","setErrorMsg","validEq","setValEq","validName","setValidName","latexInfo","implicit","convertToLaTeX","f","toString","dx","dy","dz","norm","sdf","traverseTree","node","parametersSymbols","Object","keys","map","val","key","symbol","console","log","type","isVariable","includes","value","parseFloat","toFixed","left","right","handleNewEquation","newEq","error","message","warn","dfdx","diff","dfdy","dfdz","x","tree","parsedSdf","handleSave","newData","toLowerCase","id","name","fHeader","length","p","join","parameters","handleClose","savedData","open","e","target","width","endAdornment","color","margin","newParams"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/SurfacePage/SurfaceDialog.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Button from '@mui/material/Button';\r\nimport MathJax from 'react-mathjax';\r\nimport 'katex/dist/katex.min.css';\r\nimport useLocalStorage from '../storageHook.js';\r\nimport Shader from '../CustomComponents/Shader';\r\nimport CustomInputTable from '../CustomComponents/CustomInputTable';\r\n\r\nexport default function SurfaceDialog(props) {\r\n  var nerdamer = require('nerdamer');\r\n  require('nerdamer/Calculus');\r\n\r\n  const [eqData, setEqData] = useState(props.eqData ? props.eqData : null);\r\n  const [eqInput, setEqInput] = useState('');\r\n  const [nameInput, setNameInput] = useState('');\r\n  const [parametersInput, setParametersInput] = useState([]);\r\n  const [storage, setStorage] = useLocalStorage('user_implicits', {});\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [validEq, setValEq] = useState(false);\r\n  const [validName, setValidName] = useState(false);\r\n\r\n  const latexInfo = () => {\r\n    const implicit =\r\n      eqData && validEq ? nerdamer.convertToLaTeX(eqData.f.toString()) : '';\r\n    const dx =\r\n      eqData && validEq ? nerdamer.convertToLaTeX(eqData.dx.toString()) : '';\r\n    const dy =\r\n      eqData && validEq ? nerdamer.convertToLaTeX(eqData.dy.toString()) : '';\r\n    const dz =\r\n      eqData && validEq ? nerdamer.convertToLaTeX(eqData.dz.toString()) : '';\r\n    const norm =\r\n      eqData && validEq ? nerdamer.convertToLaTeX(eqData.norm.toString()) : '';\r\n    const sdf =\r\n      eqData && validEq ? nerdamer.convertToLaTeX(eqData.sdf.toString()) : '';\r\n\r\n    return `\\\\begin{align*} \r\n          f(x,y,z) &=  ${implicit} \\\\\\\\[10pt]\r\n          \\\\nabla f(x,y,z) &= \\\\left( \r\n            ${dx}, \r\n            ${dy}, \r\n            ${dz}\r\n          \\\\right) \\\\\\\\[10pt]\r\n          \\\\Vert \\\\nabla f(x,y,z) \\\\Vert &= ${norm} \\\\\\\\[10pt]\r\n          \\\\text{sdf}(x,y,z) &= ${sdf}\r\n        \\\\end{align*}`;\r\n  };\r\n\r\n  const traverseTree = (node) => {\r\n    const parametersSymbols = Object.keys(parametersInput).map((val,key) => parametersInput[key].symbol);\r\n    console.log(parametersInput);\r\n\r\n    if (node) {\r\n      if (node.type === 'VARIABLE_OR_LITERAL') {\r\n        const isVariable = [...parametersSymbols, 'x','y','z'].includes(node.value);\r\n        \r\n        return isVariable ? node.value : parseFloat(node.value).toFixed(4);\r\n      }\r\n      if (node.type === 'OPERATOR') {\r\n        let left = traverseTree(node.left);\r\n        let right = traverseTree(node.right);\r\n\r\n        if (node.value === '^') {\r\n          return `pow(${left}, ${right})`;\r\n        } else {\r\n          if (right && left) return `(${left})${node.value}(${right})`;\r\n          else if (left) return `${node.value}(${left})`;\r\n          else return '????';\r\n        }\r\n\r\n        // return node.toString();\r\n      }\r\n      if (node.type === 'FUNCTION') {\r\n        let left = traverseTree(node.left);\r\n        let right = traverseTree(node.right);\r\n\r\n        if (node.value === '^') {\r\n          return `pow(${left}, ${right})`;\r\n        } else {\r\n          if (right) return `${node.value}(${right})`;\r\n          else return '????';\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleNewEquation = (newEq) => {\r\n    let f = null;\r\n    setEqInput(newEq);\r\n\r\n    try {\r\n      f = nerdamer(newEq);\r\n    } catch (error) {\r\n      setErrorMsg(error.message);\r\n      setValEq(false);\r\n\r\n      console.warn('ERROR PARSING EQUATION');\r\n      console.log(error);\r\n\r\n      return;\r\n    }\r\n\r\n    setErrorMsg('');\r\n    setValEq(true);\r\n\r\n    let dfdx = nerdamer.diff(f, 'x', 1);\r\n    let dfdy = nerdamer.diff(f, 'y', 1);\r\n    let dfdz = nerdamer.diff(f, 'z', 1);\r\n    let norm = nerdamer(`sqrt((${dfdx})^2 + (${dfdy})^2 + (${dfdz})^2)`);\r\n\r\n    if (norm.toString() === '0') {\r\n      setValEq(false);\r\n      setErrorMsg(\"Norm can't be 0\");\r\n      return;\r\n    }\r\n\r\n    let sdf = nerdamer(`(${f})/(${norm})`);\r\n    var x = nerdamer.tree(sdf.toString());\r\n\r\n    setEqData({\r\n      f: f,\r\n      dx: dfdx,\r\n      dy: dfdy,\r\n      dz: dfdz,\r\n      norm: norm,\r\n      sdf: sdf,\r\n      parsedSdf: traverseTree(x),\r\n    });\r\n\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (nameInput in storage) {\r\n      return;\r\n    } else {\r\n      let newData = { ...storage };\r\n      newData[nameInput.toLowerCase()] = {\r\n        id: nameInput.toLowerCase(),\r\n        name: nameInput,\r\n        implicit: eqData.f.toString(),\r\n        sdf: eqData.sdf.toString(),\r\n        parsedSdf: eqData.parsedSdf,\r\n        fHeader: `${nameInput.toLowerCase()}(vec3 p ${parametersInput.length>0?',':''}${(parametersInput.map(p=>`float ${p.symbol}`)).join(',')})`,\r\n        parameters: parametersInput,\r\n      };\r\n\r\n\r\n      setStorage(newData);\r\n      props.handleClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n    if (props.savedData) {\r\n      setNameInput(props.savedData.name);\r\n      setEqInput(props.savedData.implicit);\r\n      setParametersInput(props.savedData.parameters);\r\n      handleNewEquation(props.savedData.implicit);\r\n    } else {\r\n      setNameInput('');\r\n      setEqInput('');\r\n      setParametersInput([]);\r\n      setEqData(null);\r\n    }\r\n  }, [props.savedData]);\r\n\r\n  useEffect(() => {\r\n    setValidName(!(nameInput in storage));\r\n  }, [nameInput]);\r\n\r\n  return (\r\n    <Dialog open={props.open} onClose={props.handleClose}>\r\n      <DialogTitle>New Surface</DialogTitle>\r\n\r\n      <DialogContent>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              value={nameInput}\r\n              error={!validName || nameInput === ''}\r\n              helperText={\r\n                nameInput === '' ? '' : validName ? '' : 'Name already in use'\r\n              }\r\n              onChange={(e) => setNameInput(e.target.value)}\r\n              id=\"name\"\r\n              label=\"Name\"\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              sx={{ width: '100%' }}\r\n              value={eqInput}\r\n              defaultValue=\"\"\r\n              label=\"Implicit\"\r\n              onChange={(e) => handleNewEquation(e.target.value)}\r\n              id=\"Implicit\"\r\n              error={!validEq || eqInput === ''}\r\n              helperText={errorMsg}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\"> = 0</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <MathJax.Provider>\r\n              <MathJax.Node formula={latexInfo()} />\r\n            </MathJax.Provider>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Shader\r\n              sdf={'sphere(p, 1.0)'}\r\n              uniforms={{ color: { type: '3fv', value: [1.0, 1.0, 0.0] } }}\r\n              style={{ margin: '10px' }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <CustomInputTable\r\n              rows={parametersInput}\r\n              handleNewParameters={(newParams) => setParametersInput(newParams)}\r\n            />\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.handleClose}>Cancel</Button>\r\n        <Button\r\n          onClick={handleSave}\r\n          disabled={\r\n            !validName || !validEq || nameInput === '' || eqInput === ''\r\n          }\r\n        >\r\n          Save\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}