{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.abs = void 0;\nvar Symbol_1 = require(\"../../../Types/Symbol\");\nvar add_1 = require(\"../operations/add\");\nvar Utils_1 = require(\"../../../Core/Utils\");\nvar Math2_1 = require(\"../../Math2\");\nvar Frac_1 = require(\"../../../Types/Frac\");\nvar Settings_1 = require(\"../../../Settings\");\nvar index_1 = require(\"../index\");\nvar Parser_1 = require(\"../../../Parser/Parser\");\nfunction abs(symbol) {\n  //|-∞| = ∞\n  if (symbol.isInfinity) {\n    return Symbol_1.Symbol.infinity();\n  }\n  if (symbol.multiplier.lessThan(0)) symbol.multiplier.negate();\n  if (symbol.isImaginary()) {\n    var re = symbol.realpart();\n    var im = symbol.imagpart();\n    if (re.isConstant() && im.isConstant()) return (0, index_1.sqrt)((0, add_1.add)((0, index_1.pow)(re, new Symbol_1.Symbol(2)), (0, index_1.pow)(im, new Symbol_1.Symbol(2))));\n  } else if ((0, Utils_1.isNumericSymbol)(symbol) || (0, Utils_1.even)(symbol.power)) {\n    return symbol;\n  }\n  if (symbol.isComposite()) {\n    var ms = [];\n    symbol.each(function (x) {\n      ms.push(x.multiplier);\n    });\n    var gcd = Math2_1.Math2.QGCD.apply(null, ms);\n    if (gcd.lessThan(0)) {\n      symbol.multiplier = symbol.multiplier.multiply(new Frac_1.Frac(-1));\n      symbol.distributeMultiplier();\n    }\n  }\n  //convert |n*x| to n*|x|\n  var m = (0, Parser_1.parse)(symbol.multiplier);\n  symbol.toUnitMultiplier();\n  return (0, index_1.multiply)(m, (0, Symbol_1.symfunction)(Settings_1.Settings.ABS, [symbol]));\n}\nexports.abs = abs;","map":{"version":3,"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAgBA,GAAG,CAACC,MAAM;EAEtB;EACA,IAAIA,MAAM,CAACC,UAAU,EAAE;IACnB,OAAOC,eAAM,CAACC,QAAQ,EAAE;;EAE5B,IAAIH,MAAM,CAACI,UAAU,CAACC,QAAQ,CAAC,CAAC,CAAC,EAC7BL,MAAM,CAACI,UAAU,CAACE,MAAM,EAAE;EAE9B,IAAIN,MAAM,CAACO,WAAW,EAAE,EAAE;IACtB,IAAIC,EAAE,GAAGR,MAAM,CAACS,QAAQ,EAAE;IAC1B,IAAIC,EAAE,GAAGV,MAAM,CAACW,QAAQ,EAAE;IAC1B,IAAIH,EAAE,CAACI,UAAU,EAAE,IAAIF,EAAE,CAACE,UAAU,EAAE,EAClC,OAAO,gBAAI,EAAC,aAAG,EAAC,eAAG,EAACJ,EAAE,EAAE,IAAIN,eAAM,CAAC,CAAC,CAAC,CAAC,EAAE,eAAG,EAACQ,EAAE,EAAE,IAAIR,eAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACvE,MACI,IAAI,2BAAe,EAACF,MAAM,CAAC,IAAI,gBAAI,EAACA,MAAM,CAACa,KAAK,CAAC,EAAE;IACpD,OAAOb,MAAM;;EAGjB,IAAIA,MAAM,CAACc,WAAW,EAAE,EAAE;IACtB,IAAIC,EAAE,GAAG,EAAE;IACXf,MAAM,CAACgB,IAAI,CAAC,UAAUC,CAAC;MACnBF,EAAE,CAACG,IAAI,CAACD,CAAC,CAACb,UAAU,CAAC;IACzB,CAAC,CAAC;IACF,IAAIe,GAAG,GAAGC,aAAK,CAACC,IAAI,CAACC,KAAK,CAAC,IAAI,EAAEP,EAAE,CAAC;IACpC,IAAII,GAAG,CAACd,QAAQ,CAAC,CAAC,CAAC,EAAE;MACjBL,MAAM,CAACI,UAAU,GAAGJ,MAAM,CAACI,UAAU,CAACmB,QAAQ,CAAC,IAAIC,WAAI,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5DxB,MAAM,CAACyB,oBAAoB,EAAE;;;EAIrC;EACA,IAAIC,CAAC,GAAG,kBAAK,EAAC1B,MAAM,CAACI,UAAU,CAAC;EAChCJ,MAAM,CAAC2B,gBAAgB,EAAE;EAEzB,OAAO,oBAAQ,EAACD,CAAC,EAAE,wBAAW,EAACE,mBAAQ,CAACC,GAAG,EAAE,CAAC7B,MAAM,CAAC,CAAC,CAAC;AAC3D;AApCA8B","names":["abs","symbol","isInfinity","Symbol_1","infinity","multiplier","lessThan","negate","isImaginary","re","realpart","im","imagpart","isConstant","power","isComposite","ms","each","x","push","gcd","Math2_1","QGCD","apply","multiply","Frac_1","distributeMultiplier","m","toUnitMultiplier","Settings_1","ABS","exports"],"sourceRoot":"","sources":["../../../../src/Functions/Core/math/abs.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}