{"ast":null,"code":"import _slicedToArray from \"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\src\\\\CustomNodes\\\\BooleanNode.js\";\nimport React, { useEffect } from \"react\";\nimport CustomNode from \"../CustomNodes/CustomNode\";\nimport FloatSlider from \"../CustomComponents/FloatSlider\";\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nvar theme = createTheme({\n  palette: {\n    primary: {\n      light: '#ff8787',\n      main: '#ff5858',\n      dark: '#ff2323',\n      contrastText: 'white'\n    }\n  }\n});\nvar BooleanOperations = {\n  Union: \"Union\",\n  Difference: \"Difference\",\n  Intersection: \"Intersection\"\n};\nexport default function BooleanNode(_ref) {\n  var data = _ref.data,\n      id = _ref.id;\n\n  var _React$useState = React.useState(BooleanOperations.Union),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      operation = _React$useState2[0],\n      setOperation = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      smooth = _React$useState4[0],\n      setSmooth = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0.0.toFixed(4)),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      k = _React$useState6[0],\n      setK = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      sdf = _React$useState8[0],\n      setSdf = _React$useState8[1];\n\n  useEffect(function () {\n    console.log(\"SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO. AHORA HAY \".concat(Object.keys(data.inputs).length));\n    var inputs = \"\".concat(Object.keys(data.inputs).map(function (key) {\n      return \"\".concat(data.inputs[key]);\n    }).join(\", \"));\n    var newSdf = \"\";\n    Object.keys(data.inputs).map(function (key) {\n      newSdf += \"sdfSmooth\".concat(operation, \"(\").concat(data.inputs[key], \", \");\n    });\n    newSdf += \")\".repeat(Object.keys(data.inputs).length); // let newSdf = `sdfSmooth${operation}(`;\n    // for (; i < Object.keys(data.inputs).length; ) {\n    //   newSdf += `sdfSmooth${operation}(${data.inputs[key]}`\n    //   i++;\n    // }\n\n    setSdf(newSdf);\n  }, [data, operation, smooth, k]);\n\n  var handleChange = function handleChange(ev, val) {\n    setK(parseFloat(val).toFixed(4));\n  };\n\n  return /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CustomNode, {\n    title: \"Boolean\",\n    id: id,\n    data: data,\n    dropdownOptions: Object.values(BooleanOperations),\n    onChangeOption: setOperation,\n    sdf: sdf,\n    currOption: operation,\n    nInputs: Math.max(2, Object.keys(data.inputs).length + 1),\n    body: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, \"Smoothness\", /*#__PURE__*/React.createElement(FloatSlider, {\n      handleChange: handleChange,\n      range: [0, 10],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","CustomNode","FloatSlider","createTheme","ThemeProvider","theme","palette","primary","light","main","dark","contrastText","BooleanOperations","Union","Difference","Intersection","BooleanNode","data","id","useState","operation","setOperation","smooth","setSmooth","toFixed","k","setK","sdf","setSdf","console","log","Object","keys","inputs","length","map","key","join","newSdf","repeat","handleChange","ev","val","parseFloat","values","Math","max","margin"],"sources":["G:/gitlab/TFG/Aplicacion/src/CustomNodes/BooleanNode.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport CustomNode from \"../CustomNodes/CustomNode\";\r\nimport FloatSlider from \"../CustomComponents/FloatSlider\";\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#ff8787',\r\n      main: '#ff5858',\r\n      dark: '#ff2323',\r\n      contrastText: 'white',\r\n    },  \r\n  },\r\n});\r\n\r\nconst BooleanOperations = {\r\n  Union: \"Union\",\r\n  Difference: \"Difference\",\r\n  Intersection: \"Intersection\",\r\n};\r\n\r\nexport default function BooleanNode({ data, id }) {\r\n  const [operation, setOperation] = React.useState(BooleanOperations.Union);\r\n  const [smooth, setSmooth] = React.useState(true);\r\n  const [k, setK] = React.useState(0.0.toFixed(4));\r\n  const [sdf, setSdf] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      `SE HAN MODIFICADO LOS SDF EN NODO BOOLEANO. AHORA HAY ${Object.keys(data.inputs).length\r\n      }`\r\n    );\r\n\r\n    const inputs = `${Object.keys(data.inputs)\r\n      .map((key) => `${data.inputs[key]}`)\r\n      .join(\", \")}`;\r\n\r\n      let newSdf  = \"\";\r\n      \r\n      Object.keys(data.inputs).map((key) => {\r\n        newSdf += `sdfSmooth${operation}(${data.inputs[key]}, `;\r\n      });\r\n\r\n      newSdf += \")\".repeat(Object.keys(data.inputs).length);\r\n\r\n\r\n      // let newSdf = `sdfSmooth${operation}(`;\r\n      // for (; i < Object.keys(data.inputs).length; ) {\r\n      //   newSdf += `sdfSmooth${operation}(${data.inputs[key]}`\r\n      //   i++;\r\n      // }\r\n\r\n    setSdf(newSdf);\r\n  }, [data, operation, smooth, k]);\r\n\r\n\r\n\r\n  const handleChange = (ev, val) => {\r\n    setK(parseFloat(val).toFixed(4));\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CustomNode\r\n        title={\"Boolean\"}\r\n        id={id}\r\n        data={data}\r\n        dropdownOptions={Object.values(BooleanOperations)}\r\n        onChangeOption={setOperation}\r\n        sdf={sdf}\r\n        currOption={operation}\r\n        nInputs={Math.max(2, Object.keys(data.inputs).length + 1)}\r\n        body={\r\n          <div style={{ margin: 10 }}>\r\n            Smoothness\r\n\r\n            <FloatSlider\r\n              handleChange={handleChange}\r\n              range={[0, 10]}\r\n            />\r\n            \r\n          </div>\r\n        }\r\n      />\r\n    </ThemeProvider>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}