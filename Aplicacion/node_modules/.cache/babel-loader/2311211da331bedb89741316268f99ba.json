{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext}from\"react\";import Shader from\"./Shader\";import{fs}from\"./fragmentShaderMovable\";import Dropdown from\"./Dropdown\";import CustomHandle from\"./CustomHandle\";import GraphContext from\"./GraphContext.js\";import Button from\"@mui/material/Button\";import KeyboardArrowDownIcon from\"@mui/icons-material/KeyboardArrowDown\";import KeyboardArrowUpIcon from\"@mui/icons-material/KeyboardArrowUp\";export default function CustomNode(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),showCanvas=_React$useState2[0],setShowCanvas=_React$useState2[1];var sharedFunctions=useContext(GraphContext);useEffect(function(){console.log(\"SDF DE \".concat(props.id,\" MODIFICADO\"));sharedFunctions.updateNodeSdf(props.id,props.sdf);console.log(props.dropdownOptions[0]);},[props.sdf]);return/*#__PURE__*/React.createElement(\"div\",{className:\"custom-node\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-node-header\"},props.title),/*#__PURE__*/React.createElement(\"p\",null,\"ID: \".concat(props.id)),/*#__PURE__*/React.createElement(\"p\",null,\"CHILDREN:\",\" \",Object.keys(props.data.children).map(function(key){return\"\".concat(props.data.children[key]);}).join(\", \")),/*#__PURE__*/React.createElement(\"p\",null,\"SDF: \".concat(props.sdf)),props.dropdownOptions?/*#__PURE__*/React.createElement(Dropdown,{defaultValue:props.dropdownOptions[0],onChange:props.onChangeOption,items:props.dropdownOptions,label:props.title}):null,/*#__PURE__*/React.createElement(CustomHandle,{id:\"0\",type:\"target\",onConnect:function onConnect(params){return console.log(\"handle ss\",params);},style:{top:\"45%\"}}),/*#__PURE__*/React.createElement(CustomHandle,{id:\"1\",type:\"target\",onConnect:function onConnect(params){return props.data.updateBooleanPrimitive(params.source,params.target);},style:{top:\"55%\"}}),/*#__PURE__*/React.createElement(CustomHandle,{id:\"2\",type:\"source\",onConnect:function onConnect(params){return console.log(\"handle onsConnect\",params);},style:{top:\"50%\"}}),props.body,showCanvas?/*#__PURE__*/React.createElement(Shader,{shader:fs(props.sdf),uniforms:{color:{type:\"3fv\",value:[1.0,1.0,0.0]}},style:{margin:\"10px\",height:\"100%\"}}):null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setShowCanvas(!showCanvas);},variant:\"contained\",className:\"custom-node-creater\",size:\"small\",endIcon:showCanvas?/*#__PURE__*/React.createElement(KeyboardArrowUpIcon,null):/*#__PURE__*/React.createElement(KeyboardArrowDownIcon,null)},showCanvas?\"Hide canvas\":\"Show canvas\"));}","map":{"version":3,"names":["React","useEffect","useContext","Shader","fs","Dropdown","CustomHandle","GraphContext","Button","KeyboardArrowDownIcon","KeyboardArrowUpIcon","CustomNode","props","useState","showCanvas","setShowCanvas","sharedFunctions","console","log","id","updateNodeSdf","sdf","dropdownOptions","title","Object","keys","data","children","map","key","join","onChangeOption","params","top","updateBooleanPrimitive","source","target","body","color","type","value","margin","height"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomNode.js"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport Shader from \"./Shader\";\r\nimport { fs } from \"./fragmentShaderMovable\";\r\nimport Dropdown from \"./Dropdown\";\r\nimport CustomHandle from \"./CustomHandle\";\r\nimport GraphContext from \"./GraphContext.js\";\r\nimport Button from \"@mui/material/Button\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\r\n\r\n\r\nexport default function CustomNode(props) {\r\n  const [showCanvas, setShowCanvas] = React.useState(false);\r\n\r\n  const sharedFunctions = useContext(GraphContext);\r\n\r\n  useEffect(() => {\r\n    console.log(`SDF DE ${props.id} MODIFICADO`);\r\n    sharedFunctions.updateNodeSdf(props.id, props.sdf);\r\n    console.log(props.dropdownOptions[0]);\r\n  }, [props.sdf]);\r\n\r\n  return (\r\n    <div className=\"custom-node\">\r\n      <div className=\"custom-node-header\">{props.title}</div>\r\n      <p>{`ID: ${props.id}`}</p>\r\n      <p>\r\n        CHILDREN:{\" \"}\r\n        {Object.keys(props.data.children)\r\n          .map((key) => `${props.data.children[key]}`)\r\n          .join(\", \")}\r\n      </p>\r\n      <p>{`SDF: ${props.sdf}`}</p>\r\n      {props.dropdownOptions ? (\r\n        <Dropdown\r\n          defaultValue={props.dropdownOptions[0]}\r\n          onChange={props.onChangeOption}\r\n          items={props.dropdownOptions}\r\n          label={props.title}\r\n        />\r\n      ) : null}\r\n\r\n      <CustomHandle\r\n        id={\"0\"}\r\n        type=\"target\"\r\n        onConnect={(params) => console.log(\"handle ss\", params)}\r\n        style={{ top: \"45%\" }}\r\n      />\r\n      <CustomHandle\r\n        id={\"1\"}\r\n        type=\"target\"\r\n        onConnect={(params) =>\r\n          props.data.updateBooleanPrimitive(params.source, params.target)\r\n        }\r\n        style={{ top: \"55%\" }}\r\n      />\r\n      <CustomHandle\r\n        id={\"2\"}\r\n        type=\"source\"\r\n        onConnect={(params) => console.log(\"handle onsConnect\", params)}\r\n        style={{ top: \"50%\" }}\r\n      />\r\n\r\n        {props.body}\r\n      {showCanvas ? (\r\n        <Shader\r\n          shader={fs(props.sdf)}\r\n          uniforms={{ \r\n            color:    { type: \"3fv\" , value: [1.0, 1.0, 0.0] },\r\n            \r\n           }}\r\n          style={{ margin: \"10px\", height:\"100%\" }}\r\n        />\r\n      ) : null}\r\n\r\n      <Button\r\n        onClick={() => setShowCanvas(!showCanvas)}\r\n        variant=\"contained\"\r\n        className=\"custom-node-creater\"\r\n        size=\"small\"\r\n        endIcon={\r\n          showCanvas ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />\r\n        }\r\n      >\r\n        {showCanvas ? \"Hide canvas\" : \"Show canvas\"}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}