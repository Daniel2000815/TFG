{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommonMencloseMixin = void 0;\n\nvar Notation = __importStar(require(\"../Notation.js\"));\n\nvar string_js_1 = require(\"../../../util/string.js\");\n\nfunction CommonMencloseMixin(Base) {\n  return function (_super) {\n    __extends(class_1, _super);\n\n    function class_1() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n\n      _this.notations = {};\n      _this.renderChild = null;\n      _this.msqrt = null;\n      _this.padding = Notation.PADDING;\n      _this.thickness = Notation.THICKNESS;\n      _this.arrowhead = {\n        x: Notation.ARROWX,\n        y: Notation.ARROWY,\n        dx: Notation.ARROWDX\n      };\n      _this.TRBL = [0, 0, 0, 0];\n\n      _this.getParameters();\n\n      _this.getNotations();\n\n      _this.removeRedundantNotations();\n\n      _this.initializeNotations();\n\n      _this.TRBL = _this.getBBoxExtenders();\n      return _this;\n    }\n\n    class_1.prototype.getParameters = function () {\n      var attributes = this.node.attributes;\n      var padding = attributes.get('data-padding');\n\n      if (padding !== undefined) {\n        this.padding = this.length2em(padding, Notation.PADDING);\n      }\n\n      var thickness = attributes.get('data-thickness');\n\n      if (thickness !== undefined) {\n        this.thickness = this.length2em(thickness, Notation.THICKNESS);\n      }\n\n      var arrowhead = attributes.get('data-arrowhead');\n\n      if (arrowhead !== undefined) {\n        var _b = __read((0, string_js_1.split)(arrowhead), 3),\n            x = _b[0],\n            y = _b[1],\n            dx = _b[2];\n\n        this.arrowhead = {\n          x: x ? parseFloat(x) : Notation.ARROWX,\n          y: y ? parseFloat(y) : Notation.ARROWY,\n          dx: dx ? parseFloat(dx) : Notation.ARROWDX\n        };\n      }\n    };\n\n    class_1.prototype.getNotations = function () {\n      var e_1, _b;\n\n      var Notations = this.constructor.notations;\n\n      try {\n        for (var _c = __values((0, string_js_1.split)(this.node.attributes.get('notation'))), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var name_1 = _d.value;\n          var notation = Notations.get(name_1);\n\n          if (notation) {\n            this.notations[name_1] = notation;\n\n            if (notation.renderChild) {\n              this.renderChild = notation.renderer;\n            }\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    };\n\n    class_1.prototype.removeRedundantNotations = function () {\n      var e_2, _b, e_3, _c;\n\n      try {\n        for (var _d = __values(Object.keys(this.notations)), _e = _d.next(); !_e.done; _e = _d.next()) {\n          var name_2 = _e.value;\n\n          if (this.notations[name_2]) {\n            var remove = this.notations[name_2].remove || '';\n\n            try {\n              for (var _f = (e_3 = void 0, __values(remove.split(/ /))), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var notation = _g.value;\n                delete this.notations[notation];\n              }\n            } catch (e_3_1) {\n              e_3 = {\n                error: e_3_1\n              };\n            } finally {\n              try {\n                if (_g && !_g.done && (_c = _f.return)) _c.call(_f);\n              } finally {\n                if (e_3) throw e_3.error;\n              }\n            }\n          }\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n    };\n\n    class_1.prototype.initializeNotations = function () {\n      var e_4, _b;\n\n      try {\n        for (var _c = __values(Object.keys(this.notations)), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var name_3 = _d.value;\n          var init = this.notations[name_3].init;\n          init && init(this);\n        }\n      } catch (e_4_1) {\n        e_4 = {\n          error: e_4_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        } finally {\n          if (e_4) throw e_4.error;\n        }\n      }\n    };\n\n    class_1.prototype.computeBBox = function (bbox, recompute) {\n      if (recompute === void 0) {\n        recompute = false;\n      }\n\n      var _b = __read(this.TRBL, 4),\n          T = _b[0],\n          R = _b[1],\n          B = _b[2],\n          L = _b[3];\n\n      var child = this.childNodes[0].getBBox();\n      bbox.combine(child, L, 0);\n      bbox.h += T;\n      bbox.d += B;\n      bbox.w += R;\n      this.setChildPWidths(recompute);\n    };\n\n    class_1.prototype.getBBoxExtenders = function () {\n      var e_5, _b;\n\n      var TRBL = [0, 0, 0, 0];\n\n      try {\n        for (var _c = __values(Object.keys(this.notations)), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var name_4 = _d.value;\n          this.maximizeEntries(TRBL, this.notations[name_4].bbox(this));\n        }\n      } catch (e_5_1) {\n        e_5 = {\n          error: e_5_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        } finally {\n          if (e_5) throw e_5.error;\n        }\n      }\n\n      return TRBL;\n    };\n\n    class_1.prototype.getPadding = function () {\n      var e_6, _b;\n\n      var _this = this;\n\n      var BTRBL = [0, 0, 0, 0];\n\n      try {\n        for (var _c = __values(Object.keys(this.notations)), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var name_5 = _d.value;\n          var border = this.notations[name_5].border;\n\n          if (border) {\n            this.maximizeEntries(BTRBL, border(this));\n          }\n        }\n      } catch (e_6_1) {\n        e_6 = {\n          error: e_6_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        } finally {\n          if (e_6) throw e_6.error;\n        }\n      }\n\n      return [0, 1, 2, 3].map(function (i) {\n        return _this.TRBL[i] - BTRBL[i];\n      });\n    };\n\n    class_1.prototype.maximizeEntries = function (X, Y) {\n      for (var i = 0; i < X.length; i++) {\n        if (X[i] < Y[i]) {\n          X[i] = Y[i];\n        }\n      }\n    };\n\n    class_1.prototype.getOffset = function (direction) {\n      var _b = __read(this.TRBL, 4),\n          T = _b[0],\n          R = _b[1],\n          B = _b[2],\n          L = _b[3];\n\n      var d = (direction === 'X' ? R - L : B - T) / 2;\n      return Math.abs(d) > .001 ? d : 0;\n    };\n\n    class_1.prototype.getArgMod = function (w, h) {\n      return [Math.atan2(h, w), Math.sqrt(w * w + h * h)];\n    };\n\n    class_1.prototype.arrow = function (_w, _a, _double, _offset, _dist) {\n      if (_offset === void 0) {\n        _offset = '';\n      }\n\n      if (_dist === void 0) {\n        _dist = 0;\n      }\n\n      return null;\n    };\n\n    class_1.prototype.arrowData = function () {\n      var _b = __read([this.padding, this.thickness], 2),\n          p = _b[0],\n          t = _b[1];\n\n      var r = t * (this.arrowhead.x + Math.max(1, this.arrowhead.dx));\n\n      var _c = this.childNodes[0].getBBox(),\n          h = _c.h,\n          d = _c.d,\n          w = _c.w;\n\n      var H = h + d;\n      var R = Math.sqrt(H * H + w * w);\n      var x = Math.max(p, r * w / R);\n      var y = Math.max(p, r * H / R);\n\n      var _d = __read(this.getArgMod(w + 2 * x, H + 2 * y), 2),\n          a = _d[0],\n          W = _d[1];\n\n      return {\n        a: a,\n        W: W,\n        x: x,\n        y: y\n      };\n    };\n\n    class_1.prototype.arrowAW = function () {\n      var _b = this.childNodes[0].getBBox(),\n          h = _b.h,\n          d = _b.d,\n          w = _b.w;\n\n      var _c = __read(this.TRBL, 4),\n          T = _c[0],\n          R = _c[1],\n          B = _c[2],\n          L = _c[3];\n\n      return this.getArgMod(L + w + R, T + h + d + B);\n    };\n\n    class_1.prototype.createMsqrt = function (child) {\n      var mmlFactory = this.node.factory;\n      var mml = mmlFactory.create('msqrt');\n      mml.inheritAttributesFrom(this.node);\n      mml.childNodes[0] = child.node;\n      var node = this.wrap(mml);\n      node.parent = this;\n      return node;\n    };\n\n    class_1.prototype.sqrtTRBL = function () {\n      var bbox = this.msqrt.getBBox();\n      var cbox = this.msqrt.childNodes[0].getBBox();\n      return [bbox.h - cbox.h, 0, bbox.d - cbox.d, bbox.w - cbox.w];\n    };\n\n    return class_1;\n  }(Base);\n}\n\nexports.CommonMencloseMixin = CommonMencloseMixin;","map":{"version":3,"mappings":"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","names":["CommonMencloseMixin","Base","__extends","args","_this","Notation","PADDING","THICKNESS","x","ARROWX","y","ARROWY","dx","ARROWDX","getParameters","getNotations","removeRedundantNotations","initializeNotations","TRBL","getBBoxExtenders","class_1","attributes","node","padding","get","undefined","length2em","thickness","arrowhead","parseFloat","Notations","constructor","notations","_d","name_1","notation","renderChild","renderer","keys","_e","name_2","remove","split","_g","name_3","init","bbox","recompute","T","R","B","L","child","childNodes","getBBox","combine","h","d","w","setChildPWidths","name_4","maximizeEntries","BTRBL","name_5","border","map","i","X","Y","length","direction","Math","abs","atan2","sqrt","_w","_a","_double","_offset","_dist","p","t","r","max","H","getArgMod","a","W","mmlFactory","factory","mml","create","inheritAttributesFrom","wrap","parent","msqrt","cbox","exports"],"sourceRoot":"","sources":["../../../../ts/output/common/Wrappers/menclose.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}