{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useEffect}from'react';import Ratio from'react-ratio';import ShadertoyReact from'shadertoy-react';import{defaultShader}from'../ShaderStuff/defaultShader';import ReactScrollWheelHandler from'react-scroll-wheel-handler';import{fs}from'../ShaderStuff/sdfShader';import usePrimitivesHook from'../primitivesHook';import{ErrorBoundary}from'react-error-boundary';function ErrorFallback(_ref){var error=_ref.error,resetErrorBoundary=_ref.resetErrorBoundary;return/*#__PURE__*/React.createElement(\"div\",{role:\"alert\"},/*#__PURE__*/React.createElement(\"p\",null,\"Something went wrong:\"),/*#__PURE__*/React.createElement(\"pre\",null,error.message),/*#__PURE__*/React.createElement(\"button\",{onClick:resetErrorBoundary},\"Try again\"));}var myErrorHandler=function myErrorHandler(error,info){// Do something with the error\n// E.g. log to an error logging client here\nconsole.log(\"ERROR\");};export default function Shader(props){var _usePrimitivesHook=usePrimitivesHook(),_usePrimitivesHook2=_slicedToArray(_usePrimitivesHook,1),primitivesCode=_usePrimitivesHook2[0];useEffect(function(){},[props.shader,props.uniforms]);var _useState=useState(1.5),_useState2=_slicedToArray(_useState,2),zoom=_useState2[0],setZoom=_useState2[1];var zoomIncrement=0.5;return/*#__PURE__*/React.createElement(\"div\",{style:props.style},/*#__PURE__*/React.createElement(ReactScrollWheelHandler,{timeout:\"0\",wheelConfig:[100,1000,0.05],preventScroll:\"true \",upHandler:function upHandler(e){return setZoom(zoom+zoomIncrement);},downHandler:function downHandler(e){return setZoom(zoom-zoomIncrement);}},/*#__PURE__*/React.createElement(Ratio,{ratio:1},/*#__PURE__*/React.createElement(ErrorBoundary,{FallbackComponent:ErrorFallback,onError:myErrorHandler,onReset:function onReset(){// reset the state of your app so the error doesn't happen again\n}},/*#__PURE__*/React.createElement(ShadertoyReact,{fs:props.sdf?fs(props.sdf,primitivesCode):defaultShader(),key:props.sdf,uniforms:_objectSpread(_objectSpread({},props.uniforms),{},{u_zoom:{type:'1f',value:zoom},u_specular:{type:'3fv',value:[1.0,0.0,1.0]},u_diffuse:{type:'3fv',value:[1.0,0.0,0.0]},u_ambient:{type:'3fv',value:[0.2,0.2,0.2]},u_smoothness:{type:'1f',value:10.0}})})))));}","map":{"version":3,"names":["React","useState","useEffect","Ratio","ShadertoyReact","defaultShader","ReactScrollWheelHandler","fs","usePrimitivesHook","ErrorBoundary","ErrorFallback","error","resetErrorBoundary","message","myErrorHandler","info","console","log","Shader","props","primitivesCode","shader","uniforms","zoom","setZoom","zoomIncrement","style","e","sdf","u_zoom","type","value","u_specular","u_diffuse","u_ambient","u_smoothness"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomComponents/Shader.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nimport { useEffect } from 'react';\r\nimport Ratio from 'react-ratio';\r\nimport ShadertoyReact from 'shadertoy-react';\r\nimport { defaultShader } from '../ShaderStuff/defaultShader';\r\nimport ReactScrollWheelHandler from 'react-scroll-wheel-handler';\r\nimport { fs } from '../ShaderStuff/sdfShader';\r\nimport usePrimitivesHook from '../primitivesHook';\r\nimport { ErrorBoundary } from 'react-error-boundary';\r\n\r\nfunction ErrorFallback({ error, resetErrorBoundary }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <p>Something went wrong:</p>\r\n      <pre>{error.message}</pre>\r\n      <button onClick={resetErrorBoundary}>Try again</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst myErrorHandler = (error, info) => {\r\n  // Do something with the error\r\n  // E.g. log to an error logging client here\r\n  console.log(\"ERROR\");\r\n}\r\n\r\nexport default function Shader(props) {\r\n  const [primitivesCode] = usePrimitivesHook();\r\n\r\n  useEffect(() => {}, [props.shader, props.uniforms]);\r\n\r\n  const [zoom, setZoom] = useState(1.5);\r\n  const zoomIncrement = 0.5;\r\n  return (\r\n    <div style={props.style}>\r\n      <ReactScrollWheelHandler\r\n        timeout=\"0\"\r\n        wheelConfig={[100, 1000, 0.05]}\r\n        preventScroll=\"true \"\r\n        upHandler={(e) => setZoom(zoom + zoomIncrement)}\r\n        downHandler={(e) => setZoom(zoom - zoomIncrement)}\r\n      >\r\n        <Ratio ratio={1}>\r\n          <ErrorBoundary\r\n            FallbackComponent={ErrorFallback}\r\n            onError={myErrorHandler}\r\n            onReset={() => {\r\n              // reset the state of your app so the error doesn't happen again\r\n            }}\r\n          >\r\n            <ShadertoyReact\r\n              fs={props.sdf ? fs(props.sdf, primitivesCode) : defaultShader()}\r\n              key={props.sdf}\r\n              uniforms={{\r\n                ...props.uniforms,\r\n                u_zoom: { type: '1f', value: zoom },\r\n                u_specular: { type: '3fv', value: [1.0, 0.0, 1.0] },\r\n                u_diffuse: { type: '3fv', value: [1.0, 0.0, 0.0] },\r\n                u_ambient: { type: '3fv', value: [0.2, 0.2, 0.2] },\r\n                u_smoothness: { type: '1f', value: 10.0 },\r\n              }}\r\n            />\r\n          </ErrorBoundary>\r\n        </Ratio>\r\n      </ReactScrollWheelHandler>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"yTAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,MAAP,KAAkB,aAAlB,CACA,MAAOC,eAAP,KAA2B,iBAA3B,CACA,OAASC,aAAT,KAA8B,8BAA9B,CACA,MAAOC,wBAAP,KAAoC,4BAApC,CACA,OAASC,EAAT,KAAmB,0BAAnB,CACA,MAAOC,kBAAP,KAA8B,mBAA9B,CACA,OAASC,aAAT,KAA8B,sBAA9B,CAEA,QAASC,cAAT,MAAsD,IAA7BC,MAA6B,MAA7BA,KAA6B,CAAtBC,kBAAsB,MAAtBA,kBAAsB,CACpD,mBACE,2BAAK,IAAI,CAAC,OAAV,eACE,qDADF,cAEE,+BAAMD,KAAK,CAACE,OAAZ,CAFF,cAGE,8BAAQ,OAAO,CAAED,kBAAjB,cAHF,CADF,CAOD,CAED,GAAME,eAAc,CAAG,QAAjBA,eAAiB,CAACH,KAAD,CAAQI,IAAR,CAAiB,CACtC;AACA;AACAC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACD,CAJD,CAMA,cAAe,SAASC,OAAT,CAAgBC,KAAhB,CAAuB,CACpC,uBAAyBX,iBAAiB,EAA1C,0DAAOY,cAAP,wBAEAlB,SAAS,CAAC,UAAM,CAAE,CAAT,CAAW,CAACiB,KAAK,CAACE,MAAP,CAAeF,KAAK,CAACG,QAArB,CAAX,CAAT,CAEA,cAAwBrB,QAAQ,CAAC,GAAD,CAAhC,wCAAOsB,IAAP,eAAaC,OAAb,eACA,GAAMC,cAAa,CAAG,GAAtB,CACA,mBACE,2BAAK,KAAK,CAAEN,KAAK,CAACO,KAAlB,eACE,oBAAC,uBAAD,EACE,OAAO,CAAC,GADV,CAEE,WAAW,CAAE,CAAC,GAAD,CAAM,IAAN,CAAY,IAAZ,CAFf,CAGE,aAAa,CAAC,OAHhB,CAIE,SAAS,CAAE,mBAACC,CAAD,QAAOH,QAAO,CAACD,IAAI,CAAGE,aAAR,CAAd,EAJb,CAKE,WAAW,CAAE,qBAACE,CAAD,QAAOH,QAAO,CAACD,IAAI,CAAGE,aAAR,CAAd,EALf,eAOE,oBAAC,KAAD,EAAO,KAAK,CAAE,CAAd,eACE,oBAAC,aAAD,EACE,iBAAiB,CAAEf,aADrB,CAEE,OAAO,CAAEI,cAFX,CAGE,OAAO,CAAE,kBAAM,CACb;AACD,CALH,eAOE,oBAAC,cAAD,EACE,EAAE,CAAEK,KAAK,CAACS,GAAN,CAAYrB,EAAE,CAACY,KAAK,CAACS,GAAP,CAAYR,cAAZ,CAAd,CAA4Cf,aAAa,EAD/D,CAEE,GAAG,CAAEc,KAAK,CAACS,GAFb,CAGE,QAAQ,gCACHT,KAAK,CAACG,QADH,MAENO,MAAM,CAAE,CAAEC,IAAI,CAAE,IAAR,CAAcC,KAAK,CAAER,IAArB,CAFF,CAGNS,UAAU,CAAE,CAAEF,IAAI,CAAE,KAAR,CAAeC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAtB,CAHN,CAINE,SAAS,CAAE,CAAEH,IAAI,CAAE,KAAR,CAAeC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAtB,CAJL,CAKNG,SAAS,CAAE,CAAEJ,IAAI,CAAE,KAAR,CAAeC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAtB,CALL,CAMNI,YAAY,CAAE,CAAEL,IAAI,CAAE,IAAR,CAAcC,KAAK,CAAE,IAArB,CANR,EAHV,EAPF,CADF,CAPF,CADF,CADF,CAkCD"},"metadata":{},"sourceType":"module"}