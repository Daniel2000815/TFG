{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import React,{useState,useEffect}from'react';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell,{tableCellClasses}from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Typography from'@mui/material/Typography';import Paper from'@mui/material/Paper';import{styled}from'@mui/material/styles';import TextField from'@mui/material/TextField';import Button from'@mui/material/Button';import IconButton from'@mui/material/IconButton';import DeleteIcon from'@mui/icons-material/Delete';var StyledTableCell=styled(TableCell)(function(_ref){var _ref2;var theme=_ref.theme;return _ref2={},_defineProperty(_ref2,\"&.\".concat(tableCellClasses.head),{backgroundColor:'#DDDDDD',color:'black'}),_defineProperty(_ref2,\"&.\".concat(tableCellClasses.body),{fontSize:14}),_ref2;});var StyledTableRow=styled(TableRow)(function(_ref3){var theme=_ref3.theme;return{'&:nth-of-type(odd)':{backgroundColor:theme.palette.action.hover},// hide last border\n'&:last-child td, &:last-child th':{border:0}};});var columns=[{id:'symbol',label:'Symbol',minWidth:70},{id:'label',label:'Label',minWidth:70},{id:'defaultVal',label:'Default Value',minWidth:70}];function EnhancedTableHead(props){return/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(StyledTableRow,null,/*#__PURE__*/React.createElement(StyledTableCell,null),props.columns.map(function(headCell){return/*#__PURE__*/React.createElement(StyledTableCell,{sx:{minWidth:headCell.minWidth},key:headCell.id,align:headCell.numeric?'right':'left'},/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},/*#__PURE__*/React.createElement(\"b\",null,headCell.label)));})));}function createParameter(){var symbol=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var label=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var defaultVal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';return{symbol:symbol,label:label,defaultVal:defaultVal};}export default function CustomInputTable(props){var _useState=useState(props.rows),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],setRows=_useState2[1];useEffect(function(){console.log(rows);},[rows]);var handleRowChange=function handleRowChange(row,column,value){var newRows=_toConsumableArray(rows);console.log(\"HANDLEANDO: \"+column);newRows[row][column]=column==='defaultVal'?parseFloat(value,10):value;// TODO: check if valid\nsetRows(newRows);props.handleNewParameters(rows);};var handleAdd=function handleAdd(){setRows(rows.concat(createParameter()));};var handleDelete=function handleDelete(index){setRows(_toConsumableArray(rows.slice(0,index)));};return/*#__PURE__*/React.createElement(Paper,{sx:{width:'100%',overflow:'hidden'}},/*#__PURE__*/React.createElement(TableContainer,{style:{border:'1px solid grey'},sx:{maxHeight:440}},/*#__PURE__*/React.createElement(Table,{stickyHeader:true,size:\"small\",\"aria-label\":\"sticky table\"},/*#__PURE__*/React.createElement(EnhancedTableHead,{columns:columns}),/*#__PURE__*/React.createElement(TableBody,null,rows.map(function(row,index){return/*#__PURE__*/React.createElement(StyledTableRow,{hover:true,tabIndex:-1,key:row.id},/*#__PURE__*/React.createElement(StyledTableCell,{padding:\"checkbox\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return handleDelete(index);},\"aria-label\":\"delete\"},/*#__PURE__*/React.createElement(DeleteIcon,null))),columns.map(function(column){var value=row[column.id];return/*#__PURE__*/React.createElement(StyledTableCell,{key:column.id,align:column.align},/*#__PURE__*/React.createElement(TextField,{defaultValue:value,id:\"standard-basic\",variant:\"standard\",error:value==='',onChange:function onChange(e){return handleRowChange(index,column.id,e.target.value);}}));}));}))),/*#__PURE__*/React.createElement(Button,{onClick:handleAdd,style:{width:'100%'}},\"+\")));}","map":{"version":3,"names":["React","useState","useEffect","Table","TableBody","TableCell","tableCellClasses","TableContainer","TableHead","TableRow","Typography","Paper","styled","TextField","Button","IconButton","DeleteIcon","StyledTableCell","theme","head","backgroundColor","color","body","fontSize","StyledTableRow","palette","action","hover","border","columns","id","label","minWidth","EnhancedTableHead","props","map","headCell","numeric","createParameter","symbol","defaultVal","CustomInputTable","rows","setRows","console","log","handleRowChange","row","column","value","newRows","parseFloat","handleNewParameters","handleAdd","concat","handleDelete","index","slice","width","overflow","maxHeight","align","e","target"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomComponents/CustomInputTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell, { tableCellClasses } from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport { styled } from '@mui/material/styles';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\n\r\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n  [`&.${tableCellClasses.head}`]: {\r\n    backgroundColor: '#DDDDDD',\r\n    color: 'black',\r\n  },\r\n  [`&.${tableCellClasses.body}`]: {\r\n    fontSize: 14,\r\n  },\r\n}));\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n  '&:nth-of-type(odd)': {\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n  // hide last border\r\n  '&:last-child td, &:last-child th': {\r\n    border: 0,\r\n  },\r\n}));\r\n\r\nconst columns = [\r\n  { id: 'symbol', label: 'Symbol', minWidth: 70 },\r\n  { id: 'label', label: 'Label', minWidth: 70 },\r\n  { id: 'defaultVal', label: 'Default Value', minWidth: 70 },\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n  return (\r\n    <TableHead>\r\n      \r\n      <StyledTableRow>\r\n      <StyledTableCell/>\r\n        {props.columns.map((headCell) => (\r\n          <StyledTableCell\r\n            sx={{ minWidth: headCell.minWidth }}\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n          >\r\n            <Typography variant=\"subtitle1\">\r\n              <b>{headCell.label}</b>\r\n            </Typography>\r\n          </StyledTableCell>\r\n        ))}\r\n      </StyledTableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nfunction createParameter(symbol = '', label = '', defaultVal = '') {\r\n  return {\r\n    symbol: symbol,\r\n    label: label,\r\n    defaultVal: defaultVal,\r\n  };\r\n}\r\n\r\nexport default function CustomInputTable(props) {\r\n  const [rows, setRows] = useState(props.rows);\r\n\r\n  useEffect(() => {\r\n    console.log(rows);\r\n  }, [rows]);\r\n\r\n  const handleRowChange = (row, column, value) => {\r\n    let newRows = [...rows];\r\n    console.log(\"HANDLEANDO: \" + column);\r\n    newRows[row][column] = column==='defaultVal' ? parseFloat(value,10) : value;\r\n\r\n    // TODO: check if valid\r\n\r\n    setRows(newRows);\r\n    props.handleNewParameters(rows);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    setRows(rows.concat(createParameter()));\r\n  };\r\n\r\n  const handleDelete = (index) => {\r\n    setRows([\r\n      ...rows.slice(0, index)]);\r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ width: '100%', overflow: 'hidden' }}>\r\n      <TableContainer\r\n        style={{ border: '1px solid grey' }}\r\n        sx={{ maxHeight: 440 }}\r\n      >\r\n        <Table stickyHeader size=\"small\" aria-label=\"sticky table\">\r\n          <EnhancedTableHead columns={columns} />\r\n          <TableBody>\r\n            {rows.map((row, index) => {\r\n              return (\r\n                <StyledTableRow hover tabIndex={-1} key={row.id}>\r\n                  <StyledTableCell padding=\"checkbox\">\r\n                  <IconButton onClick={()=>handleDelete(index)} aria-label=\"delete\">\r\n                <DeleteIcon />\r\n              </IconButton>\r\n                  </StyledTableCell>\r\n\r\n                  {columns.map((column) => {\r\n                    const value = row[column.id];\r\n                    return (\r\n                      <StyledTableCell key={column.id} align={column.align}>\r\n                        <TextField\r\n                          defaultValue={value}\r\n                          id=\"standard-basic\"\r\n                          variant=\"standard\"\r\n                          error={value === ''}\r\n                          onChange={(e) =>\r\n                            handleRowChange(index, column.id, e.target.value)\r\n                          }\r\n                        />\r\n                      </StyledTableCell>\r\n                    );\r\n                  })}\r\n                </StyledTableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n        <Button onClick={handleAdd} style={{ width: '100%' }}>\r\n          +\r\n        </Button>\r\n      </TableContainer>\r\n    </Paper>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}