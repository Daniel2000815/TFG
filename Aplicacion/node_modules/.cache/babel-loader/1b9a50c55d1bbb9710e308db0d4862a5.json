{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommonMpaddedMixin = void 0;\n\nfunction CommonMpaddedMixin(Base) {\n  return function (_super) {\n    __extends(class_1, _super);\n\n    function class_1() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    class_1.prototype.getDimens = function () {\n      var values = this.node.attributes.getList('width', 'height', 'depth', 'lspace', 'voffset');\n      var bbox = this.childNodes[0].getBBox();\n      var w = bbox.w,\n          h = bbox.h,\n          d = bbox.d;\n      var W = w,\n          H = h,\n          D = d,\n          x = 0,\n          y = 0,\n          dx = 0;\n      if (values.width !== '') w = this.dimen(values.width, bbox, 'w', 0);\n      if (values.height !== '') h = this.dimen(values.height, bbox, 'h', 0);\n      if (values.depth !== '') d = this.dimen(values.depth, bbox, 'd', 0);\n      if (values.voffset !== '') y = this.dimen(values.voffset, bbox);\n      if (values.lspace !== '') x = this.dimen(values.lspace, bbox);\n      var align = this.node.attributes.get('data-align');\n\n      if (align) {\n        dx = this.getAlignX(w, bbox, align);\n      }\n\n      return [H, D, W, h - H, d - D, w - W, x, y, dx];\n    };\n\n    class_1.prototype.dimen = function (length, bbox, d, m) {\n      if (d === void 0) {\n        d = '';\n      }\n\n      if (m === void 0) {\n        m = null;\n      }\n\n      length = String(length);\n      var match = length.match(/width|height|depth/);\n      var size = match ? bbox[match[0].charAt(0)] : d ? bbox[d] : 0;\n      var dimen = this.length2em(length, size) || 0;\n\n      if (length.match(/^[-+]/) && d) {\n        dimen += size;\n      }\n\n      if (m != null) {\n        dimen = Math.max(m, dimen);\n      }\n\n      return dimen;\n    };\n\n    class_1.prototype.computeBBox = function (bbox, recompute) {\n      if (recompute === void 0) {\n        recompute = false;\n      }\n\n      var _a = __read(this.getDimens(), 6),\n          H = _a[0],\n          D = _a[1],\n          W = _a[2],\n          dh = _a[3],\n          dd = _a[4],\n          dw = _a[5];\n\n      bbox.w = W + dw;\n      bbox.h = H + dh;\n      bbox.d = D + dd;\n      this.setChildPWidths(recompute, bbox.w);\n    };\n\n    class_1.prototype.getWrapWidth = function (_i) {\n      return this.getBBox().w;\n    };\n\n    class_1.prototype.getChildAlign = function (_i) {\n      return this.node.attributes.get('data-align') || 'left';\n    };\n\n    return class_1;\n  }(Base);\n}\n\nexports.CommonMpaddedMixin = CommonMpaddedMixin;","map":{"version":3,"mappings":"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","names":["CommonMpaddedMixin","Base","__extends","class_1","values","node","attributes","getList","bbox","childNodes","getBBox","h","d","W","w","H","D","x","y","dx","width","dimen","height","depth","voffset","lspace","align","get","getAlignX","length","m","String","match","size","charAt","length2em","Math","max","recompute","getDimens","dh","dd","dw","setChildPWidths","_i","exports"],"sourceRoot":"","sources":["../../../../ts/output/common/Wrappers/mpadded.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}