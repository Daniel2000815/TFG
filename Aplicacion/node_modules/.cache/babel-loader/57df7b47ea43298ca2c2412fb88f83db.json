{"ast":null,"code":"import _defineProperty from \"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"G:\\\\gitlab\\\\TFG\\\\Aplicacion\\\\src\\\\CustomNodes\\\\CustomNode.js\";\nimport React, { useEffect, useContext } from \"react\";\nimport Shader from \"../CustomComponents/Shader\";\nimport { useTheme } from '@mui/material/styles';\nimport { fs } from \"../ShaderStuff/fragmentShaderMovable\";\nimport Dropdown from \"../CustomComponents/Dropdown\";\nimport CustomHandle from \"./CustomHandle\";\nimport GraphContext from \"../GraphContext.js\";\nimport Button from \"@mui/material/Button\";\nimport ToggleButton from \"../CustomComponents/ToggleButton\";\nexport default function CustomNode(props) {\n  var _nodeStyle;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showMore = _React$useState2[0],\n      setShowMore = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isHover = _React$useState4[0],\n      setIsHover = _React$useState4[1];\n\n  var sharedFunctions = useContext(GraphContext);\n  var theme = useTheme();\n  var nodeStyle = (_nodeStyle = {\n    position: \"relative\",\n    minWidth: \"150px\",\n    maxWidth: \"150px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    transition: \"border 300ms ease\",\n    boxShadow: \"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\",\n    borderRadius: \"7px 7px 7px 7px\",\n    border: \"1px solid orange\",\n    borderBottomWidth: \"10px solid #000\",\n    backgroundColor: \"#fff\"\n  }, _defineProperty(_nodeStyle, \"boxShadow\", \"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\"), _defineProperty(_nodeStyle, \"&:hover\", {\n    transition: \"box-shadow 200ms ease\",\n    boxShadow: \"0 6px 12px rgba(0, 0, 0, 0.25), 0 6px 12px rgba(0, 0, 0, 0.25)\"\n  }), _nodeStyle);\n\n  var handleMouseEnter = function handleMouseEnter() {\n    console.log(theme); //setIsHover(true);\n\n    console.log(\"Enter\");\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    //setIsHover(false);\n    console.log(\"Exit\");\n  };\n\n  useEffect(function () {\n    console.log(\"SDF DE \".concat(props.id, \" MODIFICADO\"));\n    sharedFunctions.updateNodeSdf(props.id, props.sdf);\n    console.log(props.dropdownOptions[0]);\n  }, [props.sdf]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    style: nodeStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-node-header custom-node-header-\".concat(props.styleClass),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, props.title), props.dropdownOptions ? /*#__PURE__*/React.createElement(Dropdown, {\n    defaultValue: props.dropdownOptions[0],\n    onChange: props.onChangeOption,\n    items: props.dropdownOptions,\n    label: props.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }) : null, /*#__PURE__*/React.createElement(CustomHandle, {\n    id: \"0\",\n    type: \"target\",\n    onConnect: function onConnect(params) {\n      return console.log(\"handle ss\", params);\n    },\n    style: {\n      top: \"45%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CustomHandle, {\n    id: \"1\",\n    type: \"target\",\n    onConnect: function onConnect(params) {\n      return props.data.updateBooleanPrimitive(params.source, params.target);\n    },\n    style: {\n      top: \"55%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CustomHandle, {\n    id: \"2\",\n    type: \"source\",\n    onConnect: function onConnect(params) {\n      return console.log(\"handle onsConnect\", params);\n    },\n    style: {\n      top: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), showMore ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, \"ID: \".concat(props.id)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"CHILDREN:\", \" \", Object.keys(props.data.children).map(function (key) {\n    return \"\".concat(props.data.children[key]);\n  }).join(\", \")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"SDF: \".concat(props.sdf)), props.body, /*#__PURE__*/React.createElement(Shader, {\n    shader: fs(props.sdf),\n    uniforms: {\n      color: {\n        type: \"3fv\",\n        value: [1.0, 1.0, 0.0]\n      }\n    },\n    style: {\n      margin: \"10px\",\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  })) : null, /*#__PURE__*/React.createElement(ToggleButton, {\n    value: showMore,\n    onClick: function onClick() {\n      return setShowMore(!showMore);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","useContext","Shader","useTheme","fs","Dropdown","CustomHandle","GraphContext","Button","ToggleButton","CustomNode","props","useState","showMore","setShowMore","isHover","setIsHover","sharedFunctions","theme","nodeStyle","position","minWidth","maxWidth","display","flexDirection","transition","boxShadow","borderRadius","border","borderBottomWidth","backgroundColor","handleMouseEnter","console","log","handleMouseLeave","id","updateNodeSdf","sdf","dropdownOptions","styleClass","title","onChangeOption","params","top","data","updateBooleanPrimitive","source","target","Object","keys","children","map","key","join","body","color","type","value","margin","height"],"sources":["G:/gitlab/TFG/Aplicacion/src/CustomNodes/CustomNode.js"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport Shader from \"../CustomComponents/Shader\";\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nimport { fs } from \"../ShaderStuff/fragmentShaderMovable\";\r\nimport Dropdown from \"../CustomComponents/Dropdown\";\r\nimport CustomHandle from \"./CustomHandle\";\r\nimport GraphContext from \"../GraphContext.js\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nimport ToggleButton from \"../CustomComponents/ToggleButton\";\r\n\r\nexport default function CustomNode(props) {\r\n  const [showMore, setShowMore] = React.useState(true);\r\n  const [isHover, setIsHover] = React.useState(false);\r\n  \r\n  const sharedFunctions = useContext(GraphContext);\r\n  const theme = useTheme();\r\n\r\n  \r\nconst nodeStyle = {\r\n  position: \"relative\",\r\n  minWidth: \"150px\",\r\n  maxWidth: \"150px\",\r\n  \r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  \r\n  \r\n  transition: \"border 300ms ease\",\r\n  boxShadow: \"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\",\r\n\r\n  borderRadius: \"7px 7px 7px 7px\",\r\n  border: `1px solid orange`,\r\n  borderBottomWidth: \"10px solid #000\",\r\n\r\n  backgroundColor: \"#fff\",\r\n\r\n  boxShadow: \"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)\",  \r\n\r\n  \"&:hover\": {\r\n    transition: \"box-shadow 200ms ease\",\r\n    boxShadow: \"0 6px 12px rgba(0, 0, 0, 0.25), 0 6px 12px rgba(0, 0, 0, 0.25)\"\r\n  },\r\n}\r\n\r\n  const handleMouseEnter = () => {\r\n    console.log(theme);\r\n    //setIsHover(true);\r\n    console.log(\"Enter\");\r\n };\r\n\r\n const handleMouseLeave = () => {\r\n    //setIsHover(false);\r\n    console.log(\"Exit\");\r\n };\r\n\r\n  useEffect(() => {\r\n    console.log(`SDF DE ${props.id} MODIFICADO`);\r\n    sharedFunctions.updateNodeSdf(props.id, props.sdf);\r\n    console.log(props.dropdownOptions[0]);\r\n  }, [props.sdf]);\r\n\r\n  return (\r\n    <div  onMouseEnter={handleMouseEnter}\r\n    onMouseLeave={handleMouseLeave} style={nodeStyle}>\r\n      <div className={`custom-node-header custom-node-header-${props.styleClass}`}>{props.title}</div>\r\n      {props.dropdownOptions ? (\r\n        <Dropdown\r\n          defaultValue={props.dropdownOptions[0]}\r\n          onChange={props.onChangeOption}\r\n          items={props.dropdownOptions}\r\n          label={props.title}\r\n        />\r\n      ) : null}\r\n      <CustomHandle\r\n        id={\"0\"}\r\n        type=\"target\"\r\n        onConnect={(params) => console.log(\"handle ss\", params)}\r\n        style={{ top: \"45%\" }}\r\n      />\r\n      <CustomHandle\r\n        id={\"1\"}\r\n        type=\"target\"\r\n        onConnect={(params) =>\r\n          props.data.updateBooleanPrimitive(params.source, params.target)\r\n        }\r\n        style={{ top: \"55%\" }}\r\n      />\r\n      <CustomHandle\r\n        id={\"2\"}\r\n        type=\"source\"\r\n        onConnect={(params) => console.log(\"handle onsConnect\", params)}\r\n        style={{ top: \"50%\" }}\r\n      />\r\n\r\n\r\n      {showMore ? (\r\n        <>\r\n          <p>{`ID: ${props.id}`}</p>\r\n          <p>\r\n            CHILDREN:{\" \"}\r\n            {Object.keys(props.data.children)\r\n              .map((key) => `${props.data.children[key]}`)\r\n              .join(\", \")}\r\n          </p>\r\n          <p>{`SDF: ${props.sdf}`}</p>\r\n\r\n\r\n\r\n          {props.body}\r\n          <Shader\r\n            shader={fs(props.sdf)}\r\n            uniforms={{\r\n              color: { type: \"3fv\", value: [1.0, 1.0, 0.0] },\r\n\r\n            }}\r\n            style={{ margin: \"10px\", height: \"100%\" }}\r\n          />\r\n        </>\r\n      ) : null}\r\n\r\n\r\n      <ToggleButton value={showMore} onClick={() => setShowMore(!showMore)}/>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}