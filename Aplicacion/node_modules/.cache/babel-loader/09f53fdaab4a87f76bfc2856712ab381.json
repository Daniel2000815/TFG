{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport nerdamer from \"nerdamer\";\n\nvar Polynomial = /*#__PURE__*/function () {\n  function Polynomial(p) {\n    _classCallCheck(this, Polynomial);\n\n    this.pol = \"0\";\n    this.lc = \"0\";\n\n    try {\n      this.pol = nerdamer(p).simplify().toString();\n    } catch (e) {\n      console.log(\"ERROR PARSING POLYNOMIAL \".concat(p));\n    }\n\n    console.log(this.pol);\n  }\n\n  _createClass(Polynomial, [{\n    key: \"traverseTree\",\n    value: function (_traverseTree) {\n      function traverseTree(_x) {\n        return _traverseTree.apply(this, arguments);\n      }\n\n      traverseTree.toString = function () {\n        return _traverseTree.toString();\n      };\n\n      return traverseTree;\n    }(function (pol) {\n      var node = nerdamer.tree(pol);\n      console.log(parametersInput);\n      var parametersSymbols = Object.keys(parametersInput).map(function (val, key) {\n        return parametersInput[key].symbol;\n      });\n\n      if (node) {\n        console.log(\"ES NO LO SE\");\n        console.log(node);\n\n        if (node.type === 'VARIABLE_OR_LITERAL') {\n          var isVariable = [].concat(_toConsumableArray(parametersSymbols), ['x', 'y', 'z']).includes(node.value);\n          console.log(\"ES LITERAL\");\n          console.log(\"SYMBOLS\");\n          console.log(parametersSymbols);\n          console.log(isVariable);\n          console.log(node.value);\n          return isVariable ? node.value : parseFloat(node.value).toFixed(4);\n        }\n\n        if (node.type === 'OPERATOR') {\n          var left = traverseTree(node.left);\n          var right = traverseTree(node.right);\n          console.log(\"RIGHT, LEFT\");\n          console.log(right);\n          console.log(left);\n\n          if (node.value === '^') {\n            console.log(\"ES OPERATOR\");\n            console.log(node);\n            return \"pow(\".concat(left, \", \").concat(right, \")\");\n          } else {\n            if (right && left) return \"(\".concat(left, \")\").concat(node.value, \"(\").concat(right, \")\");else if (left) return \"\".concat(node.value, \"(\").concat(left, \")\");else return '????';\n          } // return node.toString();\n\n        }\n\n        if (node.type === 'FUNCTION') {\n          var _left = traverseTree(node.left);\n\n          var _right = traverseTree(node.right);\n\n          if (node.value === '^') {\n            console.log(\"ES F\");\n            console.log(node);\n            return \"pow(\".concat(_left, \", \").concat(_right, \")\");\n          } else {\n            if (_right) return \"\".concat(node.value, \"(\").concat(_right, \")\");else return '????';\n          }\n        }\n      }\n    })\n  }]);\n\n  return Polynomial;\n}();\n\nexport { Polynomial as default };","map":{"version":3,"names":["nerdamer","Polynomial","p","pol","lc","simplify","toString","e","console","log","node","tree","parametersInput","parametersSymbols","Object","keys","map","val","key","symbol","type","isVariable","includes","value","parseFloat","toFixed","left","traverseTree","right"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/Polynomial.js"],"sourcesContent":["import nerdamer from \"nerdamer\";\r\n\r\nexport default class Polynomial {\r\n    pol = \"0\";\r\n    lc = \"0\";\r\n\r\n    constructor(p){\r\n        try{\r\n            this.pol = nerdamer(p).simplify().toString();\r\n        }catch(e){\r\n            console.log(`ERROR PARSING POLYNOMIAL ${p}`);\r\n        }\r\n\r\n        console.log(this.pol);\r\n    }\r\n\r\n    traverseTree(pol) {\r\n        let node = nerdamer.tree(pol);\r\n        console.log(parametersInput);\r\n        const parametersSymbols = Object.keys(parametersInput).map((val, key) => parametersInput[key].symbol);\r\n    \r\n        if (node) {\r\n          console.log(\"ES NO LO SE\");\r\n          console.log(node);\r\n          if (node.type === 'VARIABLE_OR_LITERAL') {\r\n            const isVariable = [...parametersSymbols, 'x', 'y', 'z'].includes(node.value);\r\n            console.log(\"ES LITERAL\");\r\n            console.log(\"SYMBOLS\");\r\n            console.log(parametersSymbols);\r\n            console.log(isVariable);\r\n            console.log(node.value);\r\n            return isVariable ? node.value : parseFloat(node.value).toFixed(4);\r\n          }\r\n          if (node.type === 'OPERATOR') {\r\n            let left = traverseTree(node.left);\r\n            let right = traverseTree(node.right);\r\n            console.log(\"RIGHT, LEFT\");\r\n            console.log(right);\r\n            console.log(left);\r\n    \r\n            if (node.value === '^') {\r\n              console.log(\"ES OPERATOR\");\r\n              console.log(node);\r\n              return `pow(${left}, ${right})`;\r\n            } else {\r\n              if (right && left) return `(${left})${node.value}(${right})`;\r\n              else if (left) return `${node.value}(${left})`;\r\n              else return '????';\r\n            }\r\n    \r\n            // return node.toString();\r\n          }\r\n          if (node.type === 'FUNCTION') {\r\n            let left = traverseTree(node.left);\r\n            let right = traverseTree(node.right);\r\n    \r\n            if (node.value === '^') {\r\n              console.log(\"ES F\");\r\n              console.log(node);\r\n              return `pow(${left}, ${right})`;\r\n            } else {\r\n              if (right) return `${node.value}(${right})`;\r\n              else return '????';\r\n            }\r\n          }\r\n        }\r\n      };\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}