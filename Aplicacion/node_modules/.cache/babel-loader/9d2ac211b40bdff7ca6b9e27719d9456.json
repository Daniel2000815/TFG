{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\daniz\\\\TFG\\\\Aplicacion\\\\src\\\\CustomComponents\\\\Shader.js\";\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport Ratio from 'react-ratio';\nimport ShadertoyReact from 'shadertoy-react';\nimport { defaultShader } from '../ShaderStuff/defaultShader';\nimport ReactScrollWheelHandler from 'react-scroll-wheel-handler';\nimport { fs } from '../ShaderStuff/sdfShader';\nimport usePrimitivesHook from '../primitivesHook';\nimport { ErrorBoundary } from 'react-error-boundary';\n\nfunction ErrorFallback(_ref) {\n  var error = _ref.error,\n      resetErrorBoundary = _ref.resetErrorBoundary;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, \"Something went wrong:\"), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, error.message), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: resetErrorBoundary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, \"Try again\"));\n}\n\nvar myErrorHandler = function myErrorHandler(error, info) {\n  // Do something with the error\n  // E.g. log to an error logging client here\n  console.log(\"ERROR\");\n};\n\nexport default function Shader(props) {\n  var _usePrimitivesHook = usePrimitivesHook(),\n      _usePrimitivesHook2 = _slicedToArray(_usePrimitivesHook, 2),\n      primitivesCode = _usePrimitivesHook2[0],\n      setPrimitivesCode = _usePrimitivesHook2[1];\n\n  useEffect(function () {}, [props.shader, props.uniforms]);\n\n  var _useState = useState(10.0),\n      _useState2 = _slicedToArray(_useState, 2),\n      zoom = _useState2[0],\n      setZoom = _useState2[1];\n\n  var zoomIncrement = 0.5;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: props.style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactScrollWheelHandler, {\n    timeout: \"0\",\n    wheelConfig: [100, 1000, 0.05],\n    preventScroll: \"true \",\n    upHandler: function upHandler(e) {\n      return setZoom(zoom + zoomIncrement);\n    },\n    downHandler: function downHandler(e) {\n      return setZoom(zoom - zoomIncrement);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Ratio, {\n    ratio: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ErrorBoundary, {\n    FallbackComponent: ErrorFallback,\n    onError: myErrorHandler,\n    onReset: function onReset() {// reset the state of your app so the error doesn't happen again\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ShadertoyReact, {\n    fs: props.sdf ? fs(props.sdf, primitivesCode) : defaultShader(),\n    key: props.sdf,\n    uniforms: _objectSpread(_objectSpread({}, props.uniforms), {}, {\n      u_zoom: {\n        type: '1f',\n        value: zoom\n      },\n      u_specular: {\n        type: '3fv',\n        value: [1.0, 0.0, 1.0]\n      },\n      u_diffuse: {\n        type: '3fv',\n        value: [1.0, 0.0, 0.0]\n      },\n      u_ambient: {\n        type: '3fv',\n        value: [0.2, 0.2, 0.2]\n      },\n      u_smoothness: {\n        type: '1f',\n        value: 10.0\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"names":["React","useState","useEffect","Ratio","ShadertoyReact","defaultShader","ReactScrollWheelHandler","fs","usePrimitivesHook","ErrorBoundary","ErrorFallback","error","resetErrorBoundary","message","myErrorHandler","info","console","log","Shader","props","primitivesCode","setPrimitivesCode","shader","uniforms","zoom","setZoom","zoomIncrement","style","e","sdf","u_zoom","type","value","u_specular","u_diffuse","u_ambient","u_smoothness"],"sources":["C:/Users/daniz/TFG/Aplicacion/src/CustomComponents/Shader.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nimport { useEffect } from 'react';\r\nimport Ratio from 'react-ratio';\r\nimport ShadertoyReact from 'shadertoy-react';\r\nimport { defaultShader } from '../ShaderStuff/defaultShader';\r\nimport ReactScrollWheelHandler from 'react-scroll-wheel-handler';\r\nimport { fs } from '../ShaderStuff/sdfShader';\r\nimport usePrimitivesHook from '../primitivesHook';\r\nimport { ErrorBoundary } from 'react-error-boundary';\r\n\r\nfunction ErrorFallback({ error, resetErrorBoundary }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <p>Something went wrong:</p>\r\n      <pre>{error.message}</pre>\r\n      <button onClick={resetErrorBoundary}>Try again</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst myErrorHandler = (error, info) => {\r\n  // Do something with the error\r\n  // E.g. log to an error logging client here\r\n  console.log(\"ERROR\");\r\n}\r\n\r\nexport default function Shader(props) {\r\n  const [primitivesCode, setPrimitivesCode] = usePrimitivesHook();\r\n\r\n  useEffect(() => {}, [props.shader, props.uniforms]);\r\n\r\n  const [zoom, setZoom] = useState(10.0);\r\n  const zoomIncrement = 0.5;\r\n  return (\r\n    <div style={props.style}>\r\n      <ReactScrollWheelHandler\r\n        timeout=\"0\"\r\n        wheelConfig={[100, 1000, 0.05]}\r\n        preventScroll=\"true \"\r\n        upHandler={(e) => setZoom(zoom + zoomIncrement)}\r\n        downHandler={(e) => setZoom(zoom - zoomIncrement)}\r\n      >\r\n        <Ratio ratio={1}>\r\n          <ErrorBoundary\r\n            FallbackComponent={ErrorFallback}\r\n            onError={myErrorHandler}\r\n            onReset={() => {\r\n              // reset the state of your app so the error doesn't happen again\r\n            }}\r\n          >\r\n            <ShadertoyReact\r\n              fs={props.sdf ? fs(props.sdf, primitivesCode) : defaultShader()}\r\n              key={props.sdf}\r\n              uniforms={{\r\n                ...props.uniforms,\r\n                u_zoom: { type: '1f', value: zoom },\r\n                u_specular: { type: '3fv', value: [1.0, 0.0, 1.0] },\r\n                u_diffuse: { type: '3fv', value: [1.0, 0.0, 0.0] },\r\n                u_ambient: { type: '3fv', value: [0.2, 0.2, 0.2] },\r\n                u_smoothness: { type: '1f', value: 10.0 },\r\n              }}\r\n            />\r\n          </ErrorBoundary>\r\n        </Ratio>\r\n      </ReactScrollWheelHandler>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}