{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommonMtableMixin = void 0;\n\nvar BBox_js_1 = require(\"../../../util/BBox.js\");\n\nvar string_js_1 = require(\"../../../util/string.js\");\n\nvar numeric_js_1 = require(\"../../../util/numeric.js\");\n\nfunction CommonMtableMixin(Base) {\n  return function (_super) {\n    __extends(class_1, _super);\n\n    function class_1() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var _this = _super.apply(this, __spreadArray([], __read(args), false)) || this;\n\n      _this.numCols = 0;\n      _this.numRows = 0;\n      _this.data = null;\n      _this.pwidthCells = [];\n      _this.pWidth = 0;\n      _this.numCols = (0, numeric_js_1.max)(_this.tableRows.map(function (row) {\n        return row.numCells;\n      }));\n      _this.numRows = _this.childNodes.length;\n      _this.hasLabels = _this.childNodes.reduce(function (value, row) {\n        return value || row.node.isKind('mlabeledtr');\n      }, false);\n\n      _this.findContainer();\n\n      _this.isTop = !_this.container || _this.container.node.isKind('math') && !_this.container.parent;\n\n      if (_this.isTop) {\n        _this.jax.table = _this;\n      }\n\n      _this.getPercentageWidth();\n\n      var attributes = _this.node.attributes;\n      _this.frame = attributes.get('frame') !== 'none';\n      _this.fLine = _this.frame && attributes.get('frame') ? .07 : 0;\n      _this.fSpace = _this.frame ? _this.convertLengths(_this.getAttributeArray('framespacing')) : [0, 0];\n      _this.cSpace = _this.convertLengths(_this.getColumnAttributes('columnspacing'));\n      _this.rSpace = _this.convertLengths(_this.getRowAttributes('rowspacing'));\n      _this.cLines = _this.getColumnAttributes('columnlines').map(function (x) {\n        return x === 'none' ? 0 : .07;\n      });\n      _this.rLines = _this.getRowAttributes('rowlines').map(function (x) {\n        return x === 'none' ? 0 : .07;\n      });\n      _this.cWidths = _this.getColumnWidths();\n\n      _this.stretchRows();\n\n      _this.stretchColumns();\n\n      return _this;\n    }\n\n    Object.defineProperty(class_1.prototype, \"tableRows\", {\n      get: function get() {\n        return this.childNodes;\n      },\n      enumerable: false,\n      configurable: true\n    });\n\n    class_1.prototype.findContainer = function () {\n      var node = this;\n      var parent = node.parent;\n\n      while (parent && (parent.node.notParent || parent.node.isKind('mrow'))) {\n        node = parent;\n        parent = parent.parent;\n      }\n\n      this.container = parent;\n      this.containerI = node.node.childPosition();\n    };\n\n    class_1.prototype.getPercentageWidth = function () {\n      if (this.hasLabels) {\n        this.bbox.pwidth = BBox_js_1.BBox.fullWidth;\n      } else {\n        var width = this.node.attributes.get('width');\n\n        if ((0, string_js_1.isPercent)(width)) {\n          this.bbox.pwidth = width;\n        }\n      }\n    };\n\n    class_1.prototype.stretchRows = function () {\n      var equal = this.node.attributes.get('equalrows');\n      var HD = equal ? this.getEqualRowHeight() : 0;\n\n      var _a = equal ? this.getTableData() : {\n        H: [0],\n        D: [0]\n      },\n          H = _a.H,\n          D = _a.D;\n\n      var rows = this.tableRows;\n\n      for (var i = 0; i < this.numRows; i++) {\n        var hd = equal ? [(HD + H[i] - D[i]) / 2, (HD - H[i] + D[i]) / 2] : null;\n        rows[i].stretchChildren(hd);\n      }\n    };\n\n    class_1.prototype.stretchColumns = function () {\n      for (var i = 0; i < this.numCols; i++) {\n        var width = typeof this.cWidths[i] === 'number' ? this.cWidths[i] : null;\n        this.stretchColumn(i, width);\n      }\n    };\n\n    class_1.prototype.stretchColumn = function (i, W) {\n      var e_1, _a, e_2, _b, e_3, _c;\n\n      var stretchy = [];\n\n      try {\n        for (var _d = __values(this.tableRows), _e = _d.next(); !_e.done; _e = _d.next()) {\n          var row = _e.value;\n          var cell = row.getChild(i);\n\n          if (cell) {\n            var child = cell.childNodes[0];\n\n            if (child.stretch.dir === 0 && child.canStretch(2)) {\n              stretchy.push(child);\n            }\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      var count = stretchy.length;\n      var nodeCount = this.childNodes.length;\n\n      if (count && nodeCount > 1) {\n        if (W === null) {\n          W = 0;\n          var all = count > 1 && count === nodeCount;\n\n          try {\n            for (var _f = __values(this.tableRows), _g = _f.next(); !_g.done; _g = _f.next()) {\n              var row = _g.value;\n              var cell = row.getChild(i);\n\n              if (cell) {\n                var child = cell.childNodes[0];\n                var noStretch = child.stretch.dir === 0;\n\n                if (all || noStretch) {\n                  var w = child.getBBox(noStretch).w;\n\n                  if (w > W) {\n                    W = w;\n                  }\n                }\n              }\n            }\n          } catch (e_2_1) {\n            e_2 = {\n              error: e_2_1\n            };\n          } finally {\n            try {\n              if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n            } finally {\n              if (e_2) throw e_2.error;\n            }\n          }\n        }\n\n        try {\n          for (var stretchy_1 = __values(stretchy), stretchy_1_1 = stretchy_1.next(); !stretchy_1_1.done; stretchy_1_1 = stretchy_1.next()) {\n            var child = stretchy_1_1.value;\n            child.coreMO().getStretchedVariant([W]);\n          }\n        } catch (e_3_1) {\n          e_3 = {\n            error: e_3_1\n          };\n        } finally {\n          try {\n            if (stretchy_1_1 && !stretchy_1_1.done && (_c = stretchy_1.return)) _c.call(stretchy_1);\n          } finally {\n            if (e_3) throw e_3.error;\n          }\n        }\n      }\n    };\n\n    class_1.prototype.getTableData = function () {\n      if (this.data) {\n        return this.data;\n      }\n\n      var H = new Array(this.numRows).fill(0);\n      var D = new Array(this.numRows).fill(0);\n      var W = new Array(this.numCols).fill(0);\n      var NH = new Array(this.numRows);\n      var ND = new Array(this.numRows);\n      var LW = [0];\n      var rows = this.tableRows;\n\n      for (var j = 0; j < rows.length; j++) {\n        var M = 0;\n        var row = rows[j];\n        var align = row.node.attributes.get('rowalign');\n\n        for (var i = 0; i < row.numCells; i++) {\n          var cell = row.getChild(i);\n          M = this.updateHDW(cell, i, j, align, H, D, W, M);\n          this.recordPWidthCell(cell, i);\n        }\n\n        NH[j] = H[j];\n        ND[j] = D[j];\n\n        if (row.labeled) {\n          M = this.updateHDW(row.childNodes[0], 0, j, align, H, D, LW, M);\n        }\n\n        this.extendHD(j, H, D, M);\n        this.extendHD(j, NH, ND, M);\n      }\n\n      var L = LW[0];\n      this.data = {\n        H: H,\n        D: D,\n        W: W,\n        NH: NH,\n        ND: ND,\n        L: L\n      };\n      return this.data;\n    };\n\n    class_1.prototype.updateHDW = function (cell, i, j, align, H, D, W, M) {\n      var _a = cell.getBBox(),\n          h = _a.h,\n          d = _a.d,\n          w = _a.w;\n\n      var scale = cell.parent.bbox.rscale;\n\n      if (cell.parent.bbox.rscale !== 1) {\n        h *= scale;\n        d *= scale;\n        w *= scale;\n      }\n\n      if (this.node.getProperty('useHeight')) {\n        if (h < .75) h = .75;\n        if (d < .25) d = .25;\n      }\n\n      var m = 0;\n      align = cell.node.attributes.get('rowalign') || align;\n\n      if (align !== 'baseline' && align !== 'axis') {\n        m = h + d;\n        h = d = 0;\n      }\n\n      if (h > H[j]) H[j] = h;\n      if (d > D[j]) D[j] = d;\n      if (m > M) M = m;\n      if (W && w > W[i]) W[i] = w;\n      return M;\n    };\n\n    class_1.prototype.extendHD = function (i, H, D, M) {\n      var d = (M - (H[i] + D[i])) / 2;\n      if (d < .00001) return;\n      H[i] += d;\n      D[i] += d;\n    };\n\n    class_1.prototype.recordPWidthCell = function (cell, i) {\n      if (cell.childNodes[0] && cell.childNodes[0].getBBox().pwidth) {\n        this.pwidthCells.push([cell, i]);\n      }\n    };\n\n    class_1.prototype.computeBBox = function (bbox, _recompute) {\n      if (_recompute === void 0) {\n        _recompute = false;\n      }\n\n      var _a = this.getTableData(),\n          H = _a.H,\n          D = _a.D;\n\n      var height, width;\n\n      if (this.node.attributes.get('equalrows')) {\n        var HD = this.getEqualRowHeight();\n        height = (0, numeric_js_1.sum)([].concat(this.rLines, this.rSpace)) + HD * this.numRows;\n      } else {\n        height = (0, numeric_js_1.sum)(H.concat(D, this.rLines, this.rSpace));\n      }\n\n      height += 2 * (this.fLine + this.fSpace[1]);\n      var CW = this.getComputedWidths();\n      width = (0, numeric_js_1.sum)(CW.concat(this.cLines, this.cSpace)) + 2 * (this.fLine + this.fSpace[0]);\n      var w = this.node.attributes.get('width');\n\n      if (w !== 'auto') {\n        width = Math.max(this.length2em(w, 0) + 2 * this.fLine, width);\n      }\n\n      var _b = __read(this.getBBoxHD(height), 2),\n          h = _b[0],\n          d = _b[1];\n\n      bbox.h = h;\n      bbox.d = d;\n      bbox.w = width;\n\n      var _c = __read(this.getBBoxLR(), 2),\n          L = _c[0],\n          R = _c[1];\n\n      bbox.L = L;\n      bbox.R = R;\n\n      if (!(0, string_js_1.isPercent)(w)) {\n        this.setColumnPWidths();\n      }\n    };\n\n    class_1.prototype.setChildPWidths = function (_recompute, cwidth, _clear) {\n      var width = this.node.attributes.get('width');\n      if (!(0, string_js_1.isPercent)(width)) return false;\n\n      if (!this.hasLabels) {\n        this.bbox.pwidth = '';\n        this.container.bbox.pwidth = '';\n      }\n\n      var _a = this.bbox,\n          w = _a.w,\n          L = _a.L,\n          R = _a.R;\n      var labelInWidth = this.node.attributes.get('data-width-includes-label');\n      var W = Math.max(w, this.length2em(width, Math.max(cwidth, L + w + R))) - (labelInWidth ? L + R : 0);\n      var cols = this.node.attributes.get('equalcolumns') ? Array(this.numCols).fill(this.percent(1 / Math.max(1, this.numCols))) : this.getColumnAttributes('columnwidth', 0);\n      this.cWidths = this.getColumnWidthsFixed(cols, W);\n      var CW = this.getComputedWidths();\n      this.pWidth = (0, numeric_js_1.sum)(CW.concat(this.cLines, this.cSpace)) + 2 * (this.fLine + this.fSpace[0]);\n\n      if (this.isTop) {\n        this.bbox.w = this.pWidth;\n      }\n\n      this.setColumnPWidths();\n\n      if (this.pWidth !== w) {\n        this.parent.invalidateBBox();\n      }\n\n      return this.pWidth !== w;\n    };\n\n    class_1.prototype.setColumnPWidths = function () {\n      var e_4, _a;\n\n      var W = this.cWidths;\n\n      try {\n        for (var _b = __values(this.pwidthCells), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var _d = __read(_c.value, 2),\n              cell = _d[0],\n              i = _d[1];\n\n          if (cell.setChildPWidths(false, W[i])) {\n            cell.invalidateBBox();\n            cell.getBBox();\n          }\n        }\n      } catch (e_4_1) {\n        e_4 = {\n          error: e_4_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_4) throw e_4.error;\n        }\n      }\n    };\n\n    class_1.prototype.getBBoxHD = function (height) {\n      var _a = __read(this.getAlignmentRow(), 2),\n          align = _a[0],\n          row = _a[1];\n\n      if (row === null) {\n        var a = this.font.params.axis_height;\n        var h2 = height / 2;\n        var HD = {\n          top: [0, height],\n          center: [h2, h2],\n          bottom: [height, 0],\n          baseline: [h2, h2],\n          axis: [h2 + a, h2 - a]\n        };\n        return HD[align] || [h2, h2];\n      } else {\n        var y = this.getVerticalPosition(row, align);\n        return [y, height - y];\n      }\n    };\n\n    class_1.prototype.getBBoxLR = function () {\n      if (this.hasLabels) {\n        var attributes = this.node.attributes;\n        var side = attributes.get('side');\n\n        var _a = __read(this.getPadAlignShift(side), 2),\n            pad = _a[0],\n            align = _a[1];\n\n        var labels = this.hasLabels && !!attributes.get('data-width-includes-label');\n\n        if (labels && this.frame && this.fSpace[0]) {\n          pad -= this.fSpace[0];\n        }\n\n        return align === 'center' && !labels ? [pad, pad] : side === 'left' ? [pad, 0] : [0, pad];\n      }\n\n      return [0, 0];\n    };\n\n    class_1.prototype.getPadAlignShift = function (side) {\n      var L = this.getTableData().L;\n      var sep = this.length2em(this.node.attributes.get('minlabelspacing'));\n      var pad = L + sep;\n\n      var _a = __read(this.styles == null ? ['', ''] : [this.styles.get('padding-left'), this.styles.get('padding-right')], 2),\n          lpad = _a[0],\n          rpad = _a[1];\n\n      if (lpad || rpad) {\n        pad = Math.max(pad, this.length2em(lpad || '0'), this.length2em(rpad || '0'));\n      }\n\n      var _b = __read(this.getAlignShift(), 2),\n          align = _b[0],\n          shift = _b[1];\n\n      if (align === side) {\n        shift = side === 'left' ? Math.max(pad, shift) - pad : Math.min(-pad, shift) + pad;\n      }\n\n      return [pad, align, shift];\n    };\n\n    class_1.prototype.getAlignShift = function () {\n      return this.isTop ? _super.prototype.getAlignShift.call(this) : [this.container.getChildAlign(this.containerI), 0];\n    };\n\n    class_1.prototype.getWidth = function () {\n      return this.pWidth || this.getBBox().w;\n    };\n\n    class_1.prototype.getEqualRowHeight = function () {\n      var _a = this.getTableData(),\n          H = _a.H,\n          D = _a.D;\n\n      var HD = Array.from(H.keys()).map(function (i) {\n        return H[i] + D[i];\n      });\n      return Math.max.apply(Math, HD);\n    };\n\n    class_1.prototype.getComputedWidths = function () {\n      var _this = this;\n\n      var W = this.getTableData().W;\n      var CW = Array.from(W.keys()).map(function (i) {\n        return typeof _this.cWidths[i] === 'number' ? _this.cWidths[i] : W[i];\n      });\n\n      if (this.node.attributes.get('equalcolumns')) {\n        CW = Array(CW.length).fill((0, numeric_js_1.max)(CW));\n      }\n\n      return CW;\n    };\n\n    class_1.prototype.getColumnWidths = function () {\n      var width = this.node.attributes.get('width');\n\n      if (this.node.attributes.get('equalcolumns')) {\n        return this.getEqualColumns(width);\n      }\n\n      var swidths = this.getColumnAttributes('columnwidth', 0);\n\n      if (width === 'auto') {\n        return this.getColumnWidthsAuto(swidths);\n      }\n\n      if ((0, string_js_1.isPercent)(width)) {\n        return this.getColumnWidthsPercent(swidths);\n      }\n\n      return this.getColumnWidthsFixed(swidths, this.length2em(width));\n    };\n\n    class_1.prototype.getEqualColumns = function (width) {\n      var n = Math.max(1, this.numCols);\n      var cwidth;\n\n      if (width === 'auto') {\n        var W = this.getTableData().W;\n        cwidth = (0, numeric_js_1.max)(W);\n      } else if ((0, string_js_1.isPercent)(width)) {\n        cwidth = this.percent(1 / n);\n      } else {\n        var w = (0, numeric_js_1.sum)([].concat(this.cLines, this.cSpace)) + 2 * this.fSpace[0];\n        cwidth = Math.max(0, this.length2em(width) - w) / n;\n      }\n\n      return Array(this.numCols).fill(cwidth);\n    };\n\n    class_1.prototype.getColumnWidthsAuto = function (swidths) {\n      var _this = this;\n\n      return swidths.map(function (x) {\n        if (x === 'auto' || x === 'fit') return null;\n        if ((0, string_js_1.isPercent)(x)) return x;\n        return _this.length2em(x);\n      });\n    };\n\n    class_1.prototype.getColumnWidthsPercent = function (swidths) {\n      var _this = this;\n\n      var hasFit = swidths.indexOf('fit') >= 0;\n      var W = (hasFit ? this.getTableData() : {\n        W: null\n      }).W;\n      return Array.from(swidths.keys()).map(function (i) {\n        var x = swidths[i];\n        if (x === 'fit') return null;\n        if (x === 'auto') return hasFit ? W[i] : null;\n        if ((0, string_js_1.isPercent)(x)) return x;\n        return _this.length2em(x);\n      });\n    };\n\n    class_1.prototype.getColumnWidthsFixed = function (swidths, width) {\n      var _this = this;\n\n      var indices = Array.from(swidths.keys());\n      var fit = indices.filter(function (i) {\n        return swidths[i] === 'fit';\n      });\n      var auto = indices.filter(function (i) {\n        return swidths[i] === 'auto';\n      });\n      var n = fit.length || auto.length;\n      var W = (n ? this.getTableData() : {\n        W: null\n      }).W;\n      var cwidth = width - (0, numeric_js_1.sum)([].concat(this.cLines, this.cSpace)) - 2 * this.fSpace[0];\n      var dw = cwidth;\n      indices.forEach(function (i) {\n        var x = swidths[i];\n        dw -= x === 'fit' || x === 'auto' ? W[i] : _this.length2em(x, cwidth);\n      });\n      var fw = n && dw > 0 ? dw / n : 0;\n      return indices.map(function (i) {\n        var x = swidths[i];\n        if (x === 'fit') return W[i] + fw;\n        if (x === 'auto') return W[i] + (fit.length === 0 ? fw : 0);\n        return _this.length2em(x, cwidth);\n      });\n    };\n\n    class_1.prototype.getVerticalPosition = function (i, align) {\n      var equal = this.node.attributes.get('equalrows');\n\n      var _a = this.getTableData(),\n          H = _a.H,\n          D = _a.D;\n\n      var HD = equal ? this.getEqualRowHeight() : 0;\n      var space = this.getRowHalfSpacing();\n      var y = this.fLine;\n\n      for (var j = 0; j < i; j++) {\n        y += space[j] + (equal ? HD : H[j] + D[j]) + space[j + 1] + this.rLines[j];\n      }\n\n      var _b = __read(equal ? [(HD + H[i] - D[i]) / 2, (HD - H[i] + D[i]) / 2] : [H[i], D[i]], 2),\n          h = _b[0],\n          d = _b[1];\n\n      var offset = {\n        top: 0,\n        center: space[i] + (h + d) / 2,\n        bottom: space[i] + h + d + space[i + 1],\n        baseline: space[i] + h,\n        axis: space[i] + h - .25\n      };\n      y += offset[align] || 0;\n      return y;\n    };\n\n    class_1.prototype.getEmHalfSpacing = function (fspace, space, scale) {\n      if (scale === void 0) {\n        scale = 1;\n      }\n\n      var fspaceEm = this.em(fspace * scale);\n      var spaceEm = this.addEm(space, 2 / scale);\n      spaceEm.unshift(fspaceEm);\n      spaceEm.push(fspaceEm);\n      return spaceEm;\n    };\n\n    class_1.prototype.getRowHalfSpacing = function () {\n      var space = this.rSpace.map(function (x) {\n        return x / 2;\n      });\n      space.unshift(this.fSpace[1]);\n      space.push(this.fSpace[1]);\n      return space;\n    };\n\n    class_1.prototype.getColumnHalfSpacing = function () {\n      var space = this.cSpace.map(function (x) {\n        return x / 2;\n      });\n      space.unshift(this.fSpace[0]);\n      space.push(this.fSpace[0]);\n      return space;\n    };\n\n    class_1.prototype.getAlignmentRow = function () {\n      var _a = __read((0, string_js_1.split)(this.node.attributes.get('align')), 2),\n          align = _a[0],\n          row = _a[1];\n\n      if (row == null) return [align, null];\n      var i = parseInt(row);\n      if (i < 0) i += this.numRows + 1;\n      return [align, i < 1 || i > this.numRows ? null : i - 1];\n    };\n\n    class_1.prototype.getColumnAttributes = function (name, i) {\n      if (i === void 0) {\n        i = 1;\n      }\n\n      var n = this.numCols - i;\n      var columns = this.getAttributeArray(name);\n      if (columns.length === 0) return null;\n\n      while (columns.length < n) {\n        columns.push(columns[columns.length - 1]);\n      }\n\n      if (columns.length > n) {\n        columns.splice(n);\n      }\n\n      return columns;\n    };\n\n    class_1.prototype.getRowAttributes = function (name, i) {\n      if (i === void 0) {\n        i = 1;\n      }\n\n      var n = this.numRows - i;\n      var rows = this.getAttributeArray(name);\n      if (rows.length === 0) return null;\n\n      while (rows.length < n) {\n        rows.push(rows[rows.length - 1]);\n      }\n\n      if (rows.length > n) {\n        rows.splice(n);\n      }\n\n      return rows;\n    };\n\n    class_1.prototype.getAttributeArray = function (name) {\n      var value = this.node.attributes.get(name);\n      if (!value) return [this.node.attributes.getDefault(name)];\n      return (0, string_js_1.split)(value);\n    };\n\n    class_1.prototype.addEm = function (list, n) {\n      var _this = this;\n\n      if (n === void 0) {\n        n = 1;\n      }\n\n      if (!list) return null;\n      return list.map(function (x) {\n        return _this.em(x / n);\n      });\n    };\n\n    class_1.prototype.convertLengths = function (list) {\n      var _this = this;\n\n      if (!list) return null;\n      return list.map(function (x) {\n        return _this.length2em(x);\n      });\n    };\n\n    return class_1;\n  }(Base);\n}\n\nexports.CommonMtableMixin = CommonMtableMixin;","map":{"version":3,"mappings":"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","names":["CommonMtableMixin","Base","__extends","args","_this","numCols","tableRows","map","numCells","numRows","childNodes","length","hasLabels","reduce","value","row","node","isKind","findContainer","isTop","container","parent","jax","table","getPercentageWidth","attributes","frame","get","fLine","fSpace","convertLengths","getAttributeArray","cSpace","getColumnAttributes","rSpace","getRowAttributes","cLines","x","rLines","cWidths","getColumnWidths","stretchRows","stretchColumns","Object","class_1","notParent","containerI","childPosition","bbox","pwidth","BBox_js_1","fullWidth","width","equal","HD","getEqualRowHeight","getTableData","H","D","rows","i","hd","stretchChildren","stretchColumn","W","stretchy","_e","cell","getChild","child","stretch","dir","canStretch","push","count","nodeCount","all","_g","noStretch","getBBox","w","stretchy_1_1","coreMO","getStretchedVariant","data","Array","fill","NH","ND","LW","j","M","align","updateHDW","recordPWidthCell","labeled","extendHD","L","h","d","scale","rscale","getProperty","m","pwidthCells","_recompute","height","concat","CW","getComputedWidths","Math","max","length2em","getBBoxHD","getBBoxLR","R","setColumnPWidths","cwidth","_clear","labelInWidth","cols","percent","getColumnWidthsFixed","pWidth","invalidateBBox","_c","setChildPWidths","getAlignmentRow","a","font","params","axis_height","h2","top","center","bottom","baseline","axis","y","getVerticalPosition","side","getPadAlignShift","pad","labels","sep","styles","lpad","rpad","getAlignShift","shift","min","_super","call","getChildAlign","from","keys","apply","getEqualColumns","swidths","getColumnWidthsAuto","getColumnWidthsPercent","n","hasFit","indexOf","indices","fit","filter","auto","dw","forEach","fw","space","getRowHalfSpacing","offset","fspace","fspaceEm","em","spaceEm","addEm","unshift","parseInt","name","columns","splice","getDefault","list","exports"],"sourceRoot":"","sources":["../../../../ts/output/common/Wrappers/mtable.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}