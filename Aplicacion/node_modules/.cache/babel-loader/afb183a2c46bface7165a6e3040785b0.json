{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SVGmtable = void 0;\n\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\n\nvar mtable_js_1 = require(\"../../common/Wrappers/mtable.js\");\n\nvar mtable_js_2 = require(\"../../../core/MmlTree/MmlNodes/mtable.js\");\n\nvar CLASSPREFIX = 'mjx-';\n\nvar SVGmtable = function (_super) {\n  __extends(SVGmtable, _super);\n\n  function SVGmtable(factory, node, parent) {\n    if (parent === void 0) {\n      parent = null;\n    }\n\n    var _this = _super.call(this, factory, node, parent) || this;\n\n    var def = {\n      'data-labels': true\n    };\n\n    if (_this.isTop) {\n      def.transform = 'matrix(1 0 0 -1 0 0)';\n    }\n\n    _this.labels = _this.svg('g', def);\n    return _this;\n  }\n\n  SVGmtable.prototype.toSVG = function (parent) {\n    var svg = this.standardSVGnode(parent);\n    this.placeRows(svg);\n    this.handleColumnLines(svg);\n    this.handleRowLines(svg);\n    this.handleFrame(svg);\n    var dx = this.handlePWidth(svg);\n    this.handleLabels(svg, parent, dx);\n  };\n\n  SVGmtable.prototype.placeRows = function (svg) {\n    var _a, _b, _c;\n\n    var equal = this.node.attributes.get('equalrows');\n\n    var _d = this.getTableData(),\n        H = _d.H,\n        D = _d.D;\n\n    var HD = this.getEqualRowHeight();\n    var rSpace = this.getRowHalfSpacing();\n\n    var rLines = __spreadArray(__spreadArray([this.fLine], __read(this.rLines), false), [this.fLine], false);\n\n    var y = this.getBBox().h - rLines[0];\n\n    for (var i = 0; i < this.numRows; i++) {\n      var row = this.childNodes[i];\n      _a = __read(this.getRowHD(equal, HD, H[i], D[i]), 2), row.H = _a[0], row.D = _a[1];\n      _b = __read([rSpace[i], rSpace[i + 1]], 2), row.tSpace = _b[0], row.bSpace = _b[1];\n      _c = __read([rLines[i], rLines[i + 1]], 2), row.tLine = _c[0], row.bLine = _c[1];\n      row.toSVG(svg);\n      row.place(0, y - rSpace[i] - row.H);\n      y -= rSpace[i] + row.H + row.D + rSpace[i + 1] + rLines[i + 1];\n    }\n  };\n\n  SVGmtable.prototype.getRowHD = function (equal, HD, H, D) {\n    return equal ? [(HD + H - D) / 2, (HD - H + D) / 2] : [H, D];\n  };\n\n  SVGmtable.prototype.handleColor = function () {\n    _super.prototype.handleColor.call(this);\n\n    var rect = this.firstChild();\n\n    if (rect) {\n      this.adaptor.setAttribute(rect, 'width', this.fixed(this.getWidth()));\n    }\n  };\n\n  SVGmtable.prototype.handleColumnLines = function (svg) {\n    if (this.node.attributes.get('columnlines') === 'none') return;\n    var lines = this.getColumnAttributes('columnlines');\n    if (!lines) return;\n    var cSpace = this.getColumnHalfSpacing();\n    var cLines = this.cLines;\n    var cWidth = this.getComputedWidths();\n    var x = this.fLine;\n\n    for (var i = 0; i < lines.length; i++) {\n      x += cSpace[i] + cWidth[i] + cSpace[i + 1];\n\n      if (lines[i] !== 'none') {\n        this.adaptor.append(svg, this.makeVLine(x, lines[i], cLines[i]));\n      }\n\n      x += cLines[i];\n    }\n  };\n\n  SVGmtable.prototype.handleRowLines = function (svg) {\n    if (this.node.attributes.get('rowlines') === 'none') return;\n    var lines = this.getRowAttributes('rowlines');\n    if (!lines) return;\n    var equal = this.node.attributes.get('equalrows');\n\n    var _a = this.getTableData(),\n        H = _a.H,\n        D = _a.D;\n\n    var HD = this.getEqualRowHeight();\n    var rSpace = this.getRowHalfSpacing();\n    var rLines = this.rLines;\n    var y = this.getBBox().h - this.fLine;\n\n    for (var i = 0; i < lines.length; i++) {\n      var _b = __read(this.getRowHD(equal, HD, H[i], D[i]), 2),\n          rH = _b[0],\n          rD = _b[1];\n\n      y -= rSpace[i] + rH + rD + rSpace[i + 1];\n\n      if (lines[i] !== 'none') {\n        this.adaptor.append(svg, this.makeHLine(y, lines[i], rLines[i]));\n      }\n\n      y -= rLines[i];\n    }\n  };\n\n  SVGmtable.prototype.handleFrame = function (svg) {\n    if (this.frame && this.fLine) {\n      var _a = this.getBBox(),\n          h = _a.h,\n          d = _a.d,\n          w = _a.w;\n\n      var style = this.node.attributes.get('frame');\n      this.adaptor.append(svg, this.makeFrame(w, h, d, style));\n    }\n  };\n\n  SVGmtable.prototype.handlePWidth = function (svg) {\n    if (!this.pWidth) {\n      return 0;\n    }\n\n    var _a = this.getBBox(),\n        w = _a.w,\n        L = _a.L,\n        R = _a.R;\n\n    var W = L + this.pWidth + R;\n    var align = this.getAlignShift()[0];\n    var CW = Math.max(this.isTop ? W : 0, this.container.getWrapWidth(this.containerI)) - L - R;\n    var dw = w - (this.pWidth > CW ? CW : this.pWidth);\n    var dx = align === 'left' ? 0 : align === 'right' ? dw : dw / 2;\n\n    if (dx) {\n      var table = this.svg('g', {}, this.adaptor.childNodes(svg));\n      this.place(dx, 0, table);\n      this.adaptor.append(svg, table);\n    }\n\n    return dx;\n  };\n\n  SVGmtable.prototype.lineClass = function (style) {\n    return CLASSPREFIX + style;\n  };\n\n  SVGmtable.prototype.makeFrame = function (w, h, d, style) {\n    var t = this.fLine;\n    return this.svg('rect', this.setLineThickness(t, style, {\n      'data-frame': true,\n      'class': this.lineClass(style),\n      width: this.fixed(w - t),\n      height: this.fixed(h + d - t),\n      x: this.fixed(t / 2),\n      y: this.fixed(t / 2 - d)\n    }));\n  };\n\n  SVGmtable.prototype.makeVLine = function (x, style, t) {\n    var _a = this.getBBox(),\n        h = _a.h,\n        d = _a.d;\n\n    var dt = style === 'dotted' ? t / 2 : 0;\n    var X = this.fixed(x + t / 2);\n    return this.svg('line', this.setLineThickness(t, style, {\n      'data-line': 'v',\n      'class': this.lineClass(style),\n      x1: X,\n      y1: this.fixed(dt - d),\n      x2: X,\n      y2: this.fixed(h - dt)\n    }));\n  };\n\n  SVGmtable.prototype.makeHLine = function (y, style, t) {\n    var w = this.getBBox().w;\n    var dt = style === 'dotted' ? t / 2 : 0;\n    var Y = this.fixed(y - t / 2);\n    return this.svg('line', this.setLineThickness(t, style, {\n      'data-line': 'h',\n      'class': this.lineClass(style),\n      x1: this.fixed(dt),\n      y1: Y,\n      x2: this.fixed(w - dt),\n      y2: Y\n    }));\n  };\n\n  SVGmtable.prototype.setLineThickness = function (t, style, properties) {\n    if (t !== .07) {\n      properties['stroke-thickness'] = this.fixed(t);\n\n      if (style !== 'solid') {\n        properties['stroke-dasharray'] = (style === 'dotted' ? '0,' : '') + this.fixed(2 * t);\n      }\n    }\n\n    return properties;\n  };\n\n  SVGmtable.prototype.handleLabels = function (svg, _parent, dx) {\n    if (!this.hasLabels) return;\n    var labels = this.labels;\n    var attributes = this.node.attributes;\n    var side = attributes.get('side');\n    this.spaceLabels();\n    this.isTop ? this.topTable(svg, labels, side) : this.subTable(svg, labels, side, dx);\n  };\n\n  SVGmtable.prototype.spaceLabels = function () {\n    var adaptor = this.adaptor;\n    var h = this.getBBox().h;\n    var L = this.getTableData().L;\n    var space = this.getRowHalfSpacing();\n    var y = h - this.fLine;\n    var current = adaptor.firstChild(this.labels);\n\n    for (var i = 0; i < this.numRows; i++) {\n      var row = this.childNodes[i];\n\n      if (row.node.isKind('mlabeledtr')) {\n        var cell = row.childNodes[0];\n        y -= space[i] + row.H;\n        row.placeCell(cell, {\n          x: 0,\n          y: y,\n          w: L,\n          lSpace: 0,\n          rSpace: 0,\n          lLine: 0,\n          rLine: 0\n        });\n        y -= row.D + space[i + 1] + this.rLines[i];\n        current = adaptor.next(current);\n      } else {\n        y -= space[i] + row.H + row.D + space[i + 1] + this.rLines[i];\n      }\n    }\n  };\n\n  SVGmtable.prototype.topTable = function (svg, labels, side) {\n    var adaptor = this.adaptor;\n\n    var _a = this.getBBox(),\n        h = _a.h,\n        d = _a.d,\n        w = _a.w,\n        L = _a.L,\n        R = _a.R;\n\n    var W = L + (this.pWidth || w) + R;\n    var LW = this.getTableData().L;\n\n    var _b = __read(this.getPadAlignShift(side), 3),\n        align = _b[1],\n        shift = _b[2];\n\n    var dx = shift + (align === 'right' ? -W : align === 'center' ? -W / 2 : 0) + L;\n    var matrix = 'matrix(1 0 0 -1 0 0)';\n    var scale = \"scale(\".concat(this.jax.fixed(this.font.params.x_height * 1000 / this.metrics.ex, 2), \")\");\n    var transform = \"translate(0 \".concat(this.fixed(h), \") \").concat(matrix, \" \").concat(scale);\n    var table = this.svg('svg', {\n      'data-table': true,\n      preserveAspectRatio: align === 'left' ? 'xMinYMid' : align === 'right' ? 'xMaxYMid' : 'xMidYMid',\n      viewBox: [this.fixed(-dx), this.fixed(-h), 1, this.fixed(h + d)].join(' ')\n    }, [this.svg('g', {\n      transform: matrix\n    }, adaptor.childNodes(svg))]);\n    labels = this.svg('svg', {\n      'data-labels': true,\n      preserveAspectRatio: side === 'left' ? 'xMinYMid' : 'xMaxYMid',\n      viewBox: [side === 'left' ? 0 : this.fixed(LW), this.fixed(-h), 1, this.fixed(h + d)].join(' ')\n    }, [labels]);\n    adaptor.append(svg, this.svg('g', {\n      transform: transform\n    }, [table, labels]));\n    this.place(-L, 0, svg);\n  };\n\n  SVGmtable.prototype.subTable = function (svg, labels, side, dx) {\n    var adaptor = this.adaptor;\n\n    var _a = this.getBBox(),\n        w = _a.w,\n        L = _a.L,\n        R = _a.R;\n\n    var W = L + (this.pWidth || w) + R;\n    var labelW = this.getTableData().L;\n    var align = this.getAlignShift()[0];\n    var CW = Math.max(W, this.container.getWrapWidth(this.containerI));\n    this.place(side === 'left' ? (align === 'left' ? 0 : align === 'right' ? W - CW + dx : (W - CW) / 2 + dx) - L : (align === 'left' ? CW : align === 'right' ? W + dx : (CW + W) / 2 + dx) - L - labelW, 0, labels);\n    adaptor.append(svg, labels);\n  };\n\n  SVGmtable.kind = mtable_js_2.MmlMtable.prototype.kind;\n  SVGmtable.styles = {\n    'g[data-mml-node=\"mtable\"] > line[data-line], svg[data-table] > g > line[data-line]': {\n      'stroke-width': '70px',\n      fill: 'none'\n    },\n    'g[data-mml-node=\"mtable\"] > rect[data-frame], svg[data-table] > g > rect[data-frame]': {\n      'stroke-width': '70px',\n      fill: 'none'\n    },\n    'g[data-mml-node=\"mtable\"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed': {\n      'stroke-dasharray': '140'\n    },\n    'g[data-mml-node=\"mtable\"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted': {\n      'stroke-linecap': 'round',\n      'stroke-dasharray': '0,140'\n    },\n    'g[data-mml-node=\"mtable\"] > g > svg': {\n      overflow: 'visible'\n    }\n  };\n  return SVGmtable;\n}((0, mtable_js_1.CommonMtableMixin)(Wrapper_js_1.SVGWrapper));\n\nexports.SVGmtable = SVGmtable;","map":{"version":3,"mappings":"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","names":["CLASSPREFIX","__extends","factory","node","parent","_super","def","_this","isTop","transform","labels","svg","SVGmtable","standardSVGnode","placeRows","handleColumnLines","handleRowLines","handleFrame","dx","handlePWidth","handleLabels","equal","attributes","get","getTableData","H","D","HD","getEqualRowHeight","rSpace","getRowHalfSpacing","rLines","fLine","__read","y","getBBox","h","i","numRows","row","childNodes","_a","getRowHD","_b","tSpace","bSpace","_c","tLine","bLine","toSVG","place","handleColor","call","rect","firstChild","adaptor","setAttribute","fixed","getWidth","lines","getColumnAttributes","cSpace","getColumnHalfSpacing","cLines","cWidth","getComputedWidths","x","length","append","makeVLine","getRowAttributes","rH","rD","makeHLine","frame","d","w","style","makeFrame","pWidth","L","R","W","align","getAlignShift","CW","Math","max","container","getWrapWidth","containerI","dw","table","t","setLineThickness","lineClass","width","height","dt","X","x1","y1","x2","y2","Y","properties","_parent","hasLabels","side","spaceLabels","topTable","subTable","space","current","isKind","cell","placeCell","lSpace","lLine","rLine","next","LW","getPadAlignShift","shift","matrix","scale","jax","font","params","x_height","metrics","ex","concat","preserveAspectRatio","viewBox","join","labelW","mtable_js_2","prototype","kind","fill","overflow","Wrapper_js_1","exports"],"sourceRoot":"","sources":["../../../../ts/output/svg/Wrappers/mtable.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}